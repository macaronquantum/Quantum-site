{"dependencies":[{"name":"@babel/runtime/helpers/objectWithoutPropertiesLoose","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"HFkXuFcBAqfzGtqyPj8g62MKT0M=","exportNames":["*"],"imports":1}},{"name":"../../utils/signature/hashMessage.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":67,"index":67}}],"key":"HWo3UjFOo4MsHmS/bYn4lXoJI7U=","exportNames":["*"],"imports":1}},{"name":"../../utils/siwe/parseSiweMessage.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":68},"end":{"line":2,"column":72,"index":140}}],"key":"EbyQfkYWNmTOVxt0go6qcHY8/DU=","exportNames":["*"],"imports":1}},{"name":"../../utils/siwe/validateSiweMessage.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":141},"end":{"line":3,"column":79,"index":220}}],"key":"sZj+ThuXZBGjAPcxtCX0SiewRxU=","exportNames":["*"],"imports":1}},{"name":"../public/verifyHash.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":221},"end":{"line":4,"column":54,"index":275}}],"key":"WTZZtOpnOOg39AHKGViWPmgHikY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  const _excluded = [\"address\", \"domain\", \"message\", \"nonce\", \"scheme\", \"signature\", \"time\"];\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.verifySiweMessage = verifySiweMessage;\n  var _babelRuntimeHelpersObjectWithoutPropertiesLoose = require(_dependencyMap[0], \"@babel/runtime/helpers/objectWithoutPropertiesLoose\");\n  var _objectWithoutPropertiesLoose = _interopDefault(_babelRuntimeHelpersObjectWithoutPropertiesLoose);\n  var _utilsSignatureHashMessageJs = require(_dependencyMap[1], \"../../utils/signature/hashMessage.js\");\n  var _utilsSiweParseSiweMessageJs = require(_dependencyMap[2], \"../../utils/siwe/parseSiweMessage.js\");\n  var _utilsSiweValidateSiweMessageJs = require(_dependencyMap[3], \"../../utils/siwe/validateSiweMessage.js\");\n  var _publicVerifyHashJs = require(_dependencyMap[4], \"../public/verifyHash.js\");\n  /**\n   * Verifies [EIP-4361](https://eips.ethereum.org/EIPS/eip-4361) formatted message was signed.\n   *\n   * Compatible with Smart Contract Accounts & Externally Owned Accounts via [ERC-6492](https://eips.ethereum.org/EIPS/eip-6492).\n   *\n   * - Docs {@link https://viem.sh/docs/siwe/actions/verifySiweMessage}\n   *\n   * @param client - Client to use.\n   * @param parameters - {@link VerifySiweMessageParameters}\n   * @returns Whether or not the signature is valid. {@link VerifySiweMessageReturnType}\n   */\n  async function verifySiweMessage(client, parameters) {\n    const {\n        address,\n        domain,\n        message,\n        nonce,\n        scheme,\n        signature,\n        time = new Date()\n      } = parameters,\n      callRequest = (0, _objectWithoutPropertiesLoose.default)(parameters, _excluded);\n    const parsed = (0, _utilsSiweParseSiweMessageJs.parseSiweMessage)(message);\n    if (!parsed.address) return false;\n    const isValid = (0, _utilsSiweValidateSiweMessageJs.validateSiweMessage)({\n      address,\n      domain,\n      message: parsed,\n      nonce,\n      scheme,\n      time\n    });\n    if (!isValid) return false;\n    const hash = (0, _utilsSignatureHashMessageJs.hashMessage)(message);\n    return (0, _publicVerifyHashJs.verifyHash)(client, Object.assign({\n      address: parsed.address,\n      hash,\n      signature\n    }, callRequest));\n  }\n});","lineCount":60,"map":[[13,2,16,0,"exports"],[13,9,16,0],[13,10,16,0,"verifySiweMessage"],[13,27,16,0],[13,30,16,0,"verifySiweMessage"],[13,47,16,0],[14,2,38,1],[14,6,38,1,"_babelRuntimeHelpersObjectWithoutPropertiesLoose"],[14,54,38,1],[14,57,38,1,"require"],[14,64,38,1],[14,65,38,1,"_dependencyMap"],[14,79,38,1],[15,2,38,1],[15,6,38,1,"_objectWithoutPropertiesLoose"],[15,35,38,1],[15,38,38,1,"_interopDefault"],[15,53,38,1],[15,54,38,1,"_babelRuntimeHelpersObjectWithoutPropertiesLoose"],[15,102,38,1],[16,2,1,0],[16,6,1,0,"_utilsSignatureHashMessageJs"],[16,34,1,0],[16,37,1,0,"require"],[16,44,1,0],[16,45,1,0,"_dependencyMap"],[16,59,1,0],[17,2,2,0],[17,6,2,0,"_utilsSiweParseSiweMessageJs"],[17,34,2,0],[17,37,2,0,"require"],[17,44,2,0],[17,45,2,0,"_dependencyMap"],[17,59,2,0],[18,2,3,0],[18,6,3,0,"_utilsSiweValidateSiweMessageJs"],[18,37,3,0],[18,40,3,0,"require"],[18,47,3,0],[18,48,3,0,"_dependencyMap"],[18,62,3,0],[19,2,4,0],[19,6,4,0,"_publicVerifyHashJs"],[19,25,4,0],[19,28,4,0,"require"],[19,35,4,0],[19,36,4,0,"_dependencyMap"],[19,50,4,0],[20,2,5,0],[21,0,6,0],[22,0,7,0],[23,0,8,0],[24,0,9,0],[25,0,10,0],[26,0,11,0],[27,0,12,0],[28,0,13,0],[29,0,14,0],[30,0,15,0],[31,2,16,7],[31,17,16,22,"verifySiweMessage"],[31,34,16,39,"verifySiweMessage"],[31,35,16,40,"client"],[31,41,16,46],[31,43,16,48,"parameters"],[31,53,16,58],[31,55,16,60],[32,4,17,4],[32,10,17,10],[33,8,17,12,"address"],[33,15,17,19],[34,8,17,21,"domain"],[34,14,17,27],[35,8,17,29,"message"],[35,15,17,36],[36,8,17,38,"nonce"],[36,13,17,43],[37,8,17,45,"scheme"],[37,14,17,51],[38,8,17,53,"signature"],[38,17,17,62],[39,8,17,64,"time"],[39,12,17,68],[39,15,17,71],[39,19,17,75,"Date"],[39,23,17,79],[39,24,17,80],[40,6,17,98],[40,7,17,99],[40,10,17,102,"parameters"],[40,20,17,112],[41,6,17,86,"callRequest"],[41,17,17,97],[41,24,17,97,"_objectWithoutPropertiesLoose"],[41,53,17,97],[41,54,17,97,"default"],[41,61,17,97],[41,63,17,102,"parameters"],[41,73,17,112],[41,75,17,112,"_excluded"],[41,84,17,112],[42,4,18,4],[42,10,18,10,"parsed"],[42,16,18,16],[42,19,18,19],[42,23,18,19,"parseSiweMessage"],[42,51,18,35],[42,52,18,35,"parseSiweMessage"],[42,68,18,35],[42,70,18,36,"message"],[42,77,18,43],[42,78,18,44],[43,4,19,4],[43,8,19,8],[43,9,19,9,"parsed"],[43,15,19,15],[43,16,19,16,"address"],[43,23,19,23],[43,25,20,8],[43,32,20,15],[43,37,20,20],[44,4,21,4],[44,10,21,10,"isValid"],[44,17,21,17],[44,20,21,20],[44,24,21,20,"validateSiweMessage"],[44,55,21,39],[44,56,21,39,"validateSiweMessage"],[44,75,21,39],[44,77,21,40],[45,6,22,8,"address"],[45,13,22,15],[46,6,23,8,"domain"],[46,12,23,14],[47,6,24,8,"message"],[47,13,24,15],[47,15,24,17,"parsed"],[47,21,24,23],[48,6,25,8,"nonce"],[48,11,25,13],[49,6,26,8,"scheme"],[49,12,26,14],[50,6,27,8,"time"],[51,4,28,4],[51,5,28,5],[51,6,28,6],[52,4,29,4],[52,8,29,8],[52,9,29,9,"isValid"],[52,16,29,16],[52,18,30,8],[52,25,30,15],[52,30,30,20],[53,4,31,4],[53,10,31,10,"hash"],[53,14,31,14],[53,17,31,17],[53,21,31,17,"hashMessage"],[53,49,31,28],[53,50,31,28,"hashMessage"],[53,61,31,28],[53,63,31,29,"message"],[53,70,31,36],[53,71,31,37],[54,4,32,4],[54,11,32,11],[54,15,32,11,"verifyHash"],[54,34,32,21],[54,35,32,21,"verifyHash"],[54,45,32,21],[54,47,32,22,"client"],[54,53,32,28],[54,55,32,28,"Object"],[54,61,32,28],[54,62,32,28,"assign"],[54,68,32,28],[55,6,33,8,"address"],[55,13,33,15],[55,15,33,17,"parsed"],[55,21,33,23],[55,22,33,24,"address"],[55,29,33,31],[56,6,34,8,"hash"],[56,10,34,12],[57,6,35,8,"signature"],[58,4,35,17],[58,7,36,11,"callRequest"],[58,18,36,22],[58,19,37,5],[58,20,37,6],[59,2,38,0],[60,0,38,1],[60,3]],"functionMap":{"names":["<global>","verifySiweMessage"],"mappings":"AAA;OCe;CDsB"},"hasCjsExports":false},"type":"js/module"}]}