{"dependencies":[{"name":"../../accounts/utils/parseAccount.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"/2Bvi5qErxbS6yBB5FzUPODHkYU=","exportNames":["*"],"imports":1}},{"name":"../../utils/abi/decodeFunctionResult.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":70},"end":{"line":2,"column":80,"index":150}}],"key":"kTyTrS0/fV5/YN79eeV1YCQApII=","exportNames":["*"],"imports":1}},{"name":"../../utils/abi/encodeFunctionData.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":151},"end":{"line":3,"column":76,"index":227}}],"key":"OuSySdoC0ezpBCAwaIZplowPkvk=","exportNames":["*"],"imports":1}},{"name":"../../utils/errors/getContractError.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":228},"end":{"line":4,"column":75,"index":303}}],"key":"2ZyOj/YYaqeS/JV5t/CpFmCfhcY=","exportNames":["*"],"imports":1}},{"name":"../../utils/getAction.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":304},"end":{"line":5,"column":53,"index":357}}],"key":"vt4scbNyA2t/tyY0oQJI6AZPJS4=","exportNames":["*"],"imports":1}},{"name":"./call.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":358},"end":{"line":6,"column":33,"index":391}}],"key":"aSmxMv/g2RJz56PpxDSq10PV1HA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.simulateContract = simulateContract;\n  var _accountsUtilsParseAccountJs = require(_dependencyMap[0], \"../../accounts/utils/parseAccount.js\");\n  var _utilsAbiDecodeFunctionResultJs = require(_dependencyMap[1], \"../../utils/abi/decodeFunctionResult.js\");\n  var _utilsAbiEncodeFunctionDataJs = require(_dependencyMap[2], \"../../utils/abi/encodeFunctionData.js\");\n  var _utilsErrorsGetContractErrorJs = require(_dependencyMap[3], \"../../utils/errors/getContractError.js\");\n  var _utilsGetActionJs = require(_dependencyMap[4], \"../../utils/getAction.js\");\n  var _callJs = require(_dependencyMap[5], \"./call.js\");\n  /**\n   * Simulates/validates a contract interaction. This is useful for retrieving **return data** and **revert reasons** of contract write functions.\n   *\n   * - Docs: https://viem.sh/docs/contract/simulateContract\n   * - Examples: https://stackblitz.com/github/wevm/viem/tree/main/examples/contracts_writing-to-contracts\n   *\n   * This function does not require gas to execute and _**does not**_ change the state of the blockchain. It is almost identical to [`readContract`](https://viem.sh/docs/contract/readContract), but also supports contract write functions.\n   *\n   * Internally, uses a [Public Client](https://viem.sh/docs/clients/public) to call the [`call` action](https://viem.sh/docs/actions/public/call) with [ABI-encoded `data`](https://viem.sh/docs/contract/encodeFunctionData).\n   *\n   * @param client - Client to use\n   * @param parameters - {@link SimulateContractParameters}\n   * @returns The simulation result and write request. {@link SimulateContractReturnType}\n   *\n   * @example\n   * import { createPublicClient, http } from 'viem'\n   * import { mainnet } from 'viem/chains'\n   * import { simulateContract } from 'viem/contract'\n   *\n   * const client = createPublicClient({\n   *   chain: mainnet,\n   *   transport: http(),\n   * })\n   * const result = await simulateContract(client, {\n   *   address: '0xFBA3912Ca04dd458c843e2EE08967fC04f3579c2',\n   *   abi: parseAbi(['function mint(uint32) view returns (uint32)']),\n   *   functionName: 'mint',\n   *   args: ['69420'],\n   *   account: '0xA0Cf798816D4b9b9866b5330EEa46a18382f251e',\n   * })\n   */\n  async function simulateContract(client, parameters) {\n    const {\n      abi,\n      address,\n      args,\n      functionName,\n      dataSuffix = typeof client.dataSuffix === 'string' ? client.dataSuffix : client.dataSuffix?.value,\n      ...callRequest\n    } = parameters;\n    const account = callRequest.account ? (0, _accountsUtilsParseAccountJs.parseAccount)(callRequest.account) : client.account;\n    const calldata = (0, _utilsAbiEncodeFunctionDataJs.encodeFunctionData)({\n      abi,\n      args,\n      functionName\n    });\n    try {\n      const {\n        data\n      } = await (0, _utilsGetActionJs.getAction)(client, _callJs.call, 'call')({\n        batch: false,\n        data: `${calldata}${dataSuffix ? dataSuffix.replace('0x', '') : ''}`,\n        to: address,\n        ...callRequest,\n        account\n      });\n      const result = (0, _utilsAbiDecodeFunctionResultJs.decodeFunctionResult)({\n        abi,\n        args,\n        functionName,\n        data: data || '0x'\n      });\n      const minimizedAbi = abi.filter(abiItem => 'name' in abiItem && abiItem.name === parameters.functionName);\n      return {\n        result,\n        request: {\n          abi: minimizedAbi,\n          address,\n          args,\n          dataSuffix,\n          functionName,\n          ...callRequest,\n          account\n        }\n      };\n    } catch (error) {\n      throw (0, _utilsErrorsGetContractErrorJs.getContractError)(error, {\n        abi,\n        address,\n        args,\n        docsPath: '/docs/contract/simulateContract',\n        functionName,\n        sender: account?.address\n      });\n    }\n  }\n});","lineCount":100,"map":[[7,2,38,0,"exports"],[7,9,38,0],[7,10,38,0,"simulateContract"],[7,26,38,0],[7,29,38,0,"simulateContract"],[7,45,38,0],[8,2,1,0],[8,6,1,0,"_accountsUtilsParseAccountJs"],[8,34,1,0],[8,37,1,0,"require"],[8,44,1,0],[8,45,1,0,"_dependencyMap"],[8,59,1,0],[9,2,2,0],[9,6,2,0,"_utilsAbiDecodeFunctionResultJs"],[9,37,2,0],[9,40,2,0,"require"],[9,47,2,0],[9,48,2,0,"_dependencyMap"],[9,62,2,0],[10,2,3,0],[10,6,3,0,"_utilsAbiEncodeFunctionDataJs"],[10,35,3,0],[10,38,3,0,"require"],[10,45,3,0],[10,46,3,0,"_dependencyMap"],[10,60,3,0],[11,2,4,0],[11,6,4,0,"_utilsErrorsGetContractErrorJs"],[11,36,4,0],[11,39,4,0,"require"],[11,46,4,0],[11,47,4,0,"_dependencyMap"],[11,61,4,0],[12,2,5,0],[12,6,5,0,"_utilsGetActionJs"],[12,23,5,0],[12,26,5,0,"require"],[12,33,5,0],[12,34,5,0,"_dependencyMap"],[12,48,5,0],[13,2,6,0],[13,6,6,0,"_callJs"],[13,13,6,0],[13,16,6,0,"require"],[13,23,6,0],[13,24,6,0,"_dependencyMap"],[13,38,6,0],[14,2,7,0],[15,0,8,0],[16,0,9,0],[17,0,10,0],[18,0,11,0],[19,0,12,0],[20,0,13,0],[21,0,14,0],[22,0,15,0],[23,0,16,0],[24,0,17,0],[25,0,18,0],[26,0,19,0],[27,0,20,0],[28,0,21,0],[29,0,22,0],[30,0,23,0],[31,0,24,0],[32,0,25,0],[33,0,26,0],[34,0,27,0],[35,0,28,0],[36,0,29,0],[37,0,30,0],[38,0,31,0],[39,0,32,0],[40,0,33,0],[41,0,34,0],[42,0,35,0],[43,0,36,0],[44,0,37,0],[45,2,38,7],[45,17,38,22,"simulateContract"],[45,33,38,38,"simulateContract"],[45,34,38,39,"client"],[45,40,38,45],[45,42,38,47,"parameters"],[45,52,38,57],[45,54,38,59],[46,4,39,4],[46,10,39,10],[47,6,39,12,"abi"],[47,9,39,15],[48,6,39,17,"address"],[48,13,39,24],[49,6,39,26,"args"],[49,10,39,30],[50,6,39,32,"functionName"],[50,18,39,44],[51,6,39,46,"dataSuffix"],[51,16,39,56],[51,19,39,59],[51,26,39,66,"client"],[51,32,39,72],[51,33,39,73,"dataSuffix"],[51,43,39,83],[51,48,39,88],[51,56,39,96],[51,59,40,10,"client"],[51,65,40,16],[51,66,40,17,"dataSuffix"],[51,76,40,27],[51,79,41,10,"client"],[51,85,41,16],[51,86,41,17,"dataSuffix"],[51,96,41,27],[51,98,41,29,"value"],[51,103,41,34],[52,6,41,36],[52,9,41,39,"callRequest"],[53,4,41,51],[53,5,41,52],[53,8,41,55,"parameters"],[53,18,41,65],[54,4,42,4],[54,10,42,10,"account"],[54,17,42,17],[54,20,42,20,"callRequest"],[54,31,42,31],[54,32,42,32,"account"],[54,39,42,39],[54,42,43,10],[54,46,43,10,"parseAccount"],[54,74,43,22],[54,75,43,22,"parseAccount"],[54,87,43,22],[54,89,43,23,"callRequest"],[54,100,43,34],[54,101,43,35,"account"],[54,108,43,42],[54,109,43,43],[54,112,44,10,"client"],[54,118,44,16],[54,119,44,17,"account"],[54,126,44,24],[55,4,45,4],[55,10,45,10,"calldata"],[55,18,45,18],[55,21,45,21],[55,25,45,21,"encodeFunctionData"],[55,54,45,39],[55,55,45,39,"encodeFunctionData"],[55,73,45,39],[55,75,45,40],[56,6,45,42,"abi"],[56,9,45,45],[57,6,45,47,"args"],[57,10,45,51],[58,6,45,53,"functionName"],[59,4,45,66],[59,5,45,67],[59,6,45,68],[60,4,46,4],[60,8,46,8],[61,6,47,8],[61,12,47,14],[62,8,47,16,"data"],[63,6,47,21],[63,7,47,22],[63,10,47,25],[63,16,47,31],[63,20,47,31,"getAction"],[63,37,47,40],[63,38,47,40,"getAction"],[63,47,47,40],[63,49,47,41,"client"],[63,55,47,47],[63,57,47,49,"call"],[63,64,47,53],[63,65,47,53,"call"],[63,69,47,53],[63,71,47,55],[63,77,47,61],[63,78,47,62],[63,79,47,63],[64,8,48,12,"batch"],[64,13,48,17],[64,15,48,19],[64,20,48,24],[65,8,49,12,"data"],[65,12,49,16],[65,14,49,18],[65,17,49,21,"calldata"],[65,25,49,29],[65,28,49,32,"dataSuffix"],[65,38,49,42],[65,41,49,45,"dataSuffix"],[65,51,49,55],[65,52,49,56,"replace"],[65,59,49,63],[65,60,49,64],[65,64,49,68],[65,66,49,70],[65,68,49,72],[65,69,49,73],[65,72,49,76],[65,74,49,78],[65,76,49,80],[66,8,50,12,"to"],[66,10,50,14],[66,12,50,16,"address"],[66,19,50,23],[67,8,51,12],[67,11,51,15,"callRequest"],[67,22,51,26],[68,8,52,12,"account"],[69,6,53,8],[69,7,53,9],[69,8,53,10],[70,6,54,8],[70,12,54,14,"result"],[70,18,54,20],[70,21,54,23],[70,25,54,23,"decodeFunctionResult"],[70,56,54,43],[70,57,54,43,"decodeFunctionResult"],[70,77,54,43],[70,79,54,44],[71,8,55,12,"abi"],[71,11,55,15],[72,8,56,12,"args"],[72,12,56,16],[73,8,57,12,"functionName"],[73,20,57,24],[74,8,58,12,"data"],[74,12,58,16],[74,14,58,18,"data"],[74,18,58,22],[74,22,58,26],[75,6,59,8],[75,7,59,9],[75,8,59,10],[76,6,60,8],[76,12,60,14,"minimizedAbi"],[76,24,60,26],[76,27,60,29,"abi"],[76,30,60,32],[76,31,60,33,"filter"],[76,37,60,39],[76,38,60,41,"abiItem"],[76,45,60,48],[76,49,60,53],[76,55,60,59],[76,59,60,63,"abiItem"],[76,66,60,70],[76,70,60,74,"abiItem"],[76,77,60,81],[76,78,60,82,"name"],[76,82,60,86],[76,87,60,91,"parameters"],[76,97,60,101],[76,98,60,102,"functionName"],[76,110,60,114],[76,111,60,115],[77,6,61,8],[77,13,61,15],[78,8,62,12,"result"],[78,14,62,18],[79,8,63,12,"request"],[79,15,63,19],[79,17,63,21],[80,10,64,16,"abi"],[80,13,64,19],[80,15,64,21,"minimizedAbi"],[80,27,64,33],[81,10,65,16,"address"],[81,17,65,23],[82,10,66,16,"args"],[82,14,66,20],[83,10,67,16,"dataSuffix"],[83,20,67,26],[84,10,68,16,"functionName"],[84,22,68,28],[85,10,69,16],[85,13,69,19,"callRequest"],[85,24,69,30],[86,10,70,16,"account"],[87,8,71,12],[88,6,72,8],[88,7,72,9],[89,4,73,4],[89,5,73,5],[89,6,74,4],[89,13,74,11,"error"],[89,18,74,16],[89,20,74,18],[90,6,75,8],[90,12,75,14],[90,16,75,14,"getContractError"],[90,46,75,30],[90,47,75,30,"getContractError"],[90,63,75,30],[90,65,75,31,"error"],[90,70,75,36],[90,72,75,38],[91,8,76,12,"abi"],[91,11,76,15],[92,8,77,12,"address"],[92,15,77,19],[93,8,78,12,"args"],[93,12,78,16],[94,8,79,12,"docsPath"],[94,16,79,20],[94,18,79,22],[94,51,79,55],[95,8,80,12,"functionName"],[95,20,80,24],[96,8,81,12,"sender"],[96,14,81,18],[96,16,81,20,"account"],[96,23,81,27],[96,25,81,29,"address"],[97,6,82,8],[97,7,82,9],[97,8,82,10],[98,4,83,4],[99,2,84,0],[100,0,84,1],[100,3]],"functionMap":{"names":["<global>","simulateContract","abi.filter$argument_0"],"mappings":"AAA;OCqC;wCCsB,0ED;CDwB"},"hasCjsExports":false},"type":"js/module"}]}