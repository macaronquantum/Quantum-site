{"dependencies":[{"name":"./connection-manager.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":60,"index":60}}],"key":"qgrbR2/YxK2n+1huOvmKqXIiXL0=","exportNames":["*"],"imports":1}},{"name":"./core/constants.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":61},"end":{"line":2,"column":87,"index":148}}],"key":"Cin1lemNDnnwGskmP1NZlnATOD0=","exportNames":["*"],"imports":1}},{"name":"./core/types.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":43,"index":192}}],"key":"5/2WweSXehHMPnfi+qlJ27hIgeA=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":193},"end":{"line":4,"column":65,"index":258}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"usePopupConnection\", {\n    enumerable: true,\n    get: function () {\n      return usePopupConnection;\n    }\n  });\n  var _connectionManagerJs = require(_dependencyMap[0], \"./connection-manager.js\");\n  var _coreConstantsJs = require(_dependencyMap[1], \"./core/constants.js\");\n  var _coreTypesJs = require(_dependencyMap[2], \"./core/types.js\");\n  var _react = require(_dependencyMap[3], \"react\");\n  const usePopupConnection = ({\n    enabled = true,\n    platform = _coreTypesJs.Platform.UNKNOWN,\n    widthPx = _coreConstantsJs.DEFAULT_POPUP_WIDTH_PX,\n    heightPx = _coreConstantsJs.DEFAULT_POPUP_HEIGHT_PX\n  } = {}) => {\n    const [exportedConnection, setExportedConnection] = (0, _react.useState)(undefined);\n    const connectionManagerRef = (0, _react.useRef)(new _connectionManagerJs.ConnectionManager(platform).onConnectionUpdated(connection => {\n      setExportedConnection(connection === null || connection === void 0 ? void 0 : connection.export());\n    }));\n    const open = (0, _react.useCallback)((url, nonce) => {\n      connectionManagerRef.current.open({\n        heightPx,\n        nonce,\n        url,\n        widthPx\n      });\n    }, [connectionManagerRef, widthPx, heightPx]);\n    const close = (0, _react.useCallback)(() => {\n      connectionManagerRef.current.close();\n    }, [connectionManagerRef]);\n    (0, _react.useEffect)(() => {\n      if (enabled) {\n        connectionManagerRef.current.initialize();\n      } else {\n        connectionManagerRef.current.tearDown();\n      }\n    }, [connectionManagerRef]);\n    return {\n      close,\n      connection: exportedConnection,\n      open\n    };\n  };\n});","lineCount":51,"map":[[7,2,5,0,"Object"],[7,8,5,0],[7,9,5,0,"defineProperty"],[7,23,5,0],[7,24,5,0,"exports"],[7,31,5,0],[8,4,5,0,"enumerable"],[8,14,5,0],[9,4,5,0,"get"],[9,7,5,0],[9,18,5,0,"get"],[9,19,5,0],[10,6,5,0],[10,13,5,0,"usePopupConnection"],[10,31,5,0],[11,4,5,0],[12,2,5,0],[13,2,1,0],[13,6,1,0,"_connectionManagerJs"],[13,26,1,0],[13,29,1,0,"require"],[13,36,1,0],[13,37,1,0,"_dependencyMap"],[13,51,1,0],[14,2,2,0],[14,6,2,0,"_coreConstantsJs"],[14,22,2,0],[14,25,2,0,"require"],[14,32,2,0],[14,33,2,0,"_dependencyMap"],[14,47,2,0],[15,2,3,0],[15,6,3,0,"_coreTypesJs"],[15,18,3,0],[15,21,3,0,"require"],[15,28,3,0],[15,29,3,0,"_dependencyMap"],[15,43,3,0],[16,2,4,0],[16,6,4,0,"_react"],[16,12,4,0],[16,15,4,0,"require"],[16,22,4,0],[16,23,4,0,"_dependencyMap"],[16,37,4,0],[17,2,5,7],[17,8,5,13,"usePopupConnection"],[17,26,5,31],[17,29,5,34,"usePopupConnection"],[17,30,5,35],[18,4,5,37,"enabled"],[18,11,5,44],[18,14,5,47],[18,18,5,51],[19,4,5,53,"platform"],[19,12,5,61],[19,15,5,64,"Platform"],[19,27,5,72],[19,28,5,72,"Platform"],[19,36,5,72],[19,37,5,73,"UNKNOWN"],[19,44,5,80],[20,4,5,82,"widthPx"],[20,11,5,89],[20,14,5,92,"DEFAULT_POPUP_WIDTH_PX"],[20,30,5,114],[20,31,5,114,"DEFAULT_POPUP_WIDTH_PX"],[20,53,5,114],[21,4,5,116,"heightPx"],[21,12,5,124],[21,15,5,127,"DEFAULT_POPUP_HEIGHT_PX"],[21,31,5,150],[21,32,5,150,"DEFAULT_POPUP_HEIGHT_PX"],[22,2,5,152],[22,3,5,153],[22,6,5,156],[22,7,5,157],[22,8,5,158],[22,13,5,163],[23,4,6,4],[23,10,6,10],[23,11,6,11,"exportedConnection"],[23,29,6,29],[23,31,6,31,"setExportedConnection"],[23,52,6,52],[23,53,6,53],[23,56,6,56],[23,60,6,56,"useState"],[23,66,6,64],[23,67,6,64,"useState"],[23,75,6,64],[23,77,6,65,"undefined"],[23,86,6,74],[23,87,6,75],[24,4,7,4],[24,10,7,10,"connectionManagerRef"],[24,30,7,30],[24,33,7,33],[24,37,7,33,"useRef"],[24,43,7,39],[24,44,7,39,"useRef"],[24,50,7,39],[24,52,7,40],[24,56,7,44,"ConnectionManager"],[24,76,7,61],[24,77,7,61,"ConnectionManager"],[24,94,7,61],[24,95,7,62,"platform"],[24,103,7,70],[24,104,7,71],[24,105,7,72,"onConnectionUpdated"],[24,124,7,91],[24,125,7,93,"connection"],[24,135,7,103],[24,139,7,108],[25,6,8,8,"setExportedConnection"],[25,27,8,29],[25,28,8,30,"connection"],[25,38,8,40],[25,43,8,45],[25,47,8,49],[25,51,8,53,"connection"],[25,61,8,63],[25,66,8,68],[25,71,8,73],[25,72,8,74],[25,75,8,77],[25,80,8,82],[25,81,8,83],[25,84,8,86,"connection"],[25,94,8,96],[25,95,8,97,"export"],[25,101,8,103],[25,102,8,104],[25,103,8,105],[25,104,8,106],[26,4,9,4],[26,5,9,5],[26,6,9,6],[26,7,9,7],[27,4,10,4],[27,10,10,10,"open"],[27,14,10,14],[27,17,10,17],[27,21,10,17,"useCallback"],[27,27,10,28],[27,28,10,28,"useCallback"],[27,39,10,28],[27,41,10,29],[27,42,10,30,"url"],[27,45,10,33],[27,47,10,35,"nonce"],[27,52,10,40],[27,57,10,45],[28,6,11,8,"connectionManagerRef"],[28,26,11,28],[28,27,11,29,"current"],[28,34,11,36],[28,35,11,37,"open"],[28,39,11,41],[28,40,11,42],[29,8,12,12,"heightPx"],[29,16,12,20],[30,8,13,12,"nonce"],[30,13,13,17],[31,8,14,12,"url"],[31,11,14,15],[32,8,15,12,"widthPx"],[33,6,16,8],[33,7,16,9],[33,8,16,10],[34,4,17,4],[34,5,17,5],[34,7,17,7],[34,8,17,8,"connectionManagerRef"],[34,28,17,28],[34,30,17,30,"widthPx"],[34,37,17,37],[34,39,17,39,"heightPx"],[34,47,17,47],[34,48,17,48],[34,49,17,49],[35,4,18,4],[35,10,18,10,"close"],[35,15,18,15],[35,18,18,18],[35,22,18,18,"useCallback"],[35,28,18,29],[35,29,18,29,"useCallback"],[35,40,18,29],[35,42,18,30],[35,48,18,36],[36,6,19,8,"connectionManagerRef"],[36,26,19,28],[36,27,19,29,"current"],[36,34,19,36],[36,35,19,37,"close"],[36,40,19,42],[36,41,19,43],[36,42,19,44],[37,4,20,4],[37,5,20,5],[37,7,20,7],[37,8,20,8,"connectionManagerRef"],[37,28,20,28],[37,29,20,29],[37,30,20,30],[38,4,21,4],[38,8,21,4,"useEffect"],[38,14,21,13],[38,15,21,13,"useEffect"],[38,24,21,13],[38,26,21,14],[38,32,21,20],[39,6,22,8],[39,10,22,12,"enabled"],[39,17,22,19],[39,19,22,21],[40,8,23,12,"connectionManagerRef"],[40,28,23,32],[40,29,23,33,"current"],[40,36,23,40],[40,37,23,41,"initialize"],[40,47,23,51],[40,48,23,52],[40,49,23,53],[41,6,24,8],[41,7,24,9],[41,13,25,13],[42,8,26,12,"connectionManagerRef"],[42,28,26,32],[42,29,26,33,"current"],[42,36,26,40],[42,37,26,41,"tearDown"],[42,45,26,49],[42,46,26,50],[42,47,26,51],[43,6,27,8],[44,4,28,4],[44,5,28,5],[44,7,28,7],[44,8,28,8,"connectionManagerRef"],[44,28,28,28],[44,29,28,29],[44,30,28,30],[45,4,29,4],[45,11,29,11],[46,6,30,8,"close"],[46,11,30,13],[47,6,31,8,"connection"],[47,16,31,18],[47,18,31,20,"exportedConnection"],[47,36,31,38],[48,6,32,8,"open"],[49,4,33,4],[49,5,33,5],[50,2,34,0],[50,3,34,1],[51,0,34,2],[51,3]],"functionMap":{"names":["<global>","usePopupConnection","ConnectionManager.onConnectionUpdated$argument_0","open","close","useEffect$argument_0"],"mappings":"AAA;kCCI;4FCE;KDE;6BEC;KFO;8BGC;KHE;cIC;KJO;CDM"},"hasCjsExports":false},"type":"js/module"}]}