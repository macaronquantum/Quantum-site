{"dependencies":[{"name":"../../utils/abi/encodeEventTopics.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":74,"index":74}}],"key":"P+8SVHpUeBt2KPErjE+luxVr6HA=","exportNames":["*"],"imports":1}},{"name":"../../utils/abi/parseEventLogs.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":75},"end":{"line":2,"column":67,"index":142}}],"key":"5J0jkxGljI3yvpLZrF+JQDpqGa4=","exportNames":["*"],"imports":1}},{"name":"../../utils/encoding/toHex.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":143},"end":{"line":3,"column":61,"index":204}}],"key":"U2IsyW1seIe5m4FUbe8axrr/0FQ=","exportNames":["*"],"imports":1}},{"name":"../../utils/formatters/log.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":205},"end":{"line":4,"column":59,"index":264}}],"key":"Z0CbYPscFWJvOzDU0/CQsSb0bbA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.getLogs = getLogs;\n  var _utilsAbiEncodeEventTopicsJs = require(_dependencyMap[0], \"../../utils/abi/encodeEventTopics.js\");\n  var _utilsAbiParseEventLogsJs = require(_dependencyMap[1], \"../../utils/abi/parseEventLogs.js\");\n  var _utilsEncodingToHexJs = require(_dependencyMap[2], \"../../utils/encoding/toHex.js\");\n  var _utilsFormattersLogJs = require(_dependencyMap[3], \"../../utils/formatters/log.js\");\n  /**\n   * Returns a list of event logs matching the provided parameters.\n   *\n   * - Docs: https://viem.sh/docs/actions/public/getLogs\n   * - Examples: https://stackblitz.com/github/wevm/viem/tree/main/examples/logs_event-logs\n   * - JSON-RPC Methods: [`eth_getLogs`](https://ethereum.org/en/developers/docs/apis/json-rpc/#eth_getlogs)\n   *\n   * @param client - Client to use\n   * @param parameters - {@link GetLogsParameters}\n   * @returns A list of event logs. {@link GetLogsReturnType}\n   *\n   * @example\n   * import { createPublicClient, http, parseAbiItem } from 'viem'\n   * import { mainnet } from 'viem/chains'\n   * import { getLogs } from 'viem/public'\n   *\n   * const client = createPublicClient({\n   *   chain: mainnet,\n   *   transport: http(),\n   * })\n   * const logs = await getLogs(client)\n   */\n  async function getLogs(client, {\n    address,\n    blockHash,\n    fromBlock,\n    toBlock,\n    event,\n    events: events_,\n    args,\n    strict: strict_\n  } = {}) {\n    const strict = strict_ ?? false;\n    const events = events_ ?? (event ? [event] : undefined);\n    let topics = [];\n    if (events) {\n      const encoded = events.flatMap(event => (0, _utilsAbiEncodeEventTopicsJs.encodeEventTopics)({\n        abi: [event],\n        eventName: event.name,\n        args: events_ ? undefined : args\n      }));\n      // TODO: Clean up type casting\n      topics = [encoded];\n      if (event) topics = topics[0];\n    }\n    let logs;\n    if (blockHash) {\n      logs = await client.request({\n        method: 'eth_getLogs',\n        params: [{\n          address,\n          topics,\n          blockHash\n        }]\n      });\n    } else {\n      logs = await client.request({\n        method: 'eth_getLogs',\n        params: [{\n          address,\n          topics,\n          fromBlock: typeof fromBlock === 'bigint' ? (0, _utilsEncodingToHexJs.numberToHex)(fromBlock) : fromBlock,\n          toBlock: typeof toBlock === 'bigint' ? (0, _utilsEncodingToHexJs.numberToHex)(toBlock) : toBlock\n        }]\n      });\n    }\n    const formattedLogs = logs.map(log => (0, _utilsFormattersLogJs.formatLog)(log));\n    if (!events) return formattedLogs;\n    return (0, _utilsAbiParseEventLogsJs.parseEventLogs)({\n      abi: events,\n      args: args,\n      logs: formattedLogs,\n      strict\n    });\n  }\n});","lineCount":87,"map":[[7,2,27,0,"exports"],[7,9,27,0],[7,10,27,0,"getLogs"],[7,17,27,0],[7,20,27,0,"getLogs"],[7,27,27,0],[8,2,1,0],[8,6,1,0,"_utilsAbiEncodeEventTopicsJs"],[8,34,1,0],[8,37,1,0,"require"],[8,44,1,0],[8,45,1,0,"_dependencyMap"],[8,59,1,0],[9,2,2,0],[9,6,2,0,"_utilsAbiParseEventLogsJs"],[9,31,2,0],[9,34,2,0,"require"],[9,41,2,0],[9,42,2,0,"_dependencyMap"],[9,56,2,0],[10,2,3,0],[10,6,3,0,"_utilsEncodingToHexJs"],[10,27,3,0],[10,30,3,0,"require"],[10,37,3,0],[10,38,3,0,"_dependencyMap"],[10,52,3,0],[11,2,4,0],[11,6,4,0,"_utilsFormattersLogJs"],[11,27,4,0],[11,30,4,0,"require"],[11,37,4,0],[11,38,4,0,"_dependencyMap"],[11,52,4,0],[12,2,5,0],[13,0,6,0],[14,0,7,0],[15,0,8,0],[16,0,9,0],[17,0,10,0],[18,0,11,0],[19,0,12,0],[20,0,13,0],[21,0,14,0],[22,0,15,0],[23,0,16,0],[24,0,17,0],[25,0,18,0],[26,0,19,0],[27,0,20,0],[28,0,21,0],[29,0,22,0],[30,0,23,0],[31,0,24,0],[32,0,25,0],[33,0,26,0],[34,2,27,7],[34,17,27,22,"getLogs"],[34,24,27,29,"getLogs"],[34,25,27,30,"client"],[34,31,27,36],[34,33,27,38],[35,4,27,40,"address"],[35,11,27,47],[36,4,27,49,"blockHash"],[36,13,27,58],[37,4,27,60,"fromBlock"],[37,13,27,69],[38,4,27,71,"toBlock"],[38,11,27,78],[39,4,27,80,"event"],[39,9,27,85],[40,4,27,87,"events"],[40,10,27,93],[40,12,27,95,"events_"],[40,19,27,102],[41,4,27,104,"args"],[41,8,27,108],[42,4,27,110,"strict"],[42,10,27,116],[42,12,27,118,"strict_"],[43,2,27,127],[43,3,27,128],[43,6,27,131],[43,7,27,132],[43,8,27,133],[43,10,27,135],[44,4,28,4],[44,10,28,10,"strict"],[44,16,28,16],[44,19,28,19,"strict_"],[44,26,28,26],[44,30,28,30],[44,35,28,35],[45,4,29,4],[45,10,29,10,"events"],[45,16,29,16],[45,19,29,19,"events_"],[45,26,29,26],[45,31,29,31,"event"],[45,36,29,36],[45,39,29,39],[45,40,29,40,"event"],[45,45,29,45],[45,46,29,46],[45,49,29,49,"undefined"],[45,58,29,58],[45,59,29,59],[46,4,30,4],[46,8,30,8,"topics"],[46,14,30,14],[46,17,30,17],[46,19,30,19],[47,4,31,4],[47,8,31,8,"events"],[47,14,31,14],[47,16,31,16],[48,6,32,8],[48,12,32,14,"encoded"],[48,19,32,21],[48,22,32,24,"events"],[48,28,32,30],[48,29,32,31,"flatMap"],[48,36,32,38],[48,37,32,40,"event"],[48,42,32,45],[48,46,32,50],[48,50,32,50,"encodeEventTopics"],[48,78,32,67],[48,79,32,67,"encodeEventTopics"],[48,96,32,67],[48,98,32,68],[49,8,33,12,"abi"],[49,11,33,15],[49,13,33,17],[49,14,33,18,"event"],[49,19,33,23],[49,20,33,24],[50,8,34,12,"eventName"],[50,17,34,21],[50,19,34,23,"event"],[50,24,34,28],[50,25,34,29,"name"],[50,29,34,33],[51,8,35,12,"args"],[51,12,35,16],[51,14,35,18,"events_"],[51,21,35,25],[51,24,35,28,"undefined"],[51,33,35,37],[51,36,35,40,"args"],[52,6,36,8],[52,7,36,9],[52,8,36,10],[52,9,36,11],[53,6,37,8],[54,6,38,8,"topics"],[54,12,38,14],[54,15,38,17],[54,16,38,18,"encoded"],[54,23,38,25],[54,24,38,26],[55,6,39,8],[55,10,39,12,"event"],[55,15,39,17],[55,17,40,12,"topics"],[55,23,40,18],[55,26,40,21,"topics"],[55,32,40,27],[55,33,40,28],[55,34,40,29],[55,35,40,30],[56,4,41,4],[57,4,42,4],[57,8,42,8,"logs"],[57,12,42,12],[58,4,43,4],[58,8,43,8,"blockHash"],[58,17,43,17],[58,19,43,19],[59,6,44,8,"logs"],[59,10,44,12],[59,13,44,15],[59,19,44,21,"client"],[59,25,44,27],[59,26,44,28,"request"],[59,33,44,35],[59,34,44,36],[60,8,45,12,"method"],[60,14,45,18],[60,16,45,20],[60,29,45,33],[61,8,46,12,"params"],[61,14,46,18],[61,16,46,20],[61,17,46,21],[62,10,46,23,"address"],[62,17,46,30],[63,10,46,32,"topics"],[63,16,46,38],[64,10,46,40,"blockHash"],[65,8,46,50],[65,9,46,51],[66,6,47,8],[66,7,47,9],[66,8,47,10],[67,4,48,4],[67,5,48,5],[67,11,49,9],[68,6,50,8,"logs"],[68,10,50,12],[68,13,50,15],[68,19,50,21,"client"],[68,25,50,27],[68,26,50,28,"request"],[68,33,50,35],[68,34,50,36],[69,8,51,12,"method"],[69,14,51,18],[69,16,51,20],[69,29,51,33],[70,8,52,12,"params"],[70,14,52,18],[70,16,52,20],[70,17,53,16],[71,10,54,20,"address"],[71,17,54,27],[72,10,55,20,"topics"],[72,16,55,26],[73,10,56,20,"fromBlock"],[73,19,56,29],[73,21,56,31],[73,28,56,38,"fromBlock"],[73,37,56,47],[73,42,56,52],[73,50,56,60],[73,53,56,63],[73,57,56,63,"numberToHex"],[73,78,56,74],[73,79,56,74,"numberToHex"],[73,90,56,74],[73,92,56,75,"fromBlock"],[73,101,56,84],[73,102,56,85],[73,105,56,88,"fromBlock"],[73,114,56,97],[74,10,57,20,"toBlock"],[74,17,57,27],[74,19,57,29],[74,26,57,36,"toBlock"],[74,33,57,43],[74,38,57,48],[74,46,57,56],[74,49,57,59],[74,53,57,59,"numberToHex"],[74,74,57,70],[74,75,57,70,"numberToHex"],[74,86,57,70],[74,88,57,71,"toBlock"],[74,95,57,78],[74,96,57,79],[74,99,57,82,"toBlock"],[75,8,58,16],[75,9,58,17],[76,6,60,8],[76,7,60,9],[76,8,60,10],[77,4,61,4],[78,4,62,4],[78,10,62,10,"formattedLogs"],[78,23,62,23],[78,26,62,26,"logs"],[78,30,62,30],[78,31,62,31,"map"],[78,34,62,34],[78,35,62,36,"log"],[78,38,62,39],[78,42,62,44],[78,46,62,44,"formatLog"],[78,67,62,53],[78,68,62,53,"formatLog"],[78,77,62,53],[78,79,62,54,"log"],[78,82,62,57],[78,83,62,58],[78,84,62,59],[79,4,63,4],[79,8,63,8],[79,9,63,9,"events"],[79,15,63,15],[79,17,64,8],[79,24,64,15,"formattedLogs"],[79,37,64,28],[80,4,65,4],[80,11,65,11],[80,15,65,11,"parseEventLogs"],[80,40,65,25],[80,41,65,25,"parseEventLogs"],[80,55,65,25],[80,57,65,26],[81,6,66,8,"abi"],[81,9,66,11],[81,11,66,13,"events"],[81,17,66,19],[82,6,67,8,"args"],[82,10,67,12],[82,12,67,14,"args"],[82,16,67,18],[83,6,68,8,"logs"],[83,10,68,12],[83,12,68,14,"formattedLogs"],[83,25,68,27],[84,6,69,8,"strict"],[85,4,70,4],[85,5,70,5],[85,6,70,6],[86,2,71,0],[87,0,71,1],[87,3]],"functionMap":{"names":["<global>","getLogs","events.flatMap$argument_0","logs.map$argument_0"],"mappings":"AAA;OC0B;uCCK;UDI;mCE0B,uBF;CDS"},"hasCjsExports":false},"type":"js/module"}]}