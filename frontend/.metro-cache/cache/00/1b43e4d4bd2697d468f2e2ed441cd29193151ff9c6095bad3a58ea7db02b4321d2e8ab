{"dependencies":[{"name":"@babel/runtime/helpers/objectWithoutPropertiesLoose","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"HFkXuFcBAqfzGtqyPj8g62MKT0M=","exportNames":["*"],"imports":1}},{"name":"../../accounts/utils/parseAccount.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"/2Bvi5qErxbS6yBB5FzUPODHkYU=","exportNames":["*"],"imports":1}},{"name":"../../utils/abi/decodeFunctionResult.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":70},"end":{"line":2,"column":80,"index":150}}],"key":"kTyTrS0/fV5/YN79eeV1YCQApII=","exportNames":["*"],"imports":1}},{"name":"../../utils/abi/encodeFunctionData.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":151},"end":{"line":3,"column":76,"index":227}}],"key":"OuSySdoC0ezpBCAwaIZplowPkvk=","exportNames":["*"],"imports":1}},{"name":"../../utils/errors/getContractError.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":228},"end":{"line":4,"column":75,"index":303}}],"key":"2ZyOj/YYaqeS/JV5t/CpFmCfhcY=","exportNames":["*"],"imports":1}},{"name":"../../utils/getAction.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":304},"end":{"line":5,"column":53,"index":357}}],"key":"vt4scbNyA2t/tyY0oQJI6AZPJS4=","exportNames":["*"],"imports":1}},{"name":"./call.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":358},"end":{"line":6,"column":33,"index":391}}],"key":"aSmxMv/g2RJz56PpxDSq10PV1HA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  const _excluded = [\"abi\", \"address\", \"args\", \"functionName\", \"dataSuffix\"];\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.simulateContract = simulateContract;\n  var _babelRuntimeHelpersObjectWithoutPropertiesLoose = require(_dependencyMap[0], \"@babel/runtime/helpers/objectWithoutPropertiesLoose\");\n  var _objectWithoutPropertiesLoose = _interopDefault(_babelRuntimeHelpersObjectWithoutPropertiesLoose);\n  var _accountsUtilsParseAccountJs = require(_dependencyMap[1], \"../../accounts/utils/parseAccount.js\");\n  var _utilsAbiDecodeFunctionResultJs = require(_dependencyMap[2], \"../../utils/abi/decodeFunctionResult.js\");\n  var _utilsAbiEncodeFunctionDataJs = require(_dependencyMap[3], \"../../utils/abi/encodeFunctionData.js\");\n  var _utilsErrorsGetContractErrorJs = require(_dependencyMap[4], \"../../utils/errors/getContractError.js\");\n  var _utilsGetActionJs = require(_dependencyMap[5], \"../../utils/getAction.js\");\n  var _callJs = require(_dependencyMap[6], \"./call.js\");\n  /**\n   * Simulates/validates a contract interaction. This is useful for retrieving **return data** and **revert reasons** of contract write functions.\n   *\n   * - Docs: https://viem.sh/docs/contract/simulateContract\n   * - Examples: https://stackblitz.com/github/wevm/viem/tree/main/examples/contracts_writing-to-contracts\n   *\n   * This function does not require gas to execute and _**does not**_ change the state of the blockchain. It is almost identical to [`readContract`](https://viem.sh/docs/contract/readContract), but also supports contract write functions.\n   *\n   * Internally, uses a [Public Client](https://viem.sh/docs/clients/public) to call the [`call` action](https://viem.sh/docs/actions/public/call) with [ABI-encoded `data`](https://viem.sh/docs/contract/encodeFunctionData).\n   *\n   * @param client - Client to use\n   * @param parameters - {@link SimulateContractParameters}\n   * @returns The simulation result and write request. {@link SimulateContractReturnType}\n   *\n   * @example\n   * import { createPublicClient, http } from 'viem'\n   * import { mainnet } from 'viem/chains'\n   * import { simulateContract } from 'viem/contract'\n   *\n   * const client = createPublicClient({\n   *   chain: mainnet,\n   *   transport: http(),\n   * })\n   * const result = await simulateContract(client, {\n   *   address: '0xFBA3912Ca04dd458c843e2EE08967fC04f3579c2',\n   *   abi: parseAbi(['function mint(uint32) view returns (uint32)']),\n   *   functionName: 'mint',\n   *   args: ['69420'],\n   *   account: '0xA0Cf798816D4b9b9866b5330EEa46a18382f251e',\n   * })\n   */\n  async function simulateContract(client, parameters) {\n    const {\n        abi,\n        address,\n        args,\n        functionName,\n        dataSuffix = typeof client.dataSuffix === 'string' ? client.dataSuffix : client.dataSuffix?.value\n      } = parameters,\n      callRequest = (0, _objectWithoutPropertiesLoose.default)(parameters, _excluded);\n    const account = callRequest.account ? (0, _accountsUtilsParseAccountJs.parseAccount)(callRequest.account) : client.account;\n    const calldata = (0, _utilsAbiEncodeFunctionDataJs.encodeFunctionData)({\n      abi,\n      args,\n      functionName\n    });\n    try {\n      const {\n        data\n      } = await (0, _utilsGetActionJs.getAction)(client, _callJs.call, 'call')(Object.assign({\n        batch: false,\n        data: `${calldata}${dataSuffix ? dataSuffix.replace('0x', '') : ''}`,\n        to: address\n      }, callRequest, {\n        account\n      }));\n      const result = (0, _utilsAbiDecodeFunctionResultJs.decodeFunctionResult)({\n        abi,\n        args,\n        functionName,\n        data: data || '0x'\n      });\n      const minimizedAbi = abi.filter(abiItem => 'name' in abiItem && abiItem.name === parameters.functionName);\n      return {\n        result,\n        request: Object.assign({\n          abi: minimizedAbi,\n          address,\n          args,\n          dataSuffix,\n          functionName\n        }, callRequest, {\n          account\n        })\n      };\n    } catch (error) {\n      throw (0, _utilsErrorsGetContractErrorJs.getContractError)(error, {\n        abi,\n        address,\n        args,\n        docsPath: '/docs/contract/simulateContract',\n        functionName,\n        sender: account?.address\n      });\n    }\n  }\n});","lineCount":108,"map":[[13,2,38,0,"exports"],[13,9,38,0],[13,10,38,0,"simulateContract"],[13,26,38,0],[13,29,38,0,"simulateContract"],[13,45,38,0],[14,2,84,1],[14,6,84,1,"_babelRuntimeHelpersObjectWithoutPropertiesLoose"],[14,54,84,1],[14,57,84,1,"require"],[14,64,84,1],[14,65,84,1,"_dependencyMap"],[14,79,84,1],[15,2,84,1],[15,6,84,1,"_objectWithoutPropertiesLoose"],[15,35,84,1],[15,38,84,1,"_interopDefault"],[15,53,84,1],[15,54,84,1,"_babelRuntimeHelpersObjectWithoutPropertiesLoose"],[15,102,84,1],[16,2,1,0],[16,6,1,0,"_accountsUtilsParseAccountJs"],[16,34,1,0],[16,37,1,0,"require"],[16,44,1,0],[16,45,1,0,"_dependencyMap"],[16,59,1,0],[17,2,2,0],[17,6,2,0,"_utilsAbiDecodeFunctionResultJs"],[17,37,2,0],[17,40,2,0,"require"],[17,47,2,0],[17,48,2,0,"_dependencyMap"],[17,62,2,0],[18,2,3,0],[18,6,3,0,"_utilsAbiEncodeFunctionDataJs"],[18,35,3,0],[18,38,3,0,"require"],[18,45,3,0],[18,46,3,0,"_dependencyMap"],[18,60,3,0],[19,2,4,0],[19,6,4,0,"_utilsErrorsGetContractErrorJs"],[19,36,4,0],[19,39,4,0,"require"],[19,46,4,0],[19,47,4,0,"_dependencyMap"],[19,61,4,0],[20,2,5,0],[20,6,5,0,"_utilsGetActionJs"],[20,23,5,0],[20,26,5,0,"require"],[20,33,5,0],[20,34,5,0,"_dependencyMap"],[20,48,5,0],[21,2,6,0],[21,6,6,0,"_callJs"],[21,13,6,0],[21,16,6,0,"require"],[21,23,6,0],[21,24,6,0,"_dependencyMap"],[21,38,6,0],[22,2,7,0],[23,0,8,0],[24,0,9,0],[25,0,10,0],[26,0,11,0],[27,0,12,0],[28,0,13,0],[29,0,14,0],[30,0,15,0],[31,0,16,0],[32,0,17,0],[33,0,18,0],[34,0,19,0],[35,0,20,0],[36,0,21,0],[37,0,22,0],[38,0,23,0],[39,0,24,0],[40,0,25,0],[41,0,26,0],[42,0,27,0],[43,0,28,0],[44,0,29,0],[45,0,30,0],[46,0,31,0],[47,0,32,0],[48,0,33,0],[49,0,34,0],[50,0,35,0],[51,0,36,0],[52,0,37,0],[53,2,38,7],[53,17,38,22,"simulateContract"],[53,33,38,38,"simulateContract"],[53,34,38,39,"client"],[53,40,38,45],[53,42,38,47,"parameters"],[53,52,38,57],[53,54,38,59],[54,4,39,4],[54,10,39,10],[55,8,39,12,"abi"],[55,11,39,15],[56,8,39,17,"address"],[56,15,39,24],[57,8,39,26,"args"],[57,12,39,30],[58,8,39,32,"functionName"],[58,20,39,44],[59,8,39,46,"dataSuffix"],[59,18,39,56],[59,21,39,59],[59,28,39,66,"client"],[59,34,39,72],[59,35,39,73,"dataSuffix"],[59,45,39,83],[59,50,39,88],[59,58,39,96],[59,61,40,10,"client"],[59,67,40,16],[59,68,40,17,"dataSuffix"],[59,78,40,27],[59,81,41,10,"client"],[59,87,41,16],[59,88,41,17,"dataSuffix"],[59,98,41,27],[59,100,41,29,"value"],[60,6,41,51],[60,7,41,52],[60,10,41,55,"parameters"],[60,20,41,65],[61,6,41,39,"callRequest"],[61,17,41,50],[61,24,41,50,"_objectWithoutPropertiesLoose"],[61,53,41,50],[61,54,41,50,"default"],[61,61,41,50],[61,63,41,55,"parameters"],[61,73,41,65],[61,75,41,65,"_excluded"],[61,84,41,65],[62,4,42,4],[62,10,42,10,"account"],[62,17,42,17],[62,20,42,20,"callRequest"],[62,31,42,31],[62,32,42,32,"account"],[62,39,42,39],[62,42,43,10],[62,46,43,10,"parseAccount"],[62,74,43,22],[62,75,43,22,"parseAccount"],[62,87,43,22],[62,89,43,23,"callRequest"],[62,100,43,34],[62,101,43,35,"account"],[62,108,43,42],[62,109,43,43],[62,112,44,10,"client"],[62,118,44,16],[62,119,44,17,"account"],[62,126,44,24],[63,4,45,4],[63,10,45,10,"calldata"],[63,18,45,18],[63,21,45,21],[63,25,45,21,"encodeFunctionData"],[63,54,45,39],[63,55,45,39,"encodeFunctionData"],[63,73,45,39],[63,75,45,40],[64,6,45,42,"abi"],[64,9,45,45],[65,6,45,47,"args"],[65,10,45,51],[66,6,45,53,"functionName"],[67,4,45,66],[67,5,45,67],[67,6,45,68],[68,4,46,4],[68,8,46,8],[69,6,47,8],[69,12,47,14],[70,8,47,16,"data"],[71,6,47,21],[71,7,47,22],[71,10,47,25],[71,16,47,31],[71,20,47,31,"getAction"],[71,37,47,40],[71,38,47,40,"getAction"],[71,47,47,40],[71,49,47,41,"client"],[71,55,47,47],[71,57,47,49,"call"],[71,64,47,53],[71,65,47,53,"call"],[71,69,47,53],[71,71,47,55],[71,77,47,61],[71,78,47,62],[71,79,47,62,"Object"],[71,85,47,62],[71,86,47,62,"assign"],[71,92,47,62],[72,8,48,12,"batch"],[72,13,48,17],[72,15,48,19],[72,20,48,24],[73,8,49,12,"data"],[73,12,49,16],[73,14,49,18],[73,17,49,21,"calldata"],[73,25,49,29],[73,28,49,32,"dataSuffix"],[73,38,49,42],[73,41,49,45,"dataSuffix"],[73,51,49,55],[73,52,49,56,"replace"],[73,59,49,63],[73,60,49,64],[73,64,49,68],[73,66,49,70],[73,68,49,72],[73,69,49,73],[73,72,49,76],[73,74,49,78],[73,76,49,80],[74,8,50,12,"to"],[74,10,50,14],[74,12,50,16,"address"],[75,6,50,23],[75,9,51,15,"callRequest"],[75,20,51,26],[76,8,52,12,"account"],[77,6,52,19],[77,8,53,9],[77,9,53,10],[78,6,54,8],[78,12,54,14,"result"],[78,18,54,20],[78,21,54,23],[78,25,54,23,"decodeFunctionResult"],[78,56,54,43],[78,57,54,43,"decodeFunctionResult"],[78,77,54,43],[78,79,54,44],[79,8,55,12,"abi"],[79,11,55,15],[80,8,56,12,"args"],[80,12,56,16],[81,8,57,12,"functionName"],[81,20,57,24],[82,8,58,12,"data"],[82,12,58,16],[82,14,58,18,"data"],[82,18,58,22],[82,22,58,26],[83,6,59,8],[83,7,59,9],[83,8,59,10],[84,6,60,8],[84,12,60,14,"minimizedAbi"],[84,24,60,26],[84,27,60,29,"abi"],[84,30,60,32],[84,31,60,33,"filter"],[84,37,60,39],[84,38,60,41,"abiItem"],[84,45,60,48],[84,49,60,53],[84,55,60,59],[84,59,60,63,"abiItem"],[84,66,60,70],[84,70,60,74,"abiItem"],[84,77,60,81],[84,78,60,82,"name"],[84,82,60,86],[84,87,60,91,"parameters"],[84,97,60,101],[84,98,60,102,"functionName"],[84,110,60,114],[84,111,60,115],[85,6,61,8],[85,13,61,15],[86,8,62,12,"result"],[86,14,62,18],[87,8,63,12,"request"],[87,15,63,19],[87,17,63,19,"Object"],[87,23,63,19],[87,24,63,19,"assign"],[87,30,63,19],[88,10,64,16,"abi"],[88,13,64,19],[88,15,64,21,"minimizedAbi"],[88,27,64,33],[89,10,65,16,"address"],[89,17,65,23],[90,10,66,16,"args"],[90,14,66,20],[91,10,67,16,"dataSuffix"],[91,20,67,26],[92,10,68,16,"functionName"],[93,8,68,28],[93,11,69,19,"callRequest"],[93,22,69,30],[94,10,70,16,"account"],[95,8,70,23],[96,6,72,8],[96,7,72,9],[97,4,73,4],[97,5,73,5],[97,6,74,4],[97,13,74,11,"error"],[97,18,74,16],[97,20,74,18],[98,6,75,8],[98,12,75,14],[98,16,75,14,"getContractError"],[98,46,75,30],[98,47,75,30,"getContractError"],[98,63,75,30],[98,65,75,31,"error"],[98,70,75,36],[98,72,75,38],[99,8,76,12,"abi"],[99,11,76,15],[100,8,77,12,"address"],[100,15,77,19],[101,8,78,12,"args"],[101,12,78,16],[102,8,79,12,"docsPath"],[102,16,79,20],[102,18,79,22],[102,51,79,55],[103,8,80,12,"functionName"],[103,20,80,24],[104,8,81,12,"sender"],[104,14,81,18],[104,16,81,20,"account"],[104,23,81,27],[104,25,81,29,"address"],[105,6,82,8],[105,7,82,9],[105,8,82,10],[106,4,83,4],[107,2,84,0],[108,0,84,1],[108,3]],"functionMap":{"names":["<global>","simulateContract","abi.filter$argument_0"],"mappings":"AAA;OCqC;wCCsB,0ED;CDwB"},"hasCjsExports":false},"type":"js/module"}]}