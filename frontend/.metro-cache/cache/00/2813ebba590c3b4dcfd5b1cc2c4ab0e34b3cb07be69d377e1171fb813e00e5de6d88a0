{"dependencies":[{"name":"./portalOpenInstances","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":27,"index":160},"end":{"line":9,"column":59,"index":192}}],"key":"K5tPz66v+oAtZdFlLACdKYQQtX4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.resetState = resetState;\n  exports.log = log;\n  var _portalOpenInstances = require(_dependencyMap[0], \"./portalOpenInstances\");\n  var _portalOpenInstances2 = _interopRequireDefault(_portalOpenInstances);\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  // Body focus trap see Issue #742\n\n  var before = void 0,\n    after = void 0,\n    instances = [];\n\n  /* eslint-disable no-console */\n  /* istanbul ignore next */\n  function resetState() {\n    var _arr = [before, after];\n    for (var _i = 0; _i < _arr.length; _i++) {\n      var item = _arr[_i];\n      if (!item) continue;\n      item.parentNode && item.parentNode.removeChild(item);\n    }\n    before = after = null;\n    instances = [];\n  }\n\n  /* istanbul ignore next */\n  function log() {\n    console.log(\"bodyTrap ----------\");\n    console.log(instances.length);\n    var _arr2 = [before, after];\n    for (var _i2 = 0; _i2 < _arr2.length; _i2++) {\n      var item = _arr2[_i2];\n      var check = item || {};\n      console.log(check.nodeName, check.className, check.id);\n    }\n    console.log(\"edn bodyTrap ----------\");\n  }\n  /* eslint-enable no-console */\n\n  function focusContent() {\n    if (instances.length === 0) {\n      if (process.env.NODE_ENV !== \"production\") {\n        // eslint-disable-next-line no-console\n        console.warn(\"React-Modal: Open instances > 0 expected\");\n      }\n      return;\n    }\n    instances[instances.length - 1].focusContent();\n  }\n  function bodyTrap(eventType, openInstances) {\n    if (!before && !after) {\n      before = document.createElement(\"div\");\n      before.setAttribute(\"data-react-modal-body-trap\", \"\");\n      before.style.position = \"absolute\";\n      before.style.opacity = \"0\";\n      before.setAttribute(\"tabindex\", \"0\");\n      before.addEventListener(\"focus\", focusContent);\n      after = before.cloneNode();\n      after.addEventListener(\"focus\", focusContent);\n    }\n    instances = openInstances;\n    if (instances.length > 0) {\n      // Add focus trap\n      if (document.body.firstChild !== before) {\n        document.body.insertBefore(before, document.body.firstChild);\n      }\n      if (document.body.lastChild !== after) {\n        document.body.appendChild(after);\n      }\n    } else {\n      // Remove focus trap\n      if (before.parentElement) {\n        before.parentElement.removeChild(before);\n      }\n      if (after.parentElement) {\n        after.parentElement.removeChild(after);\n      }\n    }\n  }\n  _portalOpenInstances2.default.subscribe(bodyTrap);\n});","lineCount":91,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"resetState"],[7,20,6,18],[7,23,6,21,"resetState"],[7,33,6,31],[8,2,7,0,"exports"],[8,9,7,7],[8,10,7,8,"log"],[8,13,7,11],[8,16,7,14,"log"],[8,19,7,17],[9,2,9,0],[9,6,9,4,"_portalOpenInstances"],[9,26,9,24],[9,29,9,27,"require"],[9,36,9,34],[9,37,9,34,"_dependencyMap"],[9,51,9,34],[9,79,9,58],[9,80,9,59],[10,2,11,0],[10,6,11,4,"_portalOpenInstances2"],[10,27,11,25],[10,30,11,28,"_interopRequireDefault"],[10,52,11,50],[10,53,11,51,"_portalOpenInstances"],[10,73,11,71],[10,74,11,72],[11,2,13,0],[11,11,13,9,"_interopRequireDefault"],[11,33,13,31,"_interopRequireDefault"],[11,34,13,32,"obj"],[11,37,13,35],[11,39,13,37],[12,4,13,39],[12,11,13,46,"obj"],[12,14,13,49],[12,18,13,53,"obj"],[12,21,13,56],[12,22,13,57,"__esModule"],[12,32,13,67],[12,35,13,70,"obj"],[12,38,13,73],[12,41,13,76],[13,6,13,78,"default"],[13,13,13,85],[13,15,13,87,"obj"],[14,4,13,91],[14,5,13,92],[15,2,13,94],[17,2,15,0],[19,2,17,0],[19,6,17,4,"before"],[19,12,17,10],[19,15,17,13],[19,20,17,18],[19,21,17,19],[20,4,18,4,"after"],[20,9,18,9],[20,12,18,12],[20,17,18,17],[20,18,18,18],[21,4,19,4,"instances"],[21,13,19,13],[21,16,19,16],[21,18,19,18],[23,2,21,0],[24,2,22,0],[25,2,23,0],[25,11,23,9,"resetState"],[25,21,23,19,"resetState"],[25,22,23,19],[25,24,23,22],[26,4,24,2],[26,8,24,6,"_arr"],[26,12,24,10],[26,15,24,13],[26,16,24,14,"before"],[26,22,24,20],[26,24,24,22,"after"],[26,29,24,27],[26,30,24,28],[27,4,26,2],[27,9,26,7],[27,13,26,11,"_i"],[27,15,26,13],[27,18,26,16],[27,19,26,17],[27,21,26,19,"_i"],[27,23,26,21],[27,26,26,24,"_arr"],[27,30,26,28],[27,31,26,29,"length"],[27,37,26,35],[27,39,26,37,"_i"],[27,41,26,39],[27,43,26,41],[27,45,26,43],[28,6,27,4],[28,10,27,8,"item"],[28,14,27,12],[28,17,27,15,"_arr"],[28,21,27,19],[28,22,27,20,"_i"],[28,24,27,22],[28,25,27,23],[29,6,28,4],[29,10,28,8],[29,11,28,9,"item"],[29,15,28,13],[29,17,28,15],[30,6,29,4,"item"],[30,10,29,8],[30,11,29,9,"parentNode"],[30,21,29,19],[30,25,29,23,"item"],[30,29,29,27],[30,30,29,28,"parentNode"],[30,40,29,38],[30,41,29,39,"removeChild"],[30,52,29,50],[30,53,29,51,"item"],[30,57,29,55],[30,58,29,56],[31,4,30,2],[32,4,31,2,"before"],[32,10,31,8],[32,13,31,11,"after"],[32,18,31,16],[32,21,31,19],[32,25,31,23],[33,4,32,2,"instances"],[33,13,32,11],[33,16,32,14],[33,18,32,16],[34,2,33,0],[36,2,35,0],[37,2,36,0],[37,11,36,9,"log"],[37,14,36,12,"log"],[37,15,36,12],[37,17,36,15],[38,4,37,2,"console"],[38,11,37,9],[38,12,37,10,"log"],[38,15,37,13],[38,16,37,14],[38,37,37,35],[38,38,37,36],[39,4,38,2,"console"],[39,11,38,9],[39,12,38,10,"log"],[39,15,38,13],[39,16,38,14,"instances"],[39,25,38,23],[39,26,38,24,"length"],[39,32,38,30],[39,33,38,31],[40,4,39,2],[40,8,39,6,"_arr2"],[40,13,39,11],[40,16,39,14],[40,17,39,15,"before"],[40,23,39,21],[40,25,39,23,"after"],[40,30,39,28],[40,31,39,29],[41,4,40,2],[41,9,40,7],[41,13,40,11,"_i2"],[41,16,40,14],[41,19,40,17],[41,20,40,18],[41,22,40,20,"_i2"],[41,25,40,23],[41,28,40,26,"_arr2"],[41,33,40,31],[41,34,40,32,"length"],[41,40,40,38],[41,42,40,40,"_i2"],[41,45,40,43],[41,47,40,45],[41,49,40,47],[42,6,41,4],[42,10,41,8,"item"],[42,14,41,12],[42,17,41,15,"_arr2"],[42,22,41,20],[42,23,41,21,"_i2"],[42,26,41,24],[42,27,41,25],[43,6,42,4],[43,10,42,8,"check"],[43,15,42,13],[43,18,42,16,"item"],[43,22,42,20],[43,26,42,24],[43,27,42,25],[43,28,42,26],[44,6,43,4,"console"],[44,13,43,11],[44,14,43,12,"log"],[44,17,43,15],[44,18,43,16,"check"],[44,23,43,21],[44,24,43,22,"nodeName"],[44,32,43,30],[44,34,43,32,"check"],[44,39,43,37],[44,40,43,38,"className"],[44,49,43,47],[44,51,43,49,"check"],[44,56,43,54],[44,57,43,55,"id"],[44,59,43,57],[44,60,43,58],[45,4,44,2],[46,4,45,2,"console"],[46,11,45,9],[46,12,45,10,"log"],[46,15,45,13],[46,16,45,14],[46,41,45,39],[46,42,45,40],[47,2,46,0],[48,2,47,0],[50,2,49,0],[50,11,49,9,"focusContent"],[50,23,49,21,"focusContent"],[50,24,49,21],[50,26,49,24],[51,4,50,2],[51,8,50,6,"instances"],[51,17,50,15],[51,18,50,16,"length"],[51,24,50,22],[51,29,50,27],[51,30,50,28],[51,32,50,30],[52,6,51,4],[52,10,51,8,"process"],[52,17,51,15],[52,18,51,16,"env"],[52,21,51,19],[52,22,51,20,"NODE_ENV"],[52,30,51,28],[52,35,51,33],[52,47,51,45],[52,49,51,47],[53,8,52,6],[54,8,53,6,"console"],[54,15,53,13],[54,16,53,14,"warn"],[54,20,53,18],[54,21,53,19],[54,63,53,61],[54,64,53,62],[55,6,54,4],[56,6,55,4],[57,4,56,2],[58,4,57,2,"instances"],[58,13,57,11],[58,14,57,12,"instances"],[58,23,57,21],[58,24,57,22,"length"],[58,30,57,28],[58,33,57,31],[58,34,57,32],[58,35,57,33],[58,36,57,34,"focusContent"],[58,48,57,46],[58,49,57,47],[58,50,57,48],[59,2,58,0],[60,2,60,0],[60,11,60,9,"bodyTrap"],[60,19,60,17,"bodyTrap"],[60,20,60,18,"eventType"],[60,29,60,27],[60,31,60,29,"openInstances"],[60,44,60,42],[60,46,60,44],[61,4,61,2],[61,8,61,6],[61,9,61,7,"before"],[61,15,61,13],[61,19,61,17],[61,20,61,18,"after"],[61,25,61,23],[61,27,61,25],[62,6,62,4,"before"],[62,12,62,10],[62,15,62,13,"document"],[62,23,62,21],[62,24,62,22,"createElement"],[62,37,62,35],[62,38,62,36],[62,43,62,41],[62,44,62,42],[63,6,63,4,"before"],[63,12,63,10],[63,13,63,11,"setAttribute"],[63,25,63,23],[63,26,63,24],[63,54,63,52],[63,56,63,54],[63,58,63,56],[63,59,63,57],[64,6,64,4,"before"],[64,12,64,10],[64,13,64,11,"style"],[64,18,64,16],[64,19,64,17,"position"],[64,27,64,25],[64,30,64,28],[64,40,64,38],[65,6,65,4,"before"],[65,12,65,10],[65,13,65,11,"style"],[65,18,65,16],[65,19,65,17,"opacity"],[65,26,65,24],[65,29,65,27],[65,32,65,30],[66,6,66,4,"before"],[66,12,66,10],[66,13,66,11,"setAttribute"],[66,25,66,23],[66,26,66,24],[66,36,66,34],[66,38,66,36],[66,41,66,39],[66,42,66,40],[67,6,67,4,"before"],[67,12,67,10],[67,13,67,11,"addEventListener"],[67,29,67,27],[67,30,67,28],[67,37,67,35],[67,39,67,37,"focusContent"],[67,51,67,49],[67,52,67,50],[68,6,68,4,"after"],[68,11,68,9],[68,14,68,12,"before"],[68,20,68,18],[68,21,68,19,"cloneNode"],[68,30,68,28],[68,31,68,29],[68,32,68,30],[69,6,69,4,"after"],[69,11,69,9],[69,12,69,10,"addEventListener"],[69,28,69,26],[69,29,69,27],[69,36,69,34],[69,38,69,36,"focusContent"],[69,50,69,48],[69,51,69,49],[70,4,70,2],[71,4,72,2,"instances"],[71,13,72,11],[71,16,72,14,"openInstances"],[71,29,72,27],[72,4,74,2],[72,8,74,6,"instances"],[72,17,74,15],[72,18,74,16,"length"],[72,24,74,22],[72,27,74,25],[72,28,74,26],[72,30,74,28],[73,6,75,4],[74,6,76,4],[74,10,76,8,"document"],[74,18,76,16],[74,19,76,17,"body"],[74,23,76,21],[74,24,76,22,"firstChild"],[74,34,76,32],[74,39,76,37,"before"],[74,45,76,43],[74,47,76,45],[75,8,77,6,"document"],[75,16,77,14],[75,17,77,15,"body"],[75,21,77,19],[75,22,77,20,"insertBefore"],[75,34,77,32],[75,35,77,33,"before"],[75,41,77,39],[75,43,77,41,"document"],[75,51,77,49],[75,52,77,50,"body"],[75,56,77,54],[75,57,77,55,"firstChild"],[75,67,77,65],[75,68,77,66],[76,6,78,4],[77,6,79,4],[77,10,79,8,"document"],[77,18,79,16],[77,19,79,17,"body"],[77,23,79,21],[77,24,79,22,"lastChild"],[77,33,79,31],[77,38,79,36,"after"],[77,43,79,41],[77,45,79,43],[78,8,80,6,"document"],[78,16,80,14],[78,17,80,15,"body"],[78,21,80,19],[78,22,80,20,"appendChild"],[78,33,80,31],[78,34,80,32,"after"],[78,39,80,37],[78,40,80,38],[79,6,81,4],[80,4,82,2],[80,5,82,3],[80,11,82,9],[81,6,83,4],[82,6,84,4],[82,10,84,8,"before"],[82,16,84,14],[82,17,84,15,"parentElement"],[82,30,84,28],[82,32,84,30],[83,8,85,6,"before"],[83,14,85,12],[83,15,85,13,"parentElement"],[83,28,85,26],[83,29,85,27,"removeChild"],[83,40,85,38],[83,41,85,39,"before"],[83,47,85,45],[83,48,85,46],[84,6,86,4],[85,6,87,4],[85,10,87,8,"after"],[85,15,87,13],[85,16,87,14,"parentElement"],[85,29,87,27],[85,31,87,29],[86,8,88,6,"after"],[86,13,88,11],[86,14,88,12,"parentElement"],[86,27,88,25],[86,28,88,26,"removeChild"],[86,39,88,37],[86,40,88,38,"after"],[86,45,88,43],[86,46,88,44],[87,6,89,4],[88,4,90,2],[89,2,91,0],[90,2,93,0,"_portalOpenInstances2"],[90,23,93,21],[90,24,93,22,"default"],[90,31,93,29],[90,32,93,30,"subscribe"],[90,41,93,39],[90,42,93,40,"bodyTrap"],[90,50,93,48],[90,51,93,49],[91,0,93,50],[91,3]],"functionMap":{"names":["<global>","_interopRequireDefault","resetState","log","focusContent","bodyTrap"],"mappings":"AAA;ACY,+FD;AEU;CFU;AGG;CHU;AIG;CJS;AKE;CL+B"},"hasCjsExports":true},"type":"js/module"}]}