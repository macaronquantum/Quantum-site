{"dependencies":[{"name":"../../errors/abi.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":17,"index":135},"end":{"line":4,"column":47,"index":165}}],"key":"qGW+Whuwmq2z3R+FBihEgnm5t3Q=","exportNames":["*"],"imports":1}},{"name":"../address/isAddressEqual.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":28,"index":195},"end":{"line":5,"column":67,"index":234}}],"key":"G+mn4YBvcSc/Ic6uwpWkGiF5IkY=","exportNames":["*"],"imports":1}},{"name":"../encoding/toBytes.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":21,"index":257},"end":{"line":6,"column":54,"index":290}}],"key":"hF9MuwIAwgQusvT80W2T7GwjVQE=","exportNames":["*"],"imports":1}},{"name":"../hash/keccak256.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":23,"index":315},"end":{"line":7,"column":54,"index":346}}],"key":"7bRPeOa5FdewDzbrvmXWc8HISYo=","exportNames":["*"],"imports":1}},{"name":"../hash/toEventSelector.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":29,"index":377},"end":{"line":8,"column":66,"index":414}}],"key":"+X9WY0q103xuBGKsGKfowlCj1rY=","exportNames":["*"],"imports":1}},{"name":"./decodeEventLog.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":28,"index":444},"end":{"line":9,"column":58,"index":474}}],"key":"JbmoB+T3vPLAHIoLYJf1+wupUmM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.parseEventLogs = parseEventLogs;\n  const abi_js_1 = require(_dependencyMap[0], \"../../errors/abi.js\");\n  const isAddressEqual_js_1 = require(_dependencyMap[1], \"../address/isAddressEqual.js\");\n  const toBytes_js_1 = require(_dependencyMap[2], \"../encoding/toBytes.js\");\n  const keccak256_js_1 = require(_dependencyMap[3], \"../hash/keccak256.js\");\n  const toEventSelector_js_1 = require(_dependencyMap[4], \"../hash/toEventSelector.js\");\n  const decodeEventLog_js_1 = require(_dependencyMap[5], \"./decodeEventLog.js\");\n  function parseEventLogs(parameters) {\n    const {\n      abi,\n      args,\n      logs,\n      strict = true\n    } = parameters;\n    const eventName = (() => {\n      if (!parameters.eventName) return undefined;\n      if (Array.isArray(parameters.eventName)) return parameters.eventName;\n      return [parameters.eventName];\n    })();\n    return logs.map(log => {\n      try {\n        const abiItem = abi.find(abiItem => abiItem.type === 'event' && log.topics[0] === (0, toEventSelector_js_1.toEventSelector)(abiItem));\n        if (!abiItem) return null;\n        const event = (0, decodeEventLog_js_1.decodeEventLog)({\n          ...log,\n          abi: [abiItem],\n          strict\n        });\n        if (eventName && !eventName.includes(event.eventName)) return null;\n        if (!includesArgs({\n          args: event.args,\n          inputs: abiItem.inputs,\n          matchArgs: args\n        })) return null;\n        return {\n          ...event,\n          ...log\n        };\n      } catch (err) {\n        let eventName;\n        let isUnnamed;\n        if (err instanceof abi_js_1.AbiEventSignatureNotFoundError) return null;\n        if (err instanceof abi_js_1.DecodeLogDataMismatch || err instanceof abi_js_1.DecodeLogTopicsMismatch) {\n          if (strict) return null;\n          eventName = err.abiItem.name;\n          isUnnamed = err.abiItem.inputs?.some(x => !('name' in x && x.name));\n        }\n        return {\n          ...log,\n          args: isUnnamed ? [] : {},\n          eventName\n        };\n      }\n    }).filter(Boolean);\n  }\n  function includesArgs(parameters) {\n    const {\n      args,\n      inputs,\n      matchArgs\n    } = parameters;\n    if (!matchArgs) return true;\n    if (!args) return false;\n    function isEqual(input, value, arg) {\n      try {\n        if (input.type === 'address') return (0, isAddressEqual_js_1.isAddressEqual)(value, arg);\n        if (input.type === 'string' || input.type === 'bytes') return (0, keccak256_js_1.keccak256)((0, toBytes_js_1.toBytes)(value)) === arg;\n        return value === arg;\n      } catch {\n        return false;\n      }\n    }\n    if (Array.isArray(args) && Array.isArray(matchArgs)) {\n      return matchArgs.every((value, index) => {\n        if (value === null || value === undefined) return true;\n        const input = inputs[index];\n        if (!input) return false;\n        const value_ = Array.isArray(value) ? value : [value];\n        return value_.some(value => isEqual(input, value, args[index]));\n      });\n    }\n    if (typeof args === 'object' && !Array.isArray(args) && typeof matchArgs === 'object' && !Array.isArray(matchArgs)) return Object.entries(matchArgs).every(([key, value]) => {\n      if (value === null || value === undefined) return true;\n      const input = inputs.find(input => input.name === key);\n      if (!input) return false;\n      const value_ = Array.isArray(value) ? value : [value];\n      return value_.some(value => isEqual(input, value, args[key]));\n    });\n    return false;\n  }\n});","lineCount":97,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"parseEventLogs"],[7,24,3,22],[7,27,3,25,"parseEventLogs"],[7,41,3,39],[8,2,4,0],[8,8,4,6,"abi_js_1"],[8,16,4,14],[8,19,4,17,"require"],[8,26,4,24],[8,27,4,24,"_dependencyMap"],[8,41,4,24],[8,67,4,46],[8,68,4,47],[9,2,5,0],[9,8,5,6,"isAddressEqual_js_1"],[9,27,5,25],[9,30,5,28,"require"],[9,37,5,35],[9,38,5,35,"_dependencyMap"],[9,52,5,35],[9,87,5,66],[9,88,5,67],[10,2,6,0],[10,8,6,6,"toBytes_js_1"],[10,20,6,18],[10,23,6,21,"require"],[10,30,6,28],[10,31,6,28,"_dependencyMap"],[10,45,6,28],[10,74,6,53],[10,75,6,54],[11,2,7,0],[11,8,7,6,"keccak256_js_1"],[11,22,7,20],[11,25,7,23,"require"],[11,32,7,30],[11,33,7,30,"_dependencyMap"],[11,47,7,30],[11,74,7,53],[11,75,7,54],[12,2,8,0],[12,8,8,6,"toEventSelector_js_1"],[12,28,8,26],[12,31,8,29,"require"],[12,38,8,36],[12,39,8,36,"_dependencyMap"],[12,53,8,36],[12,86,8,65],[12,87,8,66],[13,2,9,0],[13,8,9,6,"decodeEventLog_js_1"],[13,27,9,25],[13,30,9,28,"require"],[13,37,9,35],[13,38,9,35,"_dependencyMap"],[13,52,9,35],[13,78,9,57],[13,79,9,58],[14,2,10,0],[14,11,10,9,"parseEventLogs"],[14,25,10,23,"parseEventLogs"],[14,26,10,24,"parameters"],[14,36,10,34],[14,38,10,36],[15,4,11,4],[15,10,11,10],[16,6,11,12,"abi"],[16,9,11,15],[17,6,11,17,"args"],[17,10,11,21],[18,6,11,23,"logs"],[18,10,11,27],[19,6,11,29,"strict"],[19,12,11,35],[19,15,11,38],[20,4,11,43],[20,5,11,44],[20,8,11,47,"parameters"],[20,18,11,57],[21,4,12,4],[21,10,12,10,"eventName"],[21,19,12,19],[21,22,12,22],[21,23,12,23],[21,29,12,29],[22,6,13,8],[22,10,13,12],[22,11,13,13,"parameters"],[22,21,13,23],[22,22,13,24,"eventName"],[22,31,13,33],[22,33,14,12],[22,40,14,19,"undefined"],[22,49,14,28],[23,6,15,8],[23,10,15,12,"Array"],[23,15,15,17],[23,16,15,18,"isArray"],[23,23,15,25],[23,24,15,26,"parameters"],[23,34,15,36],[23,35,15,37,"eventName"],[23,44,15,46],[23,45,15,47],[23,47,16,12],[23,54,16,19,"parameters"],[23,64,16,29],[23,65,16,30,"eventName"],[23,74,16,39],[24,6,17,8],[24,13,17,15],[24,14,17,16,"parameters"],[24,24,17,26],[24,25,17,27,"eventName"],[24,34,17,36],[24,35,17,37],[25,4,18,4],[25,5,18,5],[25,7,18,7],[25,8,18,8],[26,4,19,4],[26,11,19,11,"logs"],[26,15,19,15],[26,16,20,9,"map"],[26,19,20,12],[26,20,20,14,"log"],[26,23,20,17],[26,27,20,22],[27,6,21,8],[27,10,21,12],[28,8,22,12],[28,14,22,18,"abiItem"],[28,21,22,25],[28,24,22,28,"abi"],[28,27,22,31],[28,28,22,32,"find"],[28,32,22,36],[28,33,22,38,"abiItem"],[28,40,22,45],[28,44,22,50,"abiItem"],[28,51,22,57],[28,52,22,58,"type"],[28,56,22,62],[28,61,22,67],[28,68,22,74],[28,72,23,16,"log"],[28,75,23,19],[28,76,23,20,"topics"],[28,82,23,26],[28,83,23,27],[28,84,23,28],[28,85,23,29],[28,90,23,34],[28,91,23,35],[28,92,23,36],[28,94,23,38,"toEventSelector_js_1"],[28,114,23,58],[28,115,23,59,"toEventSelector"],[28,130,23,74],[28,132,23,76,"abiItem"],[28,139,23,83],[28,140,23,84],[28,141,23,85],[29,8,24,12],[29,12,24,16],[29,13,24,17,"abiItem"],[29,20,24,24],[29,22,25,16],[29,29,25,23],[29,33,25,27],[30,8,26,12],[30,14,26,18,"event"],[30,19,26,23],[30,22,26,26],[30,23,26,27],[30,24,26,28],[30,26,26,30,"decodeEventLog_js_1"],[30,45,26,49],[30,46,26,50,"decodeEventLog"],[30,60,26,64],[30,62,26,66],[31,10,27,16],[31,13,27,19,"log"],[31,16,27,22],[32,10,28,16,"abi"],[32,13,28,19],[32,15,28,21],[32,16,28,22,"abiItem"],[32,23,28,29],[32,24,28,30],[33,10,29,16,"strict"],[34,8,30,12],[34,9,30,13],[34,10,30,14],[35,8,31,12],[35,12,31,16,"eventName"],[35,21,31,25],[35,25,31,29],[35,26,31,30,"eventName"],[35,35,31,39],[35,36,31,40,"includes"],[35,44,31,48],[35,45,31,49,"event"],[35,50,31,54],[35,51,31,55,"eventName"],[35,60,31,64],[35,61,31,65],[35,63,32,16],[35,70,32,23],[35,74,32,27],[36,8,33,12],[36,12,33,16],[36,13,33,17,"includesArgs"],[36,25,33,29],[36,26,33,30],[37,10,34,16,"args"],[37,14,34,20],[37,16,34,22,"event"],[37,21,34,27],[37,22,34,28,"args"],[37,26,34,32],[38,10,35,16,"inputs"],[38,16,35,22],[38,18,35,24,"abiItem"],[38,25,35,31],[38,26,35,32,"inputs"],[38,32,35,38],[39,10,36,16,"matchArgs"],[39,19,36,25],[39,21,36,27,"args"],[40,8,37,12],[40,9,37,13],[40,10,37,14],[40,12,38,16],[40,19,38,23],[40,23,38,27],[41,8,39,12],[41,15,39,19],[42,10,39,21],[42,13,39,24,"event"],[42,18,39,29],[43,10,39,31],[43,13,39,34,"log"],[44,8,39,38],[44,9,39,39],[45,6,40,8],[45,7,40,9],[45,8,41,8],[45,15,41,15,"err"],[45,18,41,18],[45,20,41,20],[46,8,42,12],[46,12,42,16,"eventName"],[46,21,42,25],[47,8,43,12],[47,12,43,16,"isUnnamed"],[47,21,43,25],[48,8,44,12],[48,12,44,16,"err"],[48,15,44,19],[48,27,44,31,"abi_js_1"],[48,35,44,39],[48,36,44,40,"AbiEventSignatureNotFoundError"],[48,66,44,70],[48,68,45,16],[48,75,45,23],[48,79,45,27],[49,8,46,12],[49,12,46,16,"err"],[49,15,46,19],[49,27,46,31,"abi_js_1"],[49,35,46,39],[49,36,46,40,"DecodeLogDataMismatch"],[49,57,46,61],[49,61,47,16,"err"],[49,64,47,19],[49,76,47,31,"abi_js_1"],[49,84,47,39],[49,85,47,40,"DecodeLogTopicsMismatch"],[49,108,47,63],[49,110,47,65],[50,10,48,16],[50,14,48,20,"strict"],[50,20,48,26],[50,22,49,20],[50,29,49,27],[50,33,49,31],[51,10,50,16,"eventName"],[51,19,50,25],[51,22,50,28,"err"],[51,25,50,31],[51,26,50,32,"abiItem"],[51,33,50,39],[51,34,50,40,"name"],[51,38,50,44],[52,10,51,16,"isUnnamed"],[52,19,51,25],[52,22,51,28,"err"],[52,25,51,31],[52,26,51,32,"abiItem"],[52,33,51,39],[52,34,51,40,"inputs"],[52,40,51,46],[52,42,51,48,"some"],[52,46,51,52],[52,47,51,54,"x"],[52,48,51,55],[52,52,51,60],[52,54,51,62],[52,60,51,68],[52,64,51,72,"x"],[52,65,51,73],[52,69,51,77,"x"],[52,70,51,78],[52,71,51,79,"name"],[52,75,51,83],[52,76,51,84],[52,77,51,85],[53,8,52,12],[54,8,53,12],[54,15,53,19],[55,10,53,21],[55,13,53,24,"log"],[55,16,53,27],[56,10,53,29,"args"],[56,14,53,33],[56,16,53,35,"isUnnamed"],[56,25,53,44],[56,28,53,47],[56,30,53,49],[56,33,53,52],[56,34,53,53],[56,35,53,54],[57,10,53,56,"eventName"],[58,8,53,66],[58,9,53,67],[59,6,54,8],[60,4,55,4],[60,5,55,5],[60,6,55,6],[60,7,56,9,"filter"],[60,13,56,15],[60,14,56,16,"Boolean"],[60,21,56,23],[60,22,56,24],[61,2,57,0],[62,2,58,0],[62,11,58,9,"includesArgs"],[62,23,58,21,"includesArgs"],[62,24,58,22,"parameters"],[62,34,58,32],[62,36,58,34],[63,4,59,4],[63,10,59,10],[64,6,59,12,"args"],[64,10,59,16],[65,6,59,18,"inputs"],[65,12,59,24],[66,6,59,26,"matchArgs"],[67,4,59,36],[67,5,59,37],[67,8,59,40,"parameters"],[67,18,59,50],[68,4,60,4],[68,8,60,8],[68,9,60,9,"matchArgs"],[68,18,60,18],[68,20,61,8],[68,27,61,15],[68,31,61,19],[69,4,62,4],[69,8,62,8],[69,9,62,9,"args"],[69,13,62,13],[69,15,63,8],[69,22,63,15],[69,27,63,20],[70,4,64,4],[70,13,64,13,"isEqual"],[70,20,64,20,"isEqual"],[70,21,64,21,"input"],[70,26,64,26],[70,28,64,28,"value"],[70,33,64,33],[70,35,64,35,"arg"],[70,38,64,38],[70,40,64,40],[71,6,65,8],[71,10,65,12],[72,8,66,12],[72,12,66,16,"input"],[72,17,66,21],[72,18,66,22,"type"],[72,22,66,26],[72,27,66,31],[72,36,66,40],[72,38,67,16],[72,45,67,23],[72,46,67,24],[72,47,67,25],[72,49,67,27,"isAddressEqual_js_1"],[72,68,67,46],[72,69,67,47,"isAddressEqual"],[72,83,67,61],[72,85,67,63,"value"],[72,90,67,68],[72,92,67,70,"arg"],[72,95,67,73],[72,96,67,74],[73,8,68,12],[73,12,68,16,"input"],[73,17,68,21],[73,18,68,22,"type"],[73,22,68,26],[73,27,68,31],[73,35,68,39],[73,39,68,43,"input"],[73,44,68,48],[73,45,68,49,"type"],[73,49,68,53],[73,54,68,58],[73,61,68,65],[73,63,69,16],[73,70,69,23],[73,71,69,24],[73,72,69,25],[73,74,69,27,"keccak256_js_1"],[73,88,69,41],[73,89,69,42,"keccak256"],[73,98,69,51],[73,100,69,53],[73,101,69,54],[73,102,69,55],[73,104,69,57,"toBytes_js_1"],[73,116,69,69],[73,117,69,70,"toBytes"],[73,124,69,77],[73,126,69,79,"value"],[73,131,69,84],[73,132,69,85],[73,133,69,86],[73,138,69,91,"arg"],[73,141,69,94],[74,8,70,12],[74,15,70,19,"value"],[74,20,70,24],[74,25,70,29,"arg"],[74,28,70,32],[75,6,71,8],[75,7,71,9],[75,8,72,8],[75,14,72,14],[76,8,73,12],[76,15,73,19],[76,20,73,24],[77,6,74,8],[78,4,75,4],[79,4,76,4],[79,8,76,8,"Array"],[79,13,76,13],[79,14,76,14,"isArray"],[79,21,76,21],[79,22,76,22,"args"],[79,26,76,26],[79,27,76,27],[79,31,76,31,"Array"],[79,36,76,36],[79,37,76,37,"isArray"],[79,44,76,44],[79,45,76,45,"matchArgs"],[79,54,76,54],[79,55,76,55],[79,57,76,57],[80,6,77,8],[80,13,77,15,"matchArgs"],[80,22,77,24],[80,23,77,25,"every"],[80,28,77,30],[80,29,77,31],[80,30,77,32,"value"],[80,35,77,37],[80,37,77,39,"index"],[80,42,77,44],[80,47,77,49],[81,8,78,12],[81,12,78,16,"value"],[81,17,78,21],[81,22,78,26],[81,26,78,30],[81,30,78,34,"value"],[81,35,78,39],[81,40,78,44,"undefined"],[81,49,78,53],[81,51,79,16],[81,58,79,23],[81,62,79,27],[82,8,80,12],[82,14,80,18,"input"],[82,19,80,23],[82,22,80,26,"inputs"],[82,28,80,32],[82,29,80,33,"index"],[82,34,80,38],[82,35,80,39],[83,8,81,12],[83,12,81,16],[83,13,81,17,"input"],[83,18,81,22],[83,20,82,16],[83,27,82,23],[83,32,82,28],[84,8,83,12],[84,14,83,18,"value_"],[84,20,83,24],[84,23,83,27,"Array"],[84,28,83,32],[84,29,83,33,"isArray"],[84,36,83,40],[84,37,83,41,"value"],[84,42,83,46],[84,43,83,47],[84,46,83,50,"value"],[84,51,83,55],[84,54,83,58],[84,55,83,59,"value"],[84,60,83,64],[84,61,83,65],[85,8,84,12],[85,15,84,19,"value_"],[85,21,84,25],[85,22,84,26,"some"],[85,26,84,30],[85,27,84,32,"value"],[85,32,84,37],[85,36,84,42,"isEqual"],[85,43,84,49],[85,44,84,50,"input"],[85,49,84,55],[85,51,84,57,"value"],[85,56,84,62],[85,58,84,64,"args"],[85,62,84,68],[85,63,84,69,"index"],[85,68,84,74],[85,69,84,75],[85,70,84,76],[85,71,84,77],[86,6,85,8],[86,7,85,9],[86,8,85,10],[87,4,86,4],[88,4,87,4],[88,8,87,8],[88,15,87,15,"args"],[88,19,87,19],[88,24,87,24],[88,32,87,32],[88,36,88,8],[88,37,88,9,"Array"],[88,42,88,14],[88,43,88,15,"isArray"],[88,50,88,22],[88,51,88,23,"args"],[88,55,88,27],[88,56,88,28],[88,60,89,8],[88,67,89,15,"matchArgs"],[88,76,89,24],[88,81,89,29],[88,89,89,37],[88,93,90,8],[88,94,90,9,"Array"],[88,99,90,14],[88,100,90,15,"isArray"],[88,107,90,22],[88,108,90,23,"matchArgs"],[88,117,90,32],[88,118,90,33],[88,120,91,8],[88,127,91,15,"Object"],[88,133,91,21],[88,134,91,22,"entries"],[88,141,91,29],[88,142,91,30,"matchArgs"],[88,151,91,39],[88,152,91,40],[88,153,91,41,"every"],[88,158,91,46],[88,159,91,47],[88,160,91,48],[88,161,91,49,"key"],[88,164,91,52],[88,166,91,54,"value"],[88,171,91,59],[88,172,91,60],[88,177,91,65],[89,6,92,12],[89,10,92,16,"value"],[89,15,92,21],[89,20,92,26],[89,24,92,30],[89,28,92,34,"value"],[89,33,92,39],[89,38,92,44,"undefined"],[89,47,92,53],[89,49,93,16],[89,56,93,23],[89,60,93,27],[90,6,94,12],[90,12,94,18,"input"],[90,17,94,23],[90,20,94,26,"inputs"],[90,26,94,32],[90,27,94,33,"find"],[90,31,94,37],[90,32,94,39,"input"],[90,37,94,44],[90,41,94,49,"input"],[90,46,94,54],[90,47,94,55,"name"],[90,51,94,59],[90,56,94,64,"key"],[90,59,94,67],[90,60,94,68],[91,6,95,12],[91,10,95,16],[91,11,95,17,"input"],[91,16,95,22],[91,18,96,16],[91,25,96,23],[91,30,96,28],[92,6,97,12],[92,12,97,18,"value_"],[92,18,97,24],[92,21,97,27,"Array"],[92,26,97,32],[92,27,97,33,"isArray"],[92,34,97,40],[92,35,97,41,"value"],[92,40,97,46],[92,41,97,47],[92,44,97,50,"value"],[92,49,97,55],[92,52,97,58],[92,53,97,59,"value"],[92,58,97,64],[92,59,97,65],[93,6,98,12],[93,13,98,19,"value_"],[93,19,98,25],[93,20,98,26,"some"],[93,24,98,30],[93,25,98,32,"value"],[93,30,98,37],[93,34,98,42,"isEqual"],[93,41,98,49],[93,42,98,50,"input"],[93,47,98,55],[93,49,98,57,"value"],[93,54,98,62],[93,56,98,64,"args"],[93,60,98,68],[93,61,98,69,"key"],[93,64,98,72],[93,65,98,73],[93,66,98,74],[93,67,98,75],[94,4,99,8],[94,5,99,9],[94,6,99,10],[95,4,100,4],[95,11,100,11],[95,16,100,16],[96,2,101,0],[97,0,101,1],[97,3]],"functionMap":{"names":["<global>","parseEventLogs","<anonymous>","logs.map$argument_0","abi.find$argument_0","err.abiItem.inputs.some$argument_0","includesArgs","isEqual","matchArgs.every$argument_0","value_.some$argument_0","Object.entries.every$argument_0","inputs.find$argument_0"],"mappings":"AAA;ACS;uBCE;KDM;aEE;qCCE;oFDC;qDE4B,+BF;KFI;CDE;AMC;ICM;KDW;+BEE;+BCO,6CD;SFC;+CIM;sCCG,6BD;+BDI,2CC;SJC;CNE"},"hasCjsExports":true},"type":"js/module"}]}