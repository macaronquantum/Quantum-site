{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"fees\", {\n    enumerable: true,\n    get: function () {\n      return fees;\n    }\n  });\n  const fees = {\n    /*\n     * Estimates the fees per gas for a transaction.\n        * If the transaction is to be paid in a token (feeCurrency is present) then the fees\n     * are estimated in the value of the token. Otherwise falls back to the default\n     * estimation by returning null.\n     *\n     * @param params fee estimation function parameters\n     */\n    estimateFeesPerGas: async params => {\n      if (!params.request?.feeCurrency) return null;\n      const [gasPrice, maxPriorityFeePerGas] = await Promise.all([estimateFeePerGasInFeeCurrency(params.client, params.request.feeCurrency), estimateMaxPriorityFeePerGasInFeeCurrency(params.client, params.request.feeCurrency)]);\n      // eth_gasPrice for cel2 returns baseFeePerGas + maxPriorityFeePerGas\n      const maxFeePerGas = params.multiply(gasPrice - maxPriorityFeePerGas) + maxPriorityFeePerGas;\n      return {\n        maxFeePerGas,\n        maxPriorityFeePerGas\n      };\n    }\n  };\n  /*\n   * Estimate the fee per gas in the value of the fee token\n  \n   *\n   * @param client - Client to use\n   * @param feeCurrency -  Address of a whitelisted fee token\n   * @returns The fee per gas in wei in the value of the  fee token\n   *\n   */\n  async function estimateFeePerGasInFeeCurrency(client, feeCurrency) {\n    const fee = await client.request({\n      method: 'eth_gasPrice',\n      params: [feeCurrency]\n    });\n    return BigInt(fee);\n  }\n  /*\n   * Estimate the max priority fee per gas in the value of the fee token\n  \n   *\n   * @param client - Client to use\n   * @param feeCurrency -  Address of a whitelisted fee token\n   * @returns The fee per gas in wei in the value of the  fee token\n   *\n   */\n  async function estimateMaxPriorityFeePerGasInFeeCurrency(client, feeCurrency) {\n    const feesPerGas = await client.request({\n      method: 'eth_maxPriorityFeePerGas',\n      params: [feeCurrency]\n    });\n    return BigInt(feesPerGas);\n  }\n});","lineCount":65,"map":[[7,2,1,0,"Object"],[7,8,1,0],[7,9,1,0,"defineProperty"],[7,23,1,0],[7,24,1,0,"exports"],[7,31,1,0],[8,4,1,0,"enumerable"],[8,14,1,0],[9,4,1,0,"get"],[9,7,1,0],[9,18,1,0,"get"],[9,19,1,0],[10,6,1,0],[10,13,1,0,"fees"],[10,17,1,0],[11,4,1,0],[12,2,1,0],[13,2,1,7],[13,8,1,13,"fees"],[13,12,1,17],[13,15,1,20],[14,4,2,4],[15,0,3,0],[16,0,4,0],[17,0,5,0],[18,0,6,0],[19,0,7,0],[20,0,8,0],[21,0,9,0],[22,4,11,4,"estimateFeesPerGas"],[22,22,11,22],[22,24,11,24],[22,30,11,31,"params"],[22,36,11,37],[22,40,11,42],[23,6,12,8],[23,10,12,12],[23,11,12,13,"params"],[23,17,12,19],[23,18,12,20,"request"],[23,25,12,27],[23,27,12,29,"feeCurrency"],[23,38,12,40],[23,40,13,12],[23,47,13,19],[23,51,13,23],[24,6,14,8],[24,12,14,14],[24,13,14,15,"gasPrice"],[24,21,14,23],[24,23,14,25,"maxPriorityFeePerGas"],[24,43,14,45],[24,44,14,46],[24,47,14,49],[24,53,14,55,"Promise"],[24,60,14,62],[24,61,14,63,"all"],[24,64,14,66],[24,65,14,67],[24,66,15,12,"estimateFeePerGasInFeeCurrency"],[24,96,15,42],[24,97,15,43,"params"],[24,103,15,49],[24,104,15,50,"client"],[24,110,15,56],[24,112,15,58,"params"],[24,118,15,64],[24,119,15,65,"request"],[24,126,15,72],[24,127,15,73,"feeCurrency"],[24,138,15,84],[24,139,15,85],[24,141,16,12,"estimateMaxPriorityFeePerGasInFeeCurrency"],[24,182,16,53],[24,183,16,54,"params"],[24,189,16,60],[24,190,16,61,"client"],[24,196,16,67],[24,198,16,69,"params"],[24,204,16,75],[24,205,16,76,"request"],[24,212,16,83],[24,213,16,84,"feeCurrency"],[24,224,16,95],[24,225,16,96],[24,226,17,9],[24,227,17,10],[25,6,18,8],[26,6,19,8],[26,12,19,14,"maxFeePerGas"],[26,24,19,26],[26,27,19,29,"params"],[26,33,19,35],[26,34,19,36,"multiply"],[26,42,19,44],[26,43,19,45,"gasPrice"],[26,51,19,53],[26,54,19,56,"maxPriorityFeePerGas"],[26,74,19,76],[26,75,19,77],[26,78,19,80,"maxPriorityFeePerGas"],[26,98,19,100],[27,6,20,8],[27,13,20,15],[28,8,21,12,"maxFeePerGas"],[28,20,21,24],[29,8,22,12,"maxPriorityFeePerGas"],[30,6,23,8],[30,7,23,9],[31,4,24,4],[32,2,25,0],[32,3,25,1],[33,2,26,0],[34,0,27,0],[35,0,28,0],[36,0,29,0],[37,0,30,0],[38,0,31,0],[39,0,32,0],[40,0,33,0],[41,0,34,0],[42,2,35,0],[42,17,35,15,"estimateFeePerGasInFeeCurrency"],[42,47,35,45,"estimateFeePerGasInFeeCurrency"],[42,48,35,46,"client"],[42,54,35,52],[42,56,35,54,"feeCurrency"],[42,67,35,65],[42,69,35,67],[43,4,36,4],[43,10,36,10,"fee"],[43,13,36,13],[43,16,36,16],[43,22,36,22,"client"],[43,28,36,28],[43,29,36,29,"request"],[43,36,36,36],[43,37,36,37],[44,6,37,8,"method"],[44,12,37,14],[44,14,37,16],[44,28,37,30],[45,6,38,8,"params"],[45,12,38,14],[45,14,38,16],[45,15,38,17,"feeCurrency"],[45,26,38,28],[46,4,39,4],[46,5,39,5],[46,6,39,6],[47,4,40,4],[47,11,40,11,"BigInt"],[47,17,40,17],[47,18,40,18,"fee"],[47,21,40,21],[47,22,40,22],[48,2,41,0],[49,2,42,0],[50,0,43,0],[51,0,44,0],[52,0,45,0],[53,0,46,0],[54,0,47,0],[55,0,48,0],[56,0,49,0],[57,0,50,0],[58,2,51,0],[58,17,51,15,"estimateMaxPriorityFeePerGasInFeeCurrency"],[58,58,51,56,"estimateMaxPriorityFeePerGasInFeeCurrency"],[58,59,51,57,"client"],[58,65,51,63],[58,67,51,65,"feeCurrency"],[58,78,51,76],[58,80,51,78],[59,4,52,4],[59,10,52,10,"feesPerGas"],[59,20,52,20],[59,23,52,23],[59,29,52,29,"client"],[59,35,52,35],[59,36,52,36,"request"],[59,43,52,43],[59,44,52,44],[60,6,53,8,"method"],[60,12,53,14],[60,14,53,16],[60,40,53,42],[61,6,54,8,"params"],[61,12,54,14],[61,14,54,16],[61,15,54,17,"feeCurrency"],[61,26,54,28],[62,4,55,4],[62,5,55,5],[62,6,55,6],[63,4,56,4],[63,11,56,11,"BigInt"],[63,17,56,17],[63,18,56,18,"feesPerGas"],[63,28,56,28],[63,29,56,29],[64,2,57,0],[65,0,57,1],[65,3]],"functionMap":{"names":["<global>","estimateFeesPerGas","estimateFeePerGasInFeeCurrency","estimateMaxPriorityFeePerGasInFeeCurrency"],"mappings":"AAA;wBCU;KDa;AEW;CFM;AGU;CHM"},"hasCjsExports":false},"type":"js/module"}]}