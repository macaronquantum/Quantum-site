{"dependencies":[{"name":"../data/isHex.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":41,"index":41}}],"key":"NhiexdC6BtPYhT7eyfi4LNFFKTs=","exportNames":["*"],"imports":1}},{"name":"../encoding/fromHex.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":42},"end":{"line":2,"column":67,"index":109}}],"key":"tPRb/LmYZw+KWpPxVF48i1uoQUQ=","exportNames":["*"],"imports":1}},{"name":"../encoding/toHex.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":110},"end":{"line":3,"column":45,"index":155}}],"key":"1u7+Hy8ShwFUBPl4caP50RjfjdI=","exportNames":["*"],"imports":1}},{"name":"@noble/curves/secp256k1","data":{"asyncType":"async","isESMImport":true,"locs":[{"start":{"line":6,"column":32,"index":305},"end":{"line":6,"column":65,"index":338}}],"key":"9bAkH0pi0OOa8gXk+nMfpsTwdco=","exportNames":["*"],"imports":1}},{"name":"expo/internal/async-require-module","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":26,"index":299},"end":{"line":6,"column":65,"index":338}}],"key":"y8mhXL4zKvSVvgnacXXOn0UU+QQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.recoverPublicKey = recoverPublicKey;\n  var _dataIsHexJs = require(_dependencyMap[0], \"../data/isHex.js\");\n  var _encodingFromHexJs = require(_dependencyMap[1], \"../encoding/fromHex.js\");\n  var _encodingToHexJs = require(_dependencyMap[2], \"../encoding/toHex.js\");\n  async function recoverPublicKey({\n    hash,\n    signature\n  }) {\n    const hashHex = (0, _dataIsHexJs.isHex)(hash) ? hash : (0, _encodingToHexJs.toHex)(hash);\n    const {\n      secp256k1\n    } = await require(_dependencyMap[4], \"expo/internal/async-require-module\")(_dependencyMap[3], _dependencyMap.paths, \"@noble/curves/secp256k1\");\n    const signature_ = (() => {\n      // typeof signature: `Signature`\n      if (typeof signature === 'object' && 'r' in signature && 's' in signature) {\n        const {\n          r,\n          s,\n          v,\n          yParity\n        } = signature;\n        const yParityOrV = Number(yParity ?? v);\n        const recoveryBit = toRecoveryBit(yParityOrV);\n        return new secp256k1.Signature((0, _encodingFromHexJs.hexToBigInt)(r), (0, _encodingFromHexJs.hexToBigInt)(s)).addRecoveryBit(recoveryBit);\n      }\n      // typeof signature: `Hex | ByteArray`\n      const signatureHex = (0, _dataIsHexJs.isHex)(signature) ? signature : (0, _encodingToHexJs.toHex)(signature);\n      const yParityOrV = (0, _encodingFromHexJs.hexToNumber)(`0x${signatureHex.slice(130)}`);\n      const recoveryBit = toRecoveryBit(yParityOrV);\n      return secp256k1.Signature.fromCompact(signatureHex.substring(2, 130)).addRecoveryBit(recoveryBit);\n    })();\n    const publicKey = signature_.recoverPublicKey(hashHex.substring(2)).toHex(false);\n    return `0x${publicKey}`;\n  }\n  function toRecoveryBit(yParityOrV) {\n    if (yParityOrV === 0 || yParityOrV === 1) return yParityOrV;\n    if (yParityOrV === 27) return 0;\n    if (yParityOrV === 28) return 1;\n    throw new Error('Invalid yParityOrV value');\n  }\n});","lineCount":47,"map":[[7,2,4,0,"exports"],[7,9,4,0],[7,10,4,0,"recoverPublicKey"],[7,26,4,0],[7,29,4,0,"recoverPublicKey"],[7,45,4,0],[8,2,1,0],[8,6,1,0,"_dataIsHexJs"],[8,18,1,0],[8,21,1,0,"require"],[8,28,1,0],[8,29,1,0,"_dependencyMap"],[8,43,1,0],[9,2,2,0],[9,6,2,0,"_encodingFromHexJs"],[9,24,2,0],[9,27,2,0,"require"],[9,34,2,0],[9,35,2,0,"_dependencyMap"],[9,49,2,0],[10,2,3,0],[10,6,3,0,"_encodingToHexJs"],[10,22,3,0],[10,25,3,0,"require"],[10,32,3,0],[10,33,3,0,"_dependencyMap"],[10,47,3,0],[11,2,4,7],[11,17,4,22,"recoverPublicKey"],[11,33,4,38,"recoverPublicKey"],[11,34,4,39],[12,4,4,41,"hash"],[12,8,4,45],[13,4,4,47,"signature"],[14,2,4,58],[14,3,4,59],[14,5,4,61],[15,4,5,4],[15,10,5,10,"hashHex"],[15,17,5,17],[15,20,5,20],[15,24,5,20,"isHex"],[15,36,5,25],[15,37,5,25,"isHex"],[15,42,5,25],[15,44,5,26,"hash"],[15,48,5,30],[15,49,5,31],[15,52,5,34,"hash"],[15,56,5,38],[15,59,5,41],[15,63,5,41,"toHex"],[15,79,5,46],[15,80,5,46,"toHex"],[15,85,5,46],[15,87,5,47,"hash"],[15,91,5,51],[15,92,5,52],[16,4,6,4],[16,10,6,10],[17,6,6,12,"secp256k1"],[18,4,6,22],[18,5,6,23],[18,8,6,26],[18,14,6,26,"require"],[18,21,6,26],[18,22,6,26,"_dependencyMap"],[18,36,6,26],[18,79,6,26,"_dependencyMap"],[18,93,6,26],[18,98,6,26,"_dependencyMap"],[18,112,6,26],[18,113,6,26,"paths"],[18,118,6,26],[18,146,6,65],[19,4,7,4],[19,10,7,10,"signature_"],[19,20,7,20],[19,23,7,23],[19,24,7,24],[19,30,7,30],[20,6,8,8],[21,6,9,8],[21,10,9,12],[21,17,9,19,"signature"],[21,26,9,28],[21,31,9,33],[21,39,9,41],[21,43,9,45],[21,46,9,48],[21,50,9,52,"signature"],[21,59,9,61],[21,63,9,65],[21,66,9,68],[21,70,9,72,"signature"],[21,79,9,81],[21,81,9,83],[22,8,10,12],[22,14,10,18],[23,10,10,20,"r"],[23,11,10,21],[24,10,10,23,"s"],[24,11,10,24],[25,10,10,26,"v"],[25,11,10,27],[26,10,10,29,"yParity"],[27,8,10,37],[27,9,10,38],[27,12,10,41,"signature"],[27,21,10,50],[28,8,11,12],[28,14,11,18,"yParityOrV"],[28,24,11,28],[28,27,11,31,"Number"],[28,33,11,37],[28,34,11,38,"yParity"],[28,41,11,45],[28,45,11,49,"v"],[28,46,11,50],[28,47,11,51],[29,8,12,12],[29,14,12,18,"recoveryBit"],[29,25,12,29],[29,28,12,32,"toRecoveryBit"],[29,41,12,45],[29,42,12,46,"yParityOrV"],[29,52,12,56],[29,53,12,57],[30,8,13,12],[30,15,13,19],[30,19,13,23,"secp256k1"],[30,28,13,32],[30,29,13,33,"Signature"],[30,38,13,42],[30,39,13,43],[30,43,13,43,"hexToBigInt"],[30,61,13,54],[30,62,13,54,"hexToBigInt"],[30,73,13,54],[30,75,13,55,"r"],[30,76,13,56],[30,77,13,57],[30,79,13,59],[30,83,13,59,"hexToBigInt"],[30,101,13,70],[30,102,13,70,"hexToBigInt"],[30,113,13,70],[30,115,13,71,"s"],[30,116,13,72],[30,117,13,73],[30,118,13,74],[30,119,13,75,"addRecoveryBit"],[30,133,13,89],[30,134,13,90,"recoveryBit"],[30,145,13,101],[30,146,13,102],[31,6,14,8],[32,6,15,8],[33,6,16,8],[33,12,16,14,"signatureHex"],[33,24,16,26],[33,27,16,29],[33,31,16,29,"isHex"],[33,43,16,34],[33,44,16,34,"isHex"],[33,49,16,34],[33,51,16,35,"signature"],[33,60,16,44],[33,61,16,45],[33,64,16,48,"signature"],[33,73,16,57],[33,76,16,60],[33,80,16,60,"toHex"],[33,96,16,65],[33,97,16,65,"toHex"],[33,102,16,65],[33,104,16,66,"signature"],[33,113,16,75],[33,114,16,76],[34,6,17,8],[34,12,17,14,"yParityOrV"],[34,22,17,24],[34,25,17,27],[34,29,17,27,"hexToNumber"],[34,47,17,38],[34,48,17,38,"hexToNumber"],[34,59,17,38],[34,61,17,39],[34,66,17,44,"signatureHex"],[34,78,17,56],[34,79,17,57,"slice"],[34,84,17,62],[34,85,17,63],[34,88,17,66],[34,89,17,67],[34,91,17,69],[34,92,17,70],[35,6,18,8],[35,12,18,14,"recoveryBit"],[35,23,18,25],[35,26,18,28,"toRecoveryBit"],[35,39,18,41],[35,40,18,42,"yParityOrV"],[35,50,18,52],[35,51,18,53],[36,6,19,8],[36,13,19,15,"secp256k1"],[36,22,19,24],[36,23,19,25,"Signature"],[36,32,19,34],[36,33,19,35,"fromCompact"],[36,44,19,46],[36,45,19,47,"signatureHex"],[36,57,19,59],[36,58,19,60,"substring"],[36,67,19,69],[36,68,19,70],[36,69,19,71],[36,71,19,73],[36,74,19,76],[36,75,19,77],[36,76,19,78],[36,77,19,79,"addRecoveryBit"],[36,91,19,93],[36,92,19,94,"recoveryBit"],[36,103,19,105],[36,104,19,106],[37,4,20,4],[37,5,20,5],[37,7,20,7],[37,8,20,8],[38,4,21,4],[38,10,21,10,"publicKey"],[38,19,21,19],[38,22,21,22,"signature_"],[38,32,21,32],[38,33,22,9,"recoverPublicKey"],[38,49,22,25],[38,50,22,26,"hashHex"],[38,57,22,33],[38,58,22,34,"substring"],[38,67,22,43],[38,68,22,44],[38,69,22,45],[38,70,22,46],[38,71,22,47],[38,72,23,9,"toHex"],[38,77,23,14],[38,78,23,15],[38,83,23,20],[38,84,23,21],[39,4,24,4],[39,11,24,11],[39,16,24,16,"publicKey"],[39,25,24,25],[39,27,24,27],[40,2,25,0],[41,2,26,0],[41,11,26,9,"toRecoveryBit"],[41,24,26,22,"toRecoveryBit"],[41,25,26,23,"yParityOrV"],[41,35,26,33],[41,37,26,35],[42,4,27,4],[42,8,27,8,"yParityOrV"],[42,18,27,18],[42,23,27,23],[42,24,27,24],[42,28,27,28,"yParityOrV"],[42,38,27,38],[42,43,27,43],[42,44,27,44],[42,46,28,8],[42,53,28,15,"yParityOrV"],[42,63,28,25],[43,4,29,4],[43,8,29,8,"yParityOrV"],[43,18,29,18],[43,23,29,23],[43,25,29,25],[43,27,30,8],[43,34,30,15],[43,35,30,16],[44,4,31,4],[44,8,31,8,"yParityOrV"],[44,18,31,18],[44,23,31,23],[44,25,31,25],[44,27,32,8],[44,34,32,15],[44,35,32,16],[45,4,33,4],[45,10,33,10],[45,14,33,14,"Error"],[45,19,33,19],[45,20,33,20],[45,46,33,46],[45,47,33,47],[46,2,34,0],[47,0,34,1],[47,3]],"functionMap":{"names":["<global>","recoverPublicKey","<anonymous>","toRecoveryBit"],"mappings":"AAA;OCG;wBCG;KDa;CDK;AGC;CHQ"},"hasCjsExports":false},"type":"js/module"}]}