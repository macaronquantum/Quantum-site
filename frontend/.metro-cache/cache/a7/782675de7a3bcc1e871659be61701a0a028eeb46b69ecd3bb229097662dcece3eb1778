{"dependencies":[{"name":"../../constants/abis.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":18,"index":128},"end":{"line":4,"column":52,"index":162}}],"key":"yrHWypZlegCAdNz0tkfsugt0VBw=","exportNames":["*"],"imports":1}},{"name":"../../utils/chain/getChainContractAddress.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":37,"index":201},"end":{"line":5,"column":92,"index":256}}],"key":"LSOHYraFRKmn1vhzttHaVrAvnvY=","exportNames":["*"],"imports":1}},{"name":"../../utils/encoding/toHex.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":19,"index":277},"end":{"line":6,"column":59,"index":317}}],"key":"H7vq9DbZar/LBdoWrgikLXyV5L0=","exportNames":["*"],"imports":1}},{"name":"../../utils/ens/errors.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":20,"index":339},"end":{"line":7,"column":56,"index":375}}],"key":"bJ3HFECcOq3rJI5yc4mdcXLPNdM=","exportNames":["*"],"imports":1}},{"name":"../../utils/ens/packetToBytes.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":27,"index":404},"end":{"line":8,"column":70,"index":447}}],"key":"qZUsVA/n+grVYHWGPUJto9s8big=","exportNames":["*"],"imports":1}},{"name":"../../utils/getAction.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":23,"index":472},"end":{"line":9,"column":58,"index":507}}],"key":"d685V9n1u7O1oRJ2ZbnkuLpcslA=","exportNames":["*"],"imports":1}},{"name":"../public/readContract.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":26,"index":535},"end":{"line":10,"column":62,"index":571}}],"key":"UxqVCL+UT7iOwBMYmrSJxJgcrJI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getEnsName = getEnsName;\n  const abis_js_1 = require(_dependencyMap[0], \"../../constants/abis.js\");\n  const getChainContractAddress_js_1 = require(_dependencyMap[1], \"../../utils/chain/getChainContractAddress.js\");\n  const toHex_js_1 = require(_dependencyMap[2], \"../../utils/encoding/toHex.js\");\n  const errors_js_1 = require(_dependencyMap[3], \"../../utils/ens/errors.js\");\n  const packetToBytes_js_1 = require(_dependencyMap[4], \"../../utils/ens/packetToBytes.js\");\n  const getAction_js_1 = require(_dependencyMap[5], \"../../utils/getAction.js\");\n  const readContract_js_1 = require(_dependencyMap[6], \"../public/readContract.js\");\n  async function getEnsName(client, {\n    address,\n    blockNumber,\n    blockTag,\n    gatewayUrls,\n    strict,\n    universalResolverAddress: universalResolverAddress_\n  }) {\n    let universalResolverAddress = universalResolverAddress_;\n    if (!universalResolverAddress) {\n      if (!client.chain) throw new Error('client chain not configured. universalResolverAddress is required.');\n      universalResolverAddress = (0, getChainContractAddress_js_1.getChainContractAddress)({\n        blockNumber,\n        chain: client.chain,\n        contract: 'ensUniversalResolver'\n      });\n    }\n    const reverseNode = `${address.toLowerCase().substring(2)}.addr.reverse`;\n    try {\n      const readContractParameters = {\n        address: universalResolverAddress,\n        abi: abis_js_1.universalResolverReverseAbi,\n        functionName: 'reverse',\n        args: [(0, toHex_js_1.toHex)((0, packetToBytes_js_1.packetToBytes)(reverseNode))],\n        blockNumber,\n        blockTag\n      };\n      const readContractAction = (0, getAction_js_1.getAction)(client, readContract_js_1.readContract, 'readContract');\n      const [name, resolvedAddress] = gatewayUrls ? await readContractAction({\n        ...readContractParameters,\n        args: [...readContractParameters.args, gatewayUrls]\n      }) : await readContractAction(readContractParameters);\n      if (address.toLowerCase() !== resolvedAddress.toLowerCase()) return null;\n      return name;\n    } catch (err) {\n      if (strict) throw err;\n      if ((0, errors_js_1.isNullUniversalResolverError)(err, 'reverse')) return null;\n      throw err;\n    }\n  }\n});","lineCount":55,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"getEnsName"],[7,20,3,18],[7,23,3,21,"getEnsName"],[7,33,3,31],[8,2,4,0],[8,8,4,6,"abis_js_1"],[8,17,4,15],[8,20,4,18,"require"],[8,27,4,25],[8,28,4,25,"_dependencyMap"],[8,42,4,25],[8,72,4,51],[8,73,4,52],[9,2,5,0],[9,8,5,6,"getChainContractAddress_js_1"],[9,36,5,34],[9,39,5,37,"require"],[9,46,5,44],[9,47,5,44,"_dependencyMap"],[9,61,5,44],[9,112,5,91],[9,113,5,92],[10,2,6,0],[10,8,6,6,"toHex_js_1"],[10,18,6,16],[10,21,6,19,"require"],[10,28,6,26],[10,29,6,26,"_dependencyMap"],[10,43,6,26],[10,79,6,58],[10,80,6,59],[11,2,7,0],[11,8,7,6,"errors_js_1"],[11,19,7,17],[11,22,7,20,"require"],[11,29,7,27],[11,30,7,27,"_dependencyMap"],[11,44,7,27],[11,76,7,55],[11,77,7,56],[12,2,8,0],[12,8,8,6,"packetToBytes_js_1"],[12,26,8,24],[12,29,8,27,"require"],[12,36,8,34],[12,37,8,34,"_dependencyMap"],[12,51,8,34],[12,90,8,69],[12,91,8,70],[13,2,9,0],[13,8,9,6,"getAction_js_1"],[13,22,9,20],[13,25,9,23,"require"],[13,32,9,30],[13,33,9,30,"_dependencyMap"],[13,47,9,30],[13,78,9,57],[13,79,9,58],[14,2,10,0],[14,8,10,6,"readContract_js_1"],[14,25,10,23],[14,28,10,26,"require"],[14,35,10,33],[14,36,10,33,"_dependencyMap"],[14,50,10,33],[14,82,10,61],[14,83,10,62],[15,2,11,0],[15,17,11,15,"getEnsName"],[15,27,11,25,"getEnsName"],[15,28,11,26,"client"],[15,34,11,32],[15,36,11,34],[16,4,11,36,"address"],[16,11,11,43],[17,4,11,45,"blockNumber"],[17,15,11,56],[18,4,11,58,"blockTag"],[18,12,11,66],[19,4,11,68,"gatewayUrls"],[19,15,11,79],[20,4,11,81,"strict"],[20,10,11,87],[21,4,11,89,"universalResolverAddress"],[21,28,11,113],[21,30,11,115,"universalResolverAddress_"],[22,2,11,142],[22,3,11,143],[22,5,11,145],[23,4,12,4],[23,8,12,8,"universalResolverAddress"],[23,32,12,32],[23,35,12,35,"universalResolverAddress_"],[23,60,12,60],[24,4,13,4],[24,8,13,8],[24,9,13,9,"universalResolverAddress"],[24,33,13,33],[24,35,13,35],[25,6,14,8],[25,10,14,12],[25,11,14,13,"client"],[25,17,14,19],[25,18,14,20,"chain"],[25,23,14,25],[25,25,15,12],[25,31,15,18],[25,35,15,22,"Error"],[25,40,15,27],[25,41,15,28],[25,109,15,96],[25,110,15,97],[26,6,16,8,"universalResolverAddress"],[26,30,16,32],[26,33,16,35],[26,34,16,36],[26,35,16,37],[26,37,16,39,"getChainContractAddress_js_1"],[26,65,16,67],[26,66,16,68,"getChainContractAddress"],[26,89,16,91],[26,91,16,93],[27,8,17,12,"blockNumber"],[27,19,17,23],[28,8,18,12,"chain"],[28,13,18,17],[28,15,18,19,"client"],[28,21,18,25],[28,22,18,26,"chain"],[28,27,18,31],[29,8,19,12,"contract"],[29,16,19,20],[29,18,19,22],[30,6,20,8],[30,7,20,9],[30,8,20,10],[31,4,21,4],[32,4,22,4],[32,10,22,10,"reverseNode"],[32,21,22,21],[32,24,22,24],[32,27,22,27,"address"],[32,34,22,34],[32,35,22,35,"toLowerCase"],[32,46,22,46],[32,47,22,47],[32,48,22,48],[32,49,22,49,"substring"],[32,58,22,58],[32,59,22,59],[32,60,22,60],[32,61,22,61],[32,76,22,76],[33,4,23,4],[33,8,23,8],[34,6,24,8],[34,12,24,14,"readContractParameters"],[34,34,24,36],[34,37,24,39],[35,8,25,12,"address"],[35,15,25,19],[35,17,25,21,"universalResolverAddress"],[35,41,25,45],[36,8,26,12,"abi"],[36,11,26,15],[36,13,26,17,"abis_js_1"],[36,22,26,26],[36,23,26,27,"universalResolverReverseAbi"],[36,50,26,54],[37,8,27,12,"functionName"],[37,20,27,24],[37,22,27,26],[37,31,27,35],[38,8,28,12,"args"],[38,12,28,16],[38,14,28,18],[38,15,28,19],[38,16,28,20],[38,17,28,21],[38,19,28,23,"toHex_js_1"],[38,29,28,33],[38,30,28,34,"toHex"],[38,35,28,39],[38,37,28,41],[38,38,28,42],[38,39,28,43],[38,41,28,45,"packetToBytes_js_1"],[38,59,28,63],[38,60,28,64,"packetToBytes"],[38,73,28,77],[38,75,28,79,"reverseNode"],[38,86,28,90],[38,87,28,91],[38,88,28,92],[38,89,28,93],[39,8,29,12,"blockNumber"],[39,19,29,23],[40,8,30,12,"blockTag"],[41,6,31,8],[41,7,31,9],[42,6,32,8],[42,12,32,14,"readContractAction"],[42,30,32,32],[42,33,32,35],[42,34,32,36],[42,35,32,37],[42,37,32,39,"getAction_js_1"],[42,51,32,53],[42,52,32,54,"getAction"],[42,61,32,63],[42,63,32,65,"client"],[42,69,32,71],[42,71,32,73,"readContract_js_1"],[42,88,32,90],[42,89,32,91,"readContract"],[42,101,32,103],[42,103,32,105],[42,117,32,119],[42,118,32,120],[43,6,33,8],[43,12,33,14],[43,13,33,15,"name"],[43,17,33,19],[43,19,33,21,"resolvedAddress"],[43,34,33,36],[43,35,33,37],[43,38,33,40,"gatewayUrls"],[43,49,33,51],[43,52,34,14],[43,58,34,20,"readContractAction"],[43,76,34,38],[43,77,34,39],[44,8,35,16],[44,11,35,19,"readContractParameters"],[44,33,35,41],[45,8,36,16,"args"],[45,12,36,20],[45,14,36,22],[45,15,36,23],[45,18,36,26,"readContractParameters"],[45,40,36,48],[45,41,36,49,"args"],[45,45,36,53],[45,47,36,55,"gatewayUrls"],[45,58,36,66],[46,6,37,12],[46,7,37,13],[46,8,37,14],[46,11,38,14],[46,17,38,20,"readContractAction"],[46,35,38,38],[46,36,38,39,"readContractParameters"],[46,58,38,61],[46,59,38,62],[47,6,39,8],[47,10,39,12,"address"],[47,17,39,19],[47,18,39,20,"toLowerCase"],[47,29,39,31],[47,30,39,32],[47,31,39,33],[47,36,39,38,"resolvedAddress"],[47,51,39,53],[47,52,39,54,"toLowerCase"],[47,63,39,65],[47,64,39,66],[47,65,39,67],[47,67,40,12],[47,74,40,19],[47,78,40,23],[48,6,41,8],[48,13,41,15,"name"],[48,17,41,19],[49,4,42,4],[49,5,42,5],[49,6,43,4],[49,13,43,11,"err"],[49,16,43,14],[49,18,43,16],[50,6,44,8],[50,10,44,12,"strict"],[50,16,44,18],[50,18,45,12],[50,24,45,18,"err"],[50,27,45,21],[51,6,46,8],[51,10,46,12],[51,11,46,13],[51,12,46,14],[51,14,46,16,"errors_js_1"],[51,25,46,27],[51,26,46,28,"isNullUniversalResolverError"],[51,54,46,56],[51,56,46,58,"err"],[51,59,46,61],[51,61,46,63],[51,70,46,72],[51,71,46,73],[51,73,47,12],[51,80,47,19],[51,84,47,23],[52,6,48,8],[52,12,48,14,"err"],[52,15,48,17],[53,4,49,4],[54,2,50,0],[55,0,50,1],[55,3]],"functionMap":{"names":["<global>","getEnsName"],"mappings":"AAA;ACU;CDuC"},"hasCjsExports":true},"type":"js/module"}]}