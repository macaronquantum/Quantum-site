{"dependencies":[{"name":"../core/Hex.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":38,"index":38}}],"key":"PQonHNjYnPEqTcMveCAIm3LDrLI=","exportNames":["*"],"imports":1}},{"name":"../core/TransactionRequest.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":39},"end":{"line":2,"column":71,"index":110}}],"key":"hltQ42eILWbHWLJFne9BKOQ1cOE=","exportNames":["*"],"imports":1}},{"name":"./AuthorizationTempo.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":111},"end":{"line":3,"column":62,"index":173}}],"key":"I2nrMZgagFOeRdmXwzczk6DFVVA=","exportNames":["*"],"imports":1}},{"name":"./KeyAuthorization.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":174},"end":{"line":4,"column":58,"index":232}}],"key":"RkZAomWmit8G9vypHCdhwGlJDq4=","exportNames":["*"],"imports":1}},{"name":"./TokenId.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":233},"end":{"line":5,"column":40,"index":273}}],"key":"kOJX/OueqC0zn/DcXZdx71//wNY=","exportNames":["*"],"imports":1}},{"name":"./Transaction.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":274},"end":{"line":6,"column":48,"index":322}}],"key":"Lu4+ZHRivJXs5rF/dusqCSvv/Ok=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  exports.toRpc = toRpc;\n  var _coreHexJs = require(_dependencyMap[0], \"../core/Hex.js\");\n  var Hex = _interopNamespace(_coreHexJs);\n  var _coreTransactionRequestJs = require(_dependencyMap[1], \"../core/TransactionRequest.js\");\n  var ox_TransactionRequest = _interopNamespace(_coreTransactionRequestJs);\n  var _AuthorizationTempoJs = require(_dependencyMap[2], \"./AuthorizationTempo.js\");\n  var AuthorizationTempo = _interopNamespace(_AuthorizationTempoJs);\n  var _KeyAuthorizationJs = require(_dependencyMap[3], \"./KeyAuthorization.js\");\n  var KeyAuthorization = _interopNamespace(_KeyAuthorizationJs);\n  var _TokenIdJs = require(_dependencyMap[4], \"./TokenId.js\");\n  var TokenId = _interopNamespace(_TokenIdJs);\n  var _TransactionJs = require(_dependencyMap[5], \"./Transaction.js\");\n  var Transaction = _interopNamespace(_TransactionJs);\n  /**\n   * Converts a {@link ox#TransactionRequest.TransactionRequest} to a {@link ox#TransactionRequest.Rpc}.\n   *\n   * @see {@link https://docs.tempo.xyz/protocol/transactions Tempo Transactions}\n   *\n   * @example\n   * ```ts twoslash\n   * import { Value } from 'ox'\n   * import { TransactionRequest } from 'ox/tempo'\n   *\n   * const request = TransactionRequest.toRpc({\n   *   calls: [{\n   *     data: '0xdeadbeef',\n   *     to: '0xcafebabecafebabecafebabecafebabecafebabe',\n   *   }],\n   *   feeToken: '0x20c0000000000000000000000000000000000000',\n   * })\n   * ```\n   *\n   * @example\n   * ### Using with a Provider\n   *\n   * You can use {@link ox#Provider.(from:function)} to instantiate an EIP-1193 Provider and\n   * send a transaction to the Wallet using the `eth_sendTransaction` method.\n   *\n   * ```ts twoslash\n   * import 'ox/window'\n   * import { Provider, Value } from 'ox'\n   * import { TransactionRequest } from 'ox/tempo'\n   *\n   * const provider = Provider.from(window.ethereum!)\n   *\n   * const request = TransactionRequest.toRpc({\n   *   calls: [{\n   *     data: '0xdeadbeef',\n   *     to: '0xcafebabecafebabecafebabecafebabecafebabe',\n   *   }],\n   *   feeToken: '0x20c0000000000000000000000000000000000000',\n   * })\n   *\n   * const hash = await provider.request({ // [!code focus]\n   *   method: 'eth_sendTransaction', // [!code focus]\n   *   params: [request], // [!code focus]\n   * }) // [!code focus]\n   * ```\n   *\n   * @param request - The request to convert.\n   * @returns An RPC request.\n   */\n  function toRpc(request) {\n    const request_rpc = ox_TransactionRequest.toRpc(Object.assign({}, request, {\n      authorizationList: undefined\n    }));\n    if (request.authorizationList) request_rpc.authorizationList = AuthorizationTempo.toRpcList(request.authorizationList);\n    if (request.calls) request_rpc.calls = request.calls.map(call => ({\n      to: call.to,\n      value: call.value ? Hex.fromNumber(call.value) : '0x',\n      data: call.data ?? '0x'\n    }));\n    if (typeof request.feeToken !== 'undefined') request_rpc.feeToken = TokenId.toAddress(request.feeToken);\n    if (request.keyAuthorization) request_rpc.keyAuthorization = KeyAuthorization.toRpc(request.keyAuthorization);\n    if (typeof request.validBefore !== 'undefined') request_rpc.validBefore = Hex.fromNumber(request.validBefore);\n    if (typeof request.validAfter !== 'undefined') request_rpc.validAfter = Hex.fromNumber(request.validAfter);\n    const nonceKey = (() => {\n      if (request.nonceKey === 'random') return Hex.random(6);\n      if (typeof request.nonceKey === 'bigint') return Hex.fromNumber(request.nonceKey);\n      return undefined;\n    })();\n    if (nonceKey) request_rpc.nonceKey = nonceKey;\n    if (typeof request.calls !== 'undefined' || typeof request.feeToken !== 'undefined' || typeof request.keyAuthorization !== 'undefined' || typeof request.nonceKey !== 'undefined' || typeof request.validBefore !== 'undefined' || typeof request.validAfter !== 'undefined' || request.type === 'tempo') {\n      request_rpc.type = Transaction.toRpcType.tempo;\n      delete request_rpc.data;\n      delete request_rpc.input;\n      delete request_rpc.to;\n      delete request_rpc.value;\n    }\n    return request_rpc;\n  }\n});","lineCount":113,"map":[[22,2,56,0,"exports"],[22,9,56,0],[22,10,56,0,"toRpc"],[22,15,56,0],[22,18,56,0,"toRpc"],[22,23,56,0],[23,2,1,0],[23,6,1,0,"_coreHexJs"],[23,16,1,0],[23,19,1,0,"require"],[23,26,1,0],[23,27,1,0,"_dependencyMap"],[23,41,1,0],[24,2,1,0],[24,6,1,0,"Hex"],[24,9,1,0],[24,12,1,0,"_interopNamespace"],[24,29,1,0],[24,30,1,0,"_coreHexJs"],[24,40,1,0],[25,2,2,0],[25,6,2,0,"_coreTransactionRequestJs"],[25,31,2,0],[25,34,2,0,"require"],[25,41,2,0],[25,42,2,0,"_dependencyMap"],[25,56,2,0],[26,2,2,0],[26,6,2,0,"ox_TransactionRequest"],[26,27,2,0],[26,30,2,0,"_interopNamespace"],[26,47,2,0],[26,48,2,0,"_coreTransactionRequestJs"],[26,73,2,0],[27,2,3,0],[27,6,3,0,"_AuthorizationTempoJs"],[27,27,3,0],[27,30,3,0,"require"],[27,37,3,0],[27,38,3,0,"_dependencyMap"],[27,52,3,0],[28,2,3,0],[28,6,3,0,"AuthorizationTempo"],[28,24,3,0],[28,27,3,0,"_interopNamespace"],[28,44,3,0],[28,45,3,0,"_AuthorizationTempoJs"],[28,66,3,0],[29,2,4,0],[29,6,4,0,"_KeyAuthorizationJs"],[29,25,4,0],[29,28,4,0,"require"],[29,35,4,0],[29,36,4,0,"_dependencyMap"],[29,50,4,0],[30,2,4,0],[30,6,4,0,"KeyAuthorization"],[30,22,4,0],[30,25,4,0,"_interopNamespace"],[30,42,4,0],[30,43,4,0,"_KeyAuthorizationJs"],[30,62,4,0],[31,2,5,0],[31,6,5,0,"_TokenIdJs"],[31,16,5,0],[31,19,5,0,"require"],[31,26,5,0],[31,27,5,0,"_dependencyMap"],[31,41,5,0],[32,2,5,0],[32,6,5,0,"TokenId"],[32,13,5,0],[32,16,5,0,"_interopNamespace"],[32,33,5,0],[32,34,5,0,"_TokenIdJs"],[32,44,5,0],[33,2,6,0],[33,6,6,0,"_TransactionJs"],[33,20,6,0],[33,23,6,0,"require"],[33,30,6,0],[33,31,6,0,"_dependencyMap"],[33,45,6,0],[34,2,6,0],[34,6,6,0,"Transaction"],[34,17,6,0],[34,20,6,0,"_interopNamespace"],[34,37,6,0],[34,38,6,0,"_TransactionJs"],[34,52,6,0],[35,2,7,0],[36,0,8,0],[37,0,9,0],[38,0,10,0],[39,0,11,0],[40,0,12,0],[41,0,13,0],[42,0,14,0],[43,0,15,0],[44,0,16,0],[45,0,17,0],[46,0,18,0],[47,0,19,0],[48,0,20,0],[49,0,21,0],[50,0,22,0],[51,0,23,0],[52,0,24,0],[53,0,25,0],[54,0,26,0],[55,0,27,0],[56,0,28,0],[57,0,29,0],[58,0,30,0],[59,0,31,0],[60,0,32,0],[61,0,33,0],[62,0,34,0],[63,0,35,0],[64,0,36,0],[65,0,37,0],[66,0,38,0],[67,0,39,0],[68,0,40,0],[69,0,41,0],[70,0,42,0],[71,0,43,0],[72,0,44,0],[73,0,45,0],[74,0,46,0],[75,0,47,0],[76,0,48,0],[77,0,49,0],[78,0,50,0],[79,0,51,0],[80,0,52,0],[81,0,53,0],[82,0,54,0],[83,0,55,0],[84,2,56,7],[84,11,56,16,"toRpc"],[84,16,56,21,"toRpc"],[84,17,56,22,"request"],[84,24,56,29],[84,26,56,31],[85,4,57,4],[85,10,57,10,"request_rpc"],[85,21,57,21],[85,24,57,24,"ox_TransactionRequest"],[85,45,57,45],[85,46,57,46,"toRpc"],[85,51,57,51],[85,52,57,51,"Object"],[85,58,57,51],[85,59,57,51,"assign"],[85,65,57,51],[85,70,58,11,"request"],[85,77,58,18],[86,6,59,8,"authorizationList"],[86,23,59,25],[86,25,59,27,"undefined"],[87,4,59,36],[87,6,60,5],[87,7,60,6],[88,4,61,4],[88,8,61,8,"request"],[88,15,61,15],[88,16,61,16,"authorizationList"],[88,33,61,33],[88,35,62,8,"request_rpc"],[88,46,62,19],[88,47,62,20,"authorizationList"],[88,64,62,37],[88,67,62,40,"AuthorizationTempo"],[88,85,62,58],[88,86,62,59,"toRpcList"],[88,95,62,68],[88,96,62,69,"request"],[88,103,62,76],[88,104,62,77,"authorizationList"],[88,121,62,94],[88,122,62,95],[89,4,63,4],[89,8,63,8,"request"],[89,15,63,15],[89,16,63,16,"calls"],[89,21,63,21],[89,23,64,8,"request_rpc"],[89,34,64,19],[89,35,64,20,"calls"],[89,40,64,25],[89,43,64,28,"request"],[89,50,64,35],[89,51,64,36,"calls"],[89,56,64,41],[89,57,64,42,"map"],[89,60,64,45],[89,61,64,47,"call"],[89,65,64,51],[89,70,64,57],[90,6,65,12,"to"],[90,8,65,14],[90,10,65,16,"call"],[90,14,65,20],[90,15,65,21,"to"],[90,17,65,23],[91,6,66,12,"value"],[91,11,66,17],[91,13,66,19,"call"],[91,17,66,23],[91,18,66,24,"value"],[91,23,66,29],[91,26,66,32,"Hex"],[91,29,66,35],[91,30,66,36,"fromNumber"],[91,40,66,46],[91,41,66,47,"call"],[91,45,66,51],[91,46,66,52,"value"],[91,51,66,57],[91,52,66,58],[91,55,66,61],[91,59,66,65],[92,6,67,12,"data"],[92,10,67,16],[92,12,67,18,"call"],[92,16,67,22],[92,17,67,23,"data"],[92,21,67,27],[92,25,67,31],[93,4,68,8],[93,5,68,9],[93,6,68,10],[93,7,68,11],[94,4,69,4],[94,8,69,8],[94,15,69,15,"request"],[94,22,69,22],[94,23,69,23,"feeToken"],[94,31,69,31],[94,36,69,36],[94,47,69,47],[94,49,70,8,"request_rpc"],[94,60,70,19],[94,61,70,20,"feeToken"],[94,69,70,28],[94,72,70,31,"TokenId"],[94,79,70,38],[94,80,70,39,"toAddress"],[94,89,70,48],[94,90,70,49,"request"],[94,97,70,56],[94,98,70,57,"feeToken"],[94,106,70,65],[94,107,70,66],[95,4,71,4],[95,8,71,8,"request"],[95,15,71,15],[95,16,71,16,"keyAuthorization"],[95,32,71,32],[95,34,72,8,"request_rpc"],[95,45,72,19],[95,46,72,20,"keyAuthorization"],[95,62,72,36],[95,65,72,39,"KeyAuthorization"],[95,81,72,55],[95,82,72,56,"toRpc"],[95,87,72,61],[95,88,72,62,"request"],[95,95,72,69],[95,96,72,70,"keyAuthorization"],[95,112,72,86],[95,113,72,87],[96,4,73,4],[96,8,73,8],[96,15,73,15,"request"],[96,22,73,22],[96,23,73,23,"validBefore"],[96,34,73,34],[96,39,73,39],[96,50,73,50],[96,52,74,8,"request_rpc"],[96,63,74,19],[96,64,74,20,"validBefore"],[96,75,74,31],[96,78,74,34,"Hex"],[96,81,74,37],[96,82,74,38,"fromNumber"],[96,92,74,48],[96,93,74,49,"request"],[96,100,74,56],[96,101,74,57,"validBefore"],[96,112,74,68],[96,113,74,69],[97,4,75,4],[97,8,75,8],[97,15,75,15,"request"],[97,22,75,22],[97,23,75,23,"validAfter"],[97,33,75,33],[97,38,75,38],[97,49,75,49],[97,51,76,8,"request_rpc"],[97,62,76,19],[97,63,76,20,"validAfter"],[97,73,76,30],[97,76,76,33,"Hex"],[97,79,76,36],[97,80,76,37,"fromNumber"],[97,90,76,47],[97,91,76,48,"request"],[97,98,76,55],[97,99,76,56,"validAfter"],[97,109,76,66],[97,110,76,67],[98,4,77,4],[98,10,77,10,"nonceKey"],[98,18,77,18],[98,21,77,21],[98,22,77,22],[98,28,77,28],[99,6,78,8],[99,10,78,12,"request"],[99,17,78,19],[99,18,78,20,"nonceKey"],[99,26,78,28],[99,31,78,33],[99,39,78,41],[99,41,79,12],[99,48,79,19,"Hex"],[99,51,79,22],[99,52,79,23,"random"],[99,58,79,29],[99,59,79,30],[99,60,79,31],[99,61,79,32],[100,6,80,8],[100,10,80,12],[100,17,80,19,"request"],[100,24,80,26],[100,25,80,27,"nonceKey"],[100,33,80,35],[100,38,80,40],[100,46,80,48],[100,48,81,12],[100,55,81,19,"Hex"],[100,58,81,22],[100,59,81,23,"fromNumber"],[100,69,81,33],[100,70,81,34,"request"],[100,77,81,41],[100,78,81,42,"nonceKey"],[100,86,81,50],[100,87,81,51],[101,6,82,8],[101,13,82,15,"undefined"],[101,22,82,24],[102,4,83,4],[102,5,83,5],[102,7,83,7],[102,8,83,8],[103,4,84,4],[103,8,84,8,"nonceKey"],[103,16,84,16],[103,18,85,8,"request_rpc"],[103,29,85,19],[103,30,85,20,"nonceKey"],[103,38,85,28],[103,41,85,31,"nonceKey"],[103,49,85,39],[104,4,86,4],[104,8,86,8],[104,15,86,15,"request"],[104,22,86,22],[104,23,86,23,"calls"],[104,28,86,28],[104,33,86,33],[104,44,86,44],[104,48,87,8],[104,55,87,15,"request"],[104,62,87,22],[104,63,87,23,"feeToken"],[104,71,87,31],[104,76,87,36],[104,87,87,47],[104,91,88,8],[104,98,88,15,"request"],[104,105,88,22],[104,106,88,23,"keyAuthorization"],[104,122,88,39],[104,127,88,44],[104,138,88,55],[104,142,89,8],[104,149,89,15,"request"],[104,156,89,22],[104,157,89,23,"nonceKey"],[104,165,89,31],[104,170,89,36],[104,181,89,47],[104,185,90,8],[104,192,90,15,"request"],[104,199,90,22],[104,200,90,23,"validBefore"],[104,211,90,34],[104,216,90,39],[104,227,90,50],[104,231,91,8],[104,238,91,15,"request"],[104,245,91,22],[104,246,91,23,"validAfter"],[104,256,91,33],[104,261,91,38],[104,272,91,49],[104,276,92,8,"request"],[104,283,92,15],[104,284,92,16,"type"],[104,288,92,20],[104,293,92,25],[104,300,92,32],[104,302,92,34],[105,6,93,8,"request_rpc"],[105,17,93,19],[105,18,93,20,"type"],[105,22,93,24],[105,25,93,27,"Transaction"],[105,36,93,38],[105,37,93,39,"toRpcType"],[105,46,93,48],[105,47,93,49,"tempo"],[105,52,93,54],[106,6,94,8],[106,13,94,15,"request_rpc"],[106,24,94,26],[106,25,94,27,"data"],[106,29,94,31],[107,6,95,8],[107,13,95,15,"request_rpc"],[107,24,95,26],[107,25,95,27,"input"],[107,30,95,32],[108,6,96,8],[108,13,96,15,"request_rpc"],[108,24,96,26],[108,25,96,27,"to"],[108,27,96,29],[109,6,97,8],[109,13,97,15,"request_rpc"],[109,24,97,26],[109,25,97,27,"value"],[109,30,97,32],[110,4,98,4],[111,4,99,4],[111,11,99,11,"request_rpc"],[111,22,99,22],[112,2,100,0],[113,0,100,1],[113,3]],"functionMap":{"names":["<global>","toRpc","request.calls.map$argument_0","<anonymous>"],"mappings":"AAA;OCuD;8CCQ;UDI;sBES;KFM;CDiB"},"hasCjsExports":false},"type":"js/module"}]}