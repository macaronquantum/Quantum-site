{"dependencies":[{"name":"../data/isHex.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":19,"index":141},"end":{"line":4,"column":46,"index":168}}],"key":"Zhpx5ub+cvhHPhiQdOWXy91Arss=","exportNames":["*"],"imports":1}},{"name":"../encoding/fromHex.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":21,"index":191},"end":{"line":5,"column":54,"index":224}}],"key":"Xv85Hp9IaIJKaVJVq82n8YJAQj4=","exportNames":["*"],"imports":1}},{"name":"../encoding/toHex.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":19,"index":245},"end":{"line":6,"column":50,"index":276}}],"key":"usRuFBhU0msSe53PuUMzeie4myQ=","exportNames":["*"],"imports":1}},{"name":"@noble/curves/secp256k1","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":61,"index":481},"end":{"line":9,"column":95,"index":515}}],"key":"a7SOGcIa2bJLVocZy/oc6lQDQoQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.recoverPublicKey = recoverPublicKey;\n  const isHex_js_1 = require(_dependencyMap[0], \"../data/isHex.js\");\n  const fromHex_js_1 = require(_dependencyMap[1], \"../encoding/fromHex.js\");\n  const toHex_js_1 = require(_dependencyMap[2], \"../encoding/toHex.js\");\n  async function recoverPublicKey({\n    hash,\n    signature\n  }) {\n    const hashHex = (0, isHex_js_1.isHex)(hash) ? hash : (0, toHex_js_1.toHex)(hash);\n    const {\n      secp256k1\n    } = await Promise.resolve().then(() => require(_dependencyMap[3], \"@noble/curves/secp256k1\"));\n    const signature_ = (() => {\n      if (typeof signature === 'object' && 'r' in signature && 's' in signature) {\n        const {\n          r,\n          s,\n          v,\n          yParity\n        } = signature;\n        const yParityOrV = Number(yParity ?? v);\n        const recoveryBit = toRecoveryBit(yParityOrV);\n        return new secp256k1.Signature((0, fromHex_js_1.hexToBigInt)(r), (0, fromHex_js_1.hexToBigInt)(s)).addRecoveryBit(recoveryBit);\n      }\n      const signatureHex = (0, isHex_js_1.isHex)(signature) ? signature : (0, toHex_js_1.toHex)(signature);\n      const yParityOrV = (0, fromHex_js_1.hexToNumber)(`0x${signatureHex.slice(130)}`);\n      const recoveryBit = toRecoveryBit(yParityOrV);\n      return secp256k1.Signature.fromCompact(signatureHex.substring(2, 130)).addRecoveryBit(recoveryBit);\n    })();\n    const publicKey = signature_.recoverPublicKey(hashHex.substring(2)).toHex(false);\n    return `0x${publicKey}`;\n  }\n  function toRecoveryBit(yParityOrV) {\n    if (yParityOrV === 0 || yParityOrV === 1) return yParityOrV;\n    if (yParityOrV === 27) return 0;\n    if (yParityOrV === 28) return 1;\n    throw new Error('Invalid yParityOrV value');\n  }\n});","lineCount":45,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"recoverPublicKey"],[7,26,3,24],[7,29,3,27,"recoverPublicKey"],[7,45,3,43],[8,2,4,0],[8,8,4,6,"isHex_js_1"],[8,18,4,16],[8,21,4,19,"require"],[8,28,4,26],[8,29,4,26,"_dependencyMap"],[8,43,4,26],[8,66,4,45],[8,67,4,46],[9,2,5,0],[9,8,5,6,"fromHex_js_1"],[9,20,5,18],[9,23,5,21,"require"],[9,30,5,28],[9,31,5,28,"_dependencyMap"],[9,45,5,28],[9,74,5,53],[9,75,5,54],[10,2,6,0],[10,8,6,6,"toHex_js_1"],[10,18,6,16],[10,21,6,19,"require"],[10,28,6,26],[10,29,6,26,"_dependencyMap"],[10,43,6,26],[10,70,6,49],[10,71,6,50],[11,2,7,0],[11,17,7,15,"recoverPublicKey"],[11,33,7,31,"recoverPublicKey"],[11,34,7,32],[12,4,7,34,"hash"],[12,8,7,38],[13,4,7,40,"signature"],[14,2,7,51],[14,3,7,52],[14,5,7,54],[15,4,8,4],[15,10,8,10,"hashHex"],[15,17,8,17],[15,20,8,20],[15,21,8,21],[15,22,8,22],[15,24,8,24,"isHex_js_1"],[15,34,8,34],[15,35,8,35,"isHex"],[15,40,8,40],[15,42,8,42,"hash"],[15,46,8,46],[15,47,8,47],[15,50,8,50,"hash"],[15,54,8,54],[15,57,8,57],[15,58,8,58],[15,59,8,59],[15,61,8,61,"toHex_js_1"],[15,71,8,71],[15,72,8,72,"toHex"],[15,77,8,77],[15,79,8,79,"hash"],[15,83,8,83],[15,84,8,84],[16,4,9,4],[16,10,9,10],[17,6,9,12,"secp256k1"],[18,4,9,22],[18,5,9,23],[18,8,9,26],[18,14,9,32,"Promise"],[18,21,9,39],[18,22,9,40,"resolve"],[18,29,9,47],[18,30,9,48],[18,31,9,49],[18,32,9,50,"then"],[18,36,9,54],[18,37,9,55],[18,43,9,61,"require"],[18,50,9,68],[18,51,9,68,"_dependencyMap"],[18,65,9,68],[18,95,9,94],[18,96,9,95],[18,97,9,96],[19,4,10,4],[19,10,10,10,"signature_"],[19,20,10,20],[19,23,10,23],[19,24,10,24],[19,30,10,30],[20,6,11,8],[20,10,11,12],[20,17,11,19,"signature"],[20,26,11,28],[20,31,11,33],[20,39,11,41],[20,43,11,45],[20,46,11,48],[20,50,11,52,"signature"],[20,59,11,61],[20,63,11,65],[20,66,11,68],[20,70,11,72,"signature"],[20,79,11,81],[20,81,11,83],[21,8,12,12],[21,14,12,18],[22,10,12,20,"r"],[22,11,12,21],[23,10,12,23,"s"],[23,11,12,24],[24,10,12,26,"v"],[24,11,12,27],[25,10,12,29,"yParity"],[26,8,12,37],[26,9,12,38],[26,12,12,41,"signature"],[26,21,12,50],[27,8,13,12],[27,14,13,18,"yParityOrV"],[27,24,13,28],[27,27,13,31,"Number"],[27,33,13,37],[27,34,13,38,"yParity"],[27,41,13,45],[27,45,13,49,"v"],[27,46,13,50],[27,47,13,51],[28,8,14,12],[28,14,14,18,"recoveryBit"],[28,25,14,29],[28,28,14,32,"toRecoveryBit"],[28,41,14,45],[28,42,14,46,"yParityOrV"],[28,52,14,56],[28,53,14,57],[29,8,15,12],[29,15,15,19],[29,19,15,23,"secp256k1"],[29,28,15,32],[29,29,15,33,"Signature"],[29,38,15,42],[29,39,15,43],[29,40,15,44],[29,41,15,45],[29,43,15,47,"fromHex_js_1"],[29,55,15,59],[29,56,15,60,"hexToBigInt"],[29,67,15,71],[29,69,15,73,"r"],[29,70,15,74],[29,71,15,75],[29,73,15,77],[29,74,15,78],[29,75,15,79],[29,77,15,81,"fromHex_js_1"],[29,89,15,93],[29,90,15,94,"hexToBigInt"],[29,101,15,105],[29,103,15,107,"s"],[29,104,15,108],[29,105,15,109],[29,106,15,110],[29,107,15,111,"addRecoveryBit"],[29,121,15,125],[29,122,15,126,"recoveryBit"],[29,133,15,137],[29,134,15,138],[30,6,16,8],[31,6,17,8],[31,12,17,14,"signatureHex"],[31,24,17,26],[31,27,17,29],[31,28,17,30],[31,29,17,31],[31,31,17,33,"isHex_js_1"],[31,41,17,43],[31,42,17,44,"isHex"],[31,47,17,49],[31,49,17,51,"signature"],[31,58,17,60],[31,59,17,61],[31,62,17,64,"signature"],[31,71,17,73],[31,74,17,76],[31,75,17,77],[31,76,17,78],[31,78,17,80,"toHex_js_1"],[31,88,17,90],[31,89,17,91,"toHex"],[31,94,17,96],[31,96,17,98,"signature"],[31,105,17,107],[31,106,17,108],[32,6,18,8],[32,12,18,14,"yParityOrV"],[32,22,18,24],[32,25,18,27],[32,26,18,28],[32,27,18,29],[32,29,18,31,"fromHex_js_1"],[32,41,18,43],[32,42,18,44,"hexToNumber"],[32,53,18,55],[32,55,18,57],[32,60,18,62,"signatureHex"],[32,72,18,74],[32,73,18,75,"slice"],[32,78,18,80],[32,79,18,81],[32,82,18,84],[32,83,18,85],[32,85,18,87],[32,86,18,88],[33,6,19,8],[33,12,19,14,"recoveryBit"],[33,23,19,25],[33,26,19,28,"toRecoveryBit"],[33,39,19,41],[33,40,19,42,"yParityOrV"],[33,50,19,52],[33,51,19,53],[34,6,20,8],[34,13,20,15,"secp256k1"],[34,22,20,24],[34,23,20,25,"Signature"],[34,32,20,34],[34,33,20,35,"fromCompact"],[34,44,20,46],[34,45,20,47,"signatureHex"],[34,57,20,59],[34,58,20,60,"substring"],[34,67,20,69],[34,68,20,70],[34,69,20,71],[34,71,20,73],[34,74,20,76],[34,75,20,77],[34,76,20,78],[34,77,20,79,"addRecoveryBit"],[34,91,20,93],[34,92,20,94,"recoveryBit"],[34,103,20,105],[34,104,20,106],[35,4,21,4],[35,5,21,5],[35,7,21,7],[35,8,21,8],[36,4,22,4],[36,10,22,10,"publicKey"],[36,19,22,19],[36,22,22,22,"signature_"],[36,32,22,32],[36,33,23,9,"recoverPublicKey"],[36,49,23,25],[36,50,23,26,"hashHex"],[36,57,23,33],[36,58,23,34,"substring"],[36,67,23,43],[36,68,23,44],[36,69,23,45],[36,70,23,46],[36,71,23,47],[36,72,24,9,"toHex"],[36,77,24,14],[36,78,24,15],[36,83,24,20],[36,84,24,21],[37,4,25,4],[37,11,25,11],[37,16,25,16,"publicKey"],[37,25,25,25],[37,27,25,27],[38,2,26,0],[39,2,27,0],[39,11,27,9,"toRecoveryBit"],[39,24,27,22,"toRecoveryBit"],[39,25,27,23,"yParityOrV"],[39,35,27,33],[39,37,27,35],[40,4,28,4],[40,8,28,8,"yParityOrV"],[40,18,28,18],[40,23,28,23],[40,24,28,24],[40,28,28,28,"yParityOrV"],[40,38,28,38],[40,43,28,43],[40,44,28,44],[40,46,29,8],[40,53,29,15,"yParityOrV"],[40,63,29,25],[41,4,30,4],[41,8,30,8,"yParityOrV"],[41,18,30,18],[41,23,30,23],[41,25,30,25],[41,27,31,8],[41,34,31,15],[41,35,31,16],[42,4,32,4],[42,8,32,8,"yParityOrV"],[42,18,32,18],[42,23,32,23],[42,25,32,25],[42,27,33,8],[42,34,33,15],[42,35,33,16],[43,4,34,4],[43,10,34,10],[43,14,34,14,"Error"],[43,19,34,19],[43,20,34,20],[43,46,34,46],[43,47,34,47],[44,2,35,0],[45,0,35,1],[45,3]],"functionMap":{"names":["<global>","recoverPublicKey","Promise.resolve.then$argument_0","<anonymous>","toRecoveryBit"],"mappings":"AAA;ACM;uDCE,wCD;wBEC;KFW;CDK;AIC;CJQ"},"hasCjsExports":true},"type":"js/module"}]}