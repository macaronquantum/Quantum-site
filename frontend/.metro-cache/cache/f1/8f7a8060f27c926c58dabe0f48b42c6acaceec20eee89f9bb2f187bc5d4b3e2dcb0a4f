{"dependencies":[{"name":"./constants","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":20,"index":296},"end":{"line":4,"column":42,"index":318}}],"key":"3z43bJyk/UB4EKjDCOXTFak09do=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.parseConnectionError = exports.validateJsonRpcError = exports.getErrorByCode = exports.getError = exports.isValidErrorCode = exports.isReservedErrorCode = exports.isServerErrorCode = void 0;\n  const constants_1 = require(_dependencyMap[0], \"./constants\");\n  function isServerErrorCode(code) {\n    return code <= constants_1.SERVER_ERROR_CODE_RANGE[0] && code >= constants_1.SERVER_ERROR_CODE_RANGE[1];\n  }\n  exports.isServerErrorCode = isServerErrorCode;\n  function isReservedErrorCode(code) {\n    return constants_1.RESERVED_ERROR_CODES.includes(code);\n  }\n  exports.isReservedErrorCode = isReservedErrorCode;\n  function isValidErrorCode(code) {\n    return typeof code === \"number\";\n  }\n  exports.isValidErrorCode = isValidErrorCode;\n  function getError(type) {\n    if (!Object.keys(constants_1.STANDARD_ERROR_MAP).includes(type)) {\n      return constants_1.STANDARD_ERROR_MAP[constants_1.DEFAULT_ERROR];\n    }\n    return constants_1.STANDARD_ERROR_MAP[type];\n  }\n  exports.getError = getError;\n  function getErrorByCode(code) {\n    const match = Object.values(constants_1.STANDARD_ERROR_MAP).find(e => e.code === code);\n    if (!match) {\n      return constants_1.STANDARD_ERROR_MAP[constants_1.DEFAULT_ERROR];\n    }\n    return match;\n  }\n  exports.getErrorByCode = getErrorByCode;\n  function validateJsonRpcError(response) {\n    if (typeof response.error.code === \"undefined\") {\n      return {\n        valid: false,\n        error: \"Missing code for JSON-RPC error\"\n      };\n    }\n    if (typeof response.error.message === \"undefined\") {\n      return {\n        valid: false,\n        error: \"Missing message for JSON-RPC error\"\n      };\n    }\n    if (!isValidErrorCode(response.error.code)) {\n      return {\n        valid: false,\n        error: `Invalid error code type for JSON-RPC: ${response.error.code}`\n      };\n    }\n    if (isReservedErrorCode(response.error.code)) {\n      const error = getErrorByCode(response.error.code);\n      if (error.message !== constants_1.STANDARD_ERROR_MAP[constants_1.DEFAULT_ERROR].message && response.error.message === error.message) {\n        return {\n          valid: false,\n          error: `Invalid error code message for JSON-RPC: ${response.error.code}`\n        };\n      }\n    }\n    return {\n      valid: true\n    };\n  }\n  exports.validateJsonRpcError = validateJsonRpcError;\n  function parseConnectionError(e, url, type) {\n    return e.message.includes(\"getaddrinfo ENOTFOUND\") || e.message.includes(\"connect ECONNREFUSED\") ? new Error(`Unavailable ${type} RPC url at ${url}`) : e;\n  }\n  exports.parseConnectionError = parseConnectionError;\n});","lineCount":73,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"parseConnectionError"],[7,30,3,28],[7,33,3,31,"exports"],[7,40,3,38],[7,41,3,39,"validateJsonRpcError"],[7,61,3,59],[7,64,3,62,"exports"],[7,71,3,69],[7,72,3,70,"getErrorByCode"],[7,86,3,84],[7,89,3,87,"exports"],[7,96,3,94],[7,97,3,95,"getError"],[7,105,3,103],[7,108,3,106,"exports"],[7,115,3,113],[7,116,3,114,"isValidErrorCode"],[7,132,3,130],[7,135,3,133,"exports"],[7,142,3,140],[7,143,3,141,"isReservedErrorCode"],[7,162,3,160],[7,165,3,163,"exports"],[7,172,3,170],[7,173,3,171,"isServerErrorCode"],[7,190,3,188],[7,193,3,191],[7,198,3,196],[7,199,3,197],[8,2,4,0],[8,8,4,6,"constants_1"],[8,19,4,17],[8,22,4,20,"require"],[8,29,4,27],[8,30,4,27,"_dependencyMap"],[8,44,4,27],[8,62,4,41],[8,63,4,42],[9,2,5,0],[9,11,5,9,"isServerErrorCode"],[9,28,5,26,"isServerErrorCode"],[9,29,5,27,"code"],[9,33,5,31],[9,35,5,33],[10,4,6,4],[10,11,6,11,"code"],[10,15,6,15],[10,19,6,19,"constants_1"],[10,30,6,30],[10,31,6,31,"SERVER_ERROR_CODE_RANGE"],[10,54,6,54],[10,55,6,55],[10,56,6,56],[10,57,6,57],[10,61,6,61,"code"],[10,65,6,65],[10,69,6,69,"constants_1"],[10,80,6,80],[10,81,6,81,"SERVER_ERROR_CODE_RANGE"],[10,104,6,104],[10,105,6,105],[10,106,6,106],[10,107,6,107],[11,2,7,0],[12,2,8,0,"exports"],[12,9,8,7],[12,10,8,8,"isServerErrorCode"],[12,27,8,25],[12,30,8,28,"isServerErrorCode"],[12,47,8,45],[13,2,9,0],[13,11,9,9,"isReservedErrorCode"],[13,30,9,28,"isReservedErrorCode"],[13,31,9,29,"code"],[13,35,9,33],[13,37,9,35],[14,4,10,4],[14,11,10,11,"constants_1"],[14,22,10,22],[14,23,10,23,"RESERVED_ERROR_CODES"],[14,43,10,43],[14,44,10,44,"includes"],[14,52,10,52],[14,53,10,53,"code"],[14,57,10,57],[14,58,10,58],[15,2,11,0],[16,2,12,0,"exports"],[16,9,12,7],[16,10,12,8,"isReservedErrorCode"],[16,29,12,27],[16,32,12,30,"isReservedErrorCode"],[16,51,12,49],[17,2,13,0],[17,11,13,9,"isValidErrorCode"],[17,27,13,25,"isValidErrorCode"],[17,28,13,26,"code"],[17,32,13,30],[17,34,13,32],[18,4,14,4],[18,11,14,11],[18,18,14,18,"code"],[18,22,14,22],[18,27,14,27],[18,35,14,35],[19,2,15,0],[20,2,16,0,"exports"],[20,9,16,7],[20,10,16,8,"isValidErrorCode"],[20,26,16,24],[20,29,16,27,"isValidErrorCode"],[20,45,16,43],[21,2,17,0],[21,11,17,9,"getError"],[21,19,17,17,"getError"],[21,20,17,18,"type"],[21,24,17,22],[21,26,17,24],[22,4,18,4],[22,8,18,8],[22,9,18,9,"Object"],[22,15,18,15],[22,16,18,16,"keys"],[22,20,18,20],[22,21,18,21,"constants_1"],[22,32,18,32],[22,33,18,33,"STANDARD_ERROR_MAP"],[22,51,18,51],[22,52,18,52],[22,53,18,53,"includes"],[22,61,18,61],[22,62,18,62,"type"],[22,66,18,66],[22,67,18,67],[22,69,18,69],[23,6,19,8],[23,13,19,15,"constants_1"],[23,24,19,26],[23,25,19,27,"STANDARD_ERROR_MAP"],[23,43,19,45],[23,44,19,46,"constants_1"],[23,55,19,57],[23,56,19,58,"DEFAULT_ERROR"],[23,69,19,71],[23,70,19,72],[24,4,20,4],[25,4,21,4],[25,11,21,11,"constants_1"],[25,22,21,22],[25,23,21,23,"STANDARD_ERROR_MAP"],[25,41,21,41],[25,42,21,42,"type"],[25,46,21,46],[25,47,21,47],[26,2,22,0],[27,2,23,0,"exports"],[27,9,23,7],[27,10,23,8,"getError"],[27,18,23,16],[27,21,23,19,"getError"],[27,29,23,27],[28,2,24,0],[28,11,24,9,"getErrorByCode"],[28,25,24,23,"getErrorByCode"],[28,26,24,24,"code"],[28,30,24,28],[28,32,24,30],[29,4,25,4],[29,10,25,10,"match"],[29,15,25,15],[29,18,25,18,"Object"],[29,24,25,24],[29,25,25,25,"values"],[29,31,25,31],[29,32,25,32,"constants_1"],[29,43,25,43],[29,44,25,44,"STANDARD_ERROR_MAP"],[29,62,25,62],[29,63,25,63],[29,64,25,64,"find"],[29,68,25,68],[29,69,25,69,"e"],[29,70,25,70],[29,74,25,74,"e"],[29,75,25,75],[29,76,25,76,"code"],[29,80,25,80],[29,85,25,85,"code"],[29,89,25,89],[29,90,25,90],[30,4,26,4],[30,8,26,8],[30,9,26,9,"match"],[30,14,26,14],[30,16,26,16],[31,6,27,8],[31,13,27,15,"constants_1"],[31,24,27,26],[31,25,27,27,"STANDARD_ERROR_MAP"],[31,43,27,45],[31,44,27,46,"constants_1"],[31,55,27,57],[31,56,27,58,"DEFAULT_ERROR"],[31,69,27,71],[31,70,27,72],[32,4,28,4],[33,4,29,4],[33,11,29,11,"match"],[33,16,29,16],[34,2,30,0],[35,2,31,0,"exports"],[35,9,31,7],[35,10,31,8,"getErrorByCode"],[35,24,31,22],[35,27,31,25,"getErrorByCode"],[35,41,31,39],[36,2,32,0],[36,11,32,9,"validateJsonRpcError"],[36,31,32,29,"validateJsonRpcError"],[36,32,32,30,"response"],[36,40,32,38],[36,42,32,40],[37,4,33,4],[37,8,33,8],[37,15,33,15,"response"],[37,23,33,23],[37,24,33,24,"error"],[37,29,33,29],[37,30,33,30,"code"],[37,34,33,34],[37,39,33,39],[37,50,33,50],[37,52,33,52],[38,6,34,8],[38,13,34,15],[39,8,34,17,"valid"],[39,13,34,22],[39,15,34,24],[39,20,34,29],[40,8,34,31,"error"],[40,13,34,36],[40,15,34,38],[41,6,34,72],[41,7,34,73],[42,4,35,4],[43,4,36,4],[43,8,36,8],[43,15,36,15,"response"],[43,23,36,23],[43,24,36,24,"error"],[43,29,36,29],[43,30,36,30,"message"],[43,37,36,37],[43,42,36,42],[43,53,36,53],[43,55,36,55],[44,6,37,8],[44,13,37,15],[45,8,37,17,"valid"],[45,13,37,22],[45,15,37,24],[45,20,37,29],[46,8,37,31,"error"],[46,13,37,36],[46,15,37,38],[47,6,37,75],[47,7,37,76],[48,4,38,4],[49,4,39,4],[49,8,39,8],[49,9,39,9,"isValidErrorCode"],[49,25,39,25],[49,26,39,26,"response"],[49,34,39,34],[49,35,39,35,"error"],[49,40,39,40],[49,41,39,41,"code"],[49,45,39,45],[49,46,39,46],[49,48,39,48],[50,6,40,8],[50,13,40,15],[51,8,41,12,"valid"],[51,13,41,17],[51,15,41,19],[51,20,41,24],[52,8,42,12,"error"],[52,13,42,17],[52,15,42,19],[52,56,42,60,"response"],[52,64,42,68],[52,65,42,69,"error"],[52,70,42,74],[52,71,42,75,"code"],[52,75,42,79],[53,6,43,8],[53,7,43,9],[54,4,44,4],[55,4,45,4],[55,8,45,8,"isReservedErrorCode"],[55,27,45,27],[55,28,45,28,"response"],[55,36,45,36],[55,37,45,37,"error"],[55,42,45,42],[55,43,45,43,"code"],[55,47,45,47],[55,48,45,48],[55,50,45,50],[56,6,46,8],[56,12,46,14,"error"],[56,17,46,19],[56,20,46,22,"getErrorByCode"],[56,34,46,36],[56,35,46,37,"response"],[56,43,46,45],[56,44,46,46,"error"],[56,49,46,51],[56,50,46,52,"code"],[56,54,46,56],[56,55,46,57],[57,6,47,8],[57,10,47,12,"error"],[57,15,47,17],[57,16,47,18,"message"],[57,23,47,25],[57,28,47,30,"constants_1"],[57,39,47,41],[57,40,47,42,"STANDARD_ERROR_MAP"],[57,58,47,60],[57,59,47,61,"constants_1"],[57,70,47,72],[57,71,47,73,"DEFAULT_ERROR"],[57,84,47,86],[57,85,47,87],[57,86,47,88,"message"],[57,93,47,95],[57,97,48,12,"response"],[57,105,48,20],[57,106,48,21,"error"],[57,111,48,26],[57,112,48,27,"message"],[57,119,48,34],[57,124,48,39,"error"],[57,129,48,44],[57,130,48,45,"message"],[57,137,48,52],[57,139,48,54],[58,8,49,12],[58,15,49,19],[59,10,50,16,"valid"],[59,15,50,21],[59,17,50,23],[59,22,50,28],[60,10,51,16,"error"],[60,15,51,21],[60,17,51,23],[60,61,51,67,"response"],[60,69,51,75],[60,70,51,76,"error"],[60,75,51,81],[60,76,51,82,"code"],[60,80,51,86],[61,8,52,12],[61,9,52,13],[62,6,53,8],[63,4,54,4],[64,4,55,4],[64,11,55,11],[65,6,55,13,"valid"],[65,11,55,18],[65,13,55,20],[66,4,55,25],[66,5,55,26],[67,2,56,0],[68,2,57,0,"exports"],[68,9,57,7],[68,10,57,8,"validateJsonRpcError"],[68,30,57,28],[68,33,57,31,"validateJsonRpcError"],[68,53,57,51],[69,2,58,0],[69,11,58,9,"parseConnectionError"],[69,31,58,29,"parseConnectionError"],[69,32,58,30,"e"],[69,33,58,31],[69,35,58,33,"url"],[69,38,58,36],[69,40,58,38,"type"],[69,44,58,42],[69,46,58,44],[70,4,59,4],[70,11,59,11,"e"],[70,12,59,12],[70,13,59,13,"message"],[70,20,59,20],[70,21,59,21,"includes"],[70,29,59,29],[70,30,59,30],[70,53,59,53],[70,54,59,54],[70,58,59,58,"e"],[70,59,59,59],[70,60,59,60,"message"],[70,67,59,67],[70,68,59,68,"includes"],[70,76,59,76],[70,77,59,77],[70,99,59,99],[70,100,59,100],[70,103,60,10],[70,107,60,14,"Error"],[70,112,60,19],[70,113,60,20],[70,128,60,35,"type"],[70,132,60,39],[70,147,60,54,"url"],[70,150,60,57],[70,152,60,59],[70,153,60,60],[70,156,61,10,"e"],[70,157,61,11],[71,2,62,0],[72,2,63,0,"exports"],[72,9,63,7],[72,10,63,8,"parseConnectionError"],[72,30,63,28],[72,33,63,31,"parseConnectionError"],[72,53,63,51],[73,0,63,52],[73,3]],"functionMap":{"names":["<global>","isServerErrorCode","isReservedErrorCode","isValidErrorCode","getError","getErrorByCode","Object.values.find$argument_0","validateJsonRpcError","parseConnectionError"],"mappings":"AAA;ACI;CDE;AEE;CFE;AGE;CHE;AIE;CJK;AKE;qECC,oBD;CLK;AOE;CPwB;AQE;CRI"},"hasCjsExports":true},"type":"js/module"}]}