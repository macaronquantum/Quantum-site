{"dependencies":[{"name":"../../constants/abis.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":18,"index":128},"end":{"line":4,"column":52,"index":162}}],"key":"yrHWypZlegCAdNz0tkfsugt0VBw=","exportNames":["*"],"imports":1}},{"name":"../../utils/abi/decodeFunctionResult.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":34,"index":198},"end":{"line":5,"column":84,"index":248}}],"key":"PXwyRBt1T1gTrLibjDXwXWimUBk=","exportNames":["*"],"imports":1}},{"name":"../../utils/abi/encodeFunctionData.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":32,"index":282},"end":{"line":6,"column":80,"index":330}}],"key":"X+zmSvhsp+TXYOiEa0Zi/HLVfNc=","exportNames":["*"],"imports":1}},{"name":"../../utils/chain/getChainContractAddress.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":37,"index":369},"end":{"line":7,"column":92,"index":424}}],"key":"LSOHYraFRKmn1vhzttHaVrAvnvY=","exportNames":["*"],"imports":1}},{"name":"../../utils/encoding/toHex.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":19,"index":445},"end":{"line":8,"column":59,"index":485}}],"key":"H7vq9DbZar/LBdoWrgikLXyV5L0=","exportNames":["*"],"imports":1}},{"name":"../../utils/ens/errors.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":20,"index":507},"end":{"line":9,"column":56,"index":543}}],"key":"bJ3HFECcOq3rJI5yc4mdcXLPNdM=","exportNames":["*"],"imports":1}},{"name":"../../utils/ens/namehash.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":22,"index":567},"end":{"line":10,"column":60,"index":605}}],"key":"nLMZ3xzrUMD3X53xXqCx405nmb8=","exportNames":["*"],"imports":1}},{"name":"../../utils/ens/packetToBytes.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":11,"column":27,"index":634},"end":{"line":11,"column":70,"index":677}}],"key":"qZUsVA/n+grVYHWGPUJto9s8big=","exportNames":["*"],"imports":1}},{"name":"../../utils/getAction.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":12,"column":23,"index":702},"end":{"line":12,"column":58,"index":737}}],"key":"d685V9n1u7O1oRJ2ZbnkuLpcslA=","exportNames":["*"],"imports":1}},{"name":"../public/readContract.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":13,"column":26,"index":765},"end":{"line":13,"column":62,"index":801}}],"key":"UxqVCL+UT7iOwBMYmrSJxJgcrJI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getEnsText = getEnsText;\n  const abis_js_1 = require(_dependencyMap[0], \"../../constants/abis.js\");\n  const decodeFunctionResult_js_1 = require(_dependencyMap[1], \"../../utils/abi/decodeFunctionResult.js\");\n  const encodeFunctionData_js_1 = require(_dependencyMap[2], \"../../utils/abi/encodeFunctionData.js\");\n  const getChainContractAddress_js_1 = require(_dependencyMap[3], \"../../utils/chain/getChainContractAddress.js\");\n  const toHex_js_1 = require(_dependencyMap[4], \"../../utils/encoding/toHex.js\");\n  const errors_js_1 = require(_dependencyMap[5], \"../../utils/ens/errors.js\");\n  const namehash_js_1 = require(_dependencyMap[6], \"../../utils/ens/namehash.js\");\n  const packetToBytes_js_1 = require(_dependencyMap[7], \"../../utils/ens/packetToBytes.js\");\n  const getAction_js_1 = require(_dependencyMap[8], \"../../utils/getAction.js\");\n  const readContract_js_1 = require(_dependencyMap[9], \"../public/readContract.js\");\n  async function getEnsText(client, {\n    blockNumber,\n    blockTag,\n    name,\n    key,\n    gatewayUrls,\n    strict,\n    universalResolverAddress: universalResolverAddress_\n  }) {\n    let universalResolverAddress = universalResolverAddress_;\n    if (!universalResolverAddress) {\n      if (!client.chain) throw new Error('client chain not configured. universalResolverAddress is required.');\n      universalResolverAddress = (0, getChainContractAddress_js_1.getChainContractAddress)({\n        blockNumber,\n        chain: client.chain,\n        contract: 'ensUniversalResolver'\n      });\n    }\n    try {\n      const readContractParameters = {\n        address: universalResolverAddress,\n        abi: abis_js_1.universalResolverResolveAbi,\n        functionName: 'resolve',\n        args: [(0, toHex_js_1.toHex)((0, packetToBytes_js_1.packetToBytes)(name)), (0, encodeFunctionData_js_1.encodeFunctionData)({\n          abi: abis_js_1.textResolverAbi,\n          functionName: 'text',\n          args: [(0, namehash_js_1.namehash)(name), key]\n        })],\n        blockNumber,\n        blockTag\n      };\n      const readContractAction = (0, getAction_js_1.getAction)(client, readContract_js_1.readContract, 'readContract');\n      const res = gatewayUrls ? await readContractAction({\n        ...readContractParameters,\n        args: [...readContractParameters.args, gatewayUrls]\n      }) : await readContractAction(readContractParameters);\n      if (res[0] === '0x') return null;\n      const record = (0, decodeFunctionResult_js_1.decodeFunctionResult)({\n        abi: abis_js_1.textResolverAbi,\n        functionName: 'text',\n        data: res[0]\n      });\n      return record === '' ? null : record;\n    } catch (err) {\n      if (strict) throw err;\n      if ((0, errors_js_1.isNullUniversalResolverError)(err, 'resolve')) return null;\n      throw err;\n    }\n  }\n});","lineCount":67,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"getEnsText"],[7,20,3,18],[7,23,3,21,"getEnsText"],[7,33,3,31],[8,2,4,0],[8,8,4,6,"abis_js_1"],[8,17,4,15],[8,20,4,18,"require"],[8,27,4,25],[8,28,4,25,"_dependencyMap"],[8,42,4,25],[8,72,4,51],[8,73,4,52],[9,2,5,0],[9,8,5,6,"decodeFunctionResult_js_1"],[9,33,5,31],[9,36,5,34,"require"],[9,43,5,41],[9,44,5,41,"_dependencyMap"],[9,58,5,41],[9,104,5,83],[9,105,5,84],[10,2,6,0],[10,8,6,6,"encodeFunctionData_js_1"],[10,31,6,29],[10,34,6,32,"require"],[10,41,6,39],[10,42,6,39,"_dependencyMap"],[10,56,6,39],[10,100,6,79],[10,101,6,80],[11,2,7,0],[11,8,7,6,"getChainContractAddress_js_1"],[11,36,7,34],[11,39,7,37,"require"],[11,46,7,44],[11,47,7,44,"_dependencyMap"],[11,61,7,44],[11,112,7,91],[11,113,7,92],[12,2,8,0],[12,8,8,6,"toHex_js_1"],[12,18,8,16],[12,21,8,19,"require"],[12,28,8,26],[12,29,8,26,"_dependencyMap"],[12,43,8,26],[12,79,8,58],[12,80,8,59],[13,2,9,0],[13,8,9,6,"errors_js_1"],[13,19,9,17],[13,22,9,20,"require"],[13,29,9,27],[13,30,9,27,"_dependencyMap"],[13,44,9,27],[13,76,9,55],[13,77,9,56],[14,2,10,0],[14,8,10,6,"namehash_js_1"],[14,21,10,19],[14,24,10,22,"require"],[14,31,10,29],[14,32,10,29,"_dependencyMap"],[14,46,10,29],[14,80,10,59],[14,81,10,60],[15,2,11,0],[15,8,11,6,"packetToBytes_js_1"],[15,26,11,24],[15,29,11,27,"require"],[15,36,11,34],[15,37,11,34,"_dependencyMap"],[15,51,11,34],[15,90,11,69],[15,91,11,70],[16,2,12,0],[16,8,12,6,"getAction_js_1"],[16,22,12,20],[16,25,12,23,"require"],[16,32,12,30],[16,33,12,30,"_dependencyMap"],[16,47,12,30],[16,78,12,57],[16,79,12,58],[17,2,13,0],[17,8,13,6,"readContract_js_1"],[17,25,13,23],[17,28,13,26,"require"],[17,35,13,33],[17,36,13,33,"_dependencyMap"],[17,50,13,33],[17,82,13,61],[17,83,13,62],[18,2,14,0],[18,17,14,15,"getEnsText"],[18,27,14,25,"getEnsText"],[18,28,14,26,"client"],[18,34,14,32],[18,36,14,34],[19,4,14,36,"blockNumber"],[19,15,14,47],[20,4,14,49,"blockTag"],[20,12,14,57],[21,4,14,59,"name"],[21,8,14,63],[22,4,14,65,"key"],[22,7,14,68],[23,4,14,70,"gatewayUrls"],[23,15,14,81],[24,4,14,83,"strict"],[24,10,14,89],[25,4,14,91,"universalResolverAddress"],[25,28,14,115],[25,30,14,117,"universalResolverAddress_"],[26,2,14,144],[26,3,14,145],[26,5,14,147],[27,4,15,4],[27,8,15,8,"universalResolverAddress"],[27,32,15,32],[27,35,15,35,"universalResolverAddress_"],[27,60,15,60],[28,4,16,4],[28,8,16,8],[28,9,16,9,"universalResolverAddress"],[28,33,16,33],[28,35,16,35],[29,6,17,8],[29,10,17,12],[29,11,17,13,"client"],[29,17,17,19],[29,18,17,20,"chain"],[29,23,17,25],[29,25,18,12],[29,31,18,18],[29,35,18,22,"Error"],[29,40,18,27],[29,41,18,28],[29,109,18,96],[29,110,18,97],[30,6,19,8,"universalResolverAddress"],[30,30,19,32],[30,33,19,35],[30,34,19,36],[30,35,19,37],[30,37,19,39,"getChainContractAddress_js_1"],[30,65,19,67],[30,66,19,68,"getChainContractAddress"],[30,89,19,91],[30,91,19,93],[31,8,20,12,"blockNumber"],[31,19,20,23],[32,8,21,12,"chain"],[32,13,21,17],[32,15,21,19,"client"],[32,21,21,25],[32,22,21,26,"chain"],[32,27,21,31],[33,8,22,12,"contract"],[33,16,22,20],[33,18,22,22],[34,6,23,8],[34,7,23,9],[34,8,23,10],[35,4,24,4],[36,4,25,4],[36,8,25,8],[37,6,26,8],[37,12,26,14,"readContractParameters"],[37,34,26,36],[37,37,26,39],[38,8,27,12,"address"],[38,15,27,19],[38,17,27,21,"universalResolverAddress"],[38,41,27,45],[39,8,28,12,"abi"],[39,11,28,15],[39,13,28,17,"abis_js_1"],[39,22,28,26],[39,23,28,27,"universalResolverResolveAbi"],[39,50,28,54],[40,8,29,12,"functionName"],[40,20,29,24],[40,22,29,26],[40,31,29,35],[41,8,30,12,"args"],[41,12,30,16],[41,14,30,18],[41,15,31,16],[41,16,31,17],[41,17,31,18],[41,19,31,20,"toHex_js_1"],[41,29,31,30],[41,30,31,31,"toHex"],[41,35,31,36],[41,37,31,38],[41,38,31,39],[41,39,31,40],[41,41,31,42,"packetToBytes_js_1"],[41,59,31,60],[41,60,31,61,"packetToBytes"],[41,73,31,74],[41,75,31,76,"name"],[41,79,31,80],[41,80,31,81],[41,81,31,82],[41,83,32,16],[41,84,32,17],[41,85,32,18],[41,87,32,20,"encodeFunctionData_js_1"],[41,110,32,43],[41,111,32,44,"encodeFunctionData"],[41,129,32,62],[41,131,32,64],[42,10,33,20,"abi"],[42,13,33,23],[42,15,33,25,"abis_js_1"],[42,24,33,34],[42,25,33,35,"textResolverAbi"],[42,40,33,50],[43,10,34,20,"functionName"],[43,22,34,32],[43,24,34,34],[43,30,34,40],[44,10,35,20,"args"],[44,14,35,24],[44,16,35,26],[44,17,35,27],[44,18,35,28],[44,19,35,29],[44,21,35,31,"namehash_js_1"],[44,34,35,44],[44,35,35,45,"namehash"],[44,43,35,53],[44,45,35,55,"name"],[44,49,35,59],[44,50,35,60],[44,52,35,62,"key"],[44,55,35,65],[45,8,36,16],[45,9,36,17],[45,10,36,18],[45,11,37,13],[46,8,38,12,"blockNumber"],[46,19,38,23],[47,8,39,12,"blockTag"],[48,6,40,8],[48,7,40,9],[49,6,41,8],[49,12,41,14,"readContractAction"],[49,30,41,32],[49,33,41,35],[49,34,41,36],[49,35,41,37],[49,37,41,39,"getAction_js_1"],[49,51,41,53],[49,52,41,54,"getAction"],[49,61,41,63],[49,63,41,65,"client"],[49,69,41,71],[49,71,41,73,"readContract_js_1"],[49,88,41,90],[49,89,41,91,"readContract"],[49,101,41,103],[49,103,41,105],[49,117,41,119],[49,118,41,120],[50,6,42,8],[50,12,42,14,"res"],[50,15,42,17],[50,18,42,20,"gatewayUrls"],[50,29,42,31],[50,32,43,14],[50,38,43,20,"readContractAction"],[50,56,43,38],[50,57,43,39],[51,8,44,16],[51,11,44,19,"readContractParameters"],[51,33,44,41],[52,8,45,16,"args"],[52,12,45,20],[52,14,45,22],[52,15,45,23],[52,18,45,26,"readContractParameters"],[52,40,45,48],[52,41,45,49,"args"],[52,45,45,53],[52,47,45,55,"gatewayUrls"],[52,58,45,66],[53,6,46,12],[53,7,46,13],[53,8,46,14],[53,11,47,14],[53,17,47,20,"readContractAction"],[53,35,47,38],[53,36,47,39,"readContractParameters"],[53,58,47,61],[53,59,47,62],[54,6,48,8],[54,10,48,12,"res"],[54,13,48,15],[54,14,48,16],[54,15,48,17],[54,16,48,18],[54,21,48,23],[54,25,48,27],[54,27,49,12],[54,34,49,19],[54,38,49,23],[55,6,50,8],[55,12,50,14,"record"],[55,18,50,20],[55,21,50,23],[55,22,50,24],[55,23,50,25],[55,25,50,27,"decodeFunctionResult_js_1"],[55,50,50,52],[55,51,50,53,"decodeFunctionResult"],[55,71,50,73],[55,73,50,75],[56,8,51,12,"abi"],[56,11,51,15],[56,13,51,17,"abis_js_1"],[56,22,51,26],[56,23,51,27,"textResolverAbi"],[56,38,51,42],[57,8,52,12,"functionName"],[57,20,52,24],[57,22,52,26],[57,28,52,32],[58,8,53,12,"data"],[58,12,53,16],[58,14,53,18,"res"],[58,17,53,21],[58,18,53,22],[58,19,53,23],[59,6,54,8],[59,7,54,9],[59,8,54,10],[60,6,55,8],[60,13,55,15,"record"],[60,19,55,21],[60,24,55,26],[60,26,55,28],[60,29,55,31],[60,33,55,35],[60,36,55,38,"record"],[60,42,55,44],[61,4,56,4],[61,5,56,5],[61,6,57,4],[61,13,57,11,"err"],[61,16,57,14],[61,18,57,16],[62,6,58,8],[62,10,58,12,"strict"],[62,16,58,18],[62,18,59,12],[62,24,59,18,"err"],[62,27,59,21],[63,6,60,8],[63,10,60,12],[63,11,60,13],[63,12,60,14],[63,14,60,16,"errors_js_1"],[63,25,60,27],[63,26,60,28,"isNullUniversalResolverError"],[63,54,60,56],[63,56,60,58,"err"],[63,59,60,61],[63,61,60,63],[63,70,60,72],[63,71,60,73],[63,73,61,12],[63,80,61,19],[63,84,61,23],[64,6,62,8],[64,12,62,14,"err"],[64,15,62,17],[65,4,63,4],[66,2,64,0],[67,0,64,1],[67,3]],"functionMap":{"names":["<global>","getEnsText"],"mappings":"AAA;ACa;CDkD"},"hasCjsExports":true},"type":"js/module"}]}