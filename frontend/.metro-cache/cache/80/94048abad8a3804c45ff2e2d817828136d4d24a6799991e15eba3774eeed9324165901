{"dependencies":[{"name":"../ours/primordials","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":39,"index":53},"end":{"line":3,"column":69,"index":83}}],"key":"Z8UAZXY6hivydDZwD4g9eM0VCzo=","exportNames":["*"],"imports":1}},{"name":"../internal/streams/utils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":50,"index":134},"end":{"line":4,"column":86,"index":170}}],"key":"NSQF9RFR1KFtYIWRcsnY8KDyYLs=","exportNames":["*"],"imports":1}},{"name":"../internal/streams/pipeline","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":29,"index":200},"end":{"line":5,"column":68,"index":239}}],"key":"zGHX5ETAUTDflkpqrLxQ++IcjNg=","exportNames":["*"],"imports":1}},{"name":"../internal/streams/end-of-stream","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":21,"index":261},"end":{"line":6,"column":65,"index":305}}],"key":"Hrqv2AUYCwvvEZJzVT9hZYtnc/8=","exportNames":["*"],"imports":1}},{"name":"../../lib/stream.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":0,"index":306},"end":{"line":7,"column":30,"index":336}}],"key":"s17GSdXiLh1LDNXXp0zOR9eDGvc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  const {\n    ArrayPrototypePop,\n    Promise\n  } = require(_dependencyMap[0], \"../ours/primordials\");\n  const {\n    isIterable,\n    isNodeStream,\n    isWebStream\n  } = require(_dependencyMap[1], \"../internal/streams/utils\");\n  const {\n    pipelineImpl: pl\n  } = require(_dependencyMap[2], \"../internal/streams/pipeline\");\n  const {\n    finished\n  } = require(_dependencyMap[3], \"../internal/streams/end-of-stream\");\n  require(_dependencyMap[4], \"../../lib/stream.js\");\n  function pipeline(...streams) {\n    return new Promise((resolve, reject) => {\n      let signal;\n      let end;\n      const lastArg = streams[streams.length - 1];\n      if (lastArg && typeof lastArg === 'object' && !isNodeStream(lastArg) && !isIterable(lastArg) && !isWebStream(lastArg)) {\n        const options = ArrayPrototypePop(streams);\n        signal = options.signal;\n        end = options.end;\n      }\n      pl(streams, (err, value) => {\n        if (err) {\n          reject(err);\n        } else {\n          resolve(value);\n        }\n      }, {\n        signal,\n        end\n      });\n    });\n  }\n  module.exports = {\n    finished,\n    pipeline\n  };\n});","lineCount":46,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0],[4,8,3,6],[5,4,3,8,"ArrayPrototypePop"],[5,21,3,25],[6,4,3,27,"Promise"],[7,2,3,35],[7,3,3,36],[7,6,3,39,"require"],[7,13,3,46],[7,14,3,46,"_dependencyMap"],[7,28,3,46],[7,54,3,68],[7,55,3,69],[8,2,4,0],[8,8,4,6],[9,4,4,8,"isIterable"],[9,14,4,18],[10,4,4,20,"isNodeStream"],[10,16,4,32],[11,4,4,34,"isWebStream"],[12,2,4,46],[12,3,4,47],[12,6,4,50,"require"],[12,13,4,57],[12,14,4,57,"_dependencyMap"],[12,28,4,57],[12,60,4,85],[12,61,4,86],[13,2,5,0],[13,8,5,6],[14,4,5,8,"pipelineImpl"],[14,16,5,20],[14,18,5,22,"pl"],[15,2,5,25],[15,3,5,26],[15,6,5,29,"require"],[15,13,5,36],[15,14,5,36,"_dependencyMap"],[15,28,5,36],[15,63,5,67],[15,64,5,68],[16,2,6,0],[16,8,6,6],[17,4,6,8,"finished"],[18,2,6,17],[18,3,6,18],[18,6,6,21,"require"],[18,13,6,28],[18,14,6,28,"_dependencyMap"],[18,28,6,28],[18,68,6,64],[18,69,6,65],[19,2,7,0,"require"],[19,9,7,7],[19,10,7,7,"_dependencyMap"],[19,24,7,7],[19,50,7,29],[19,51,7,30],[20,2,8,0],[20,11,8,9,"pipeline"],[20,19,8,17,"pipeline"],[20,20,8,18],[20,23,8,21,"streams"],[20,30,8,28],[20,32,8,30],[21,4,9,2],[21,11,9,9],[21,15,9,13,"Promise"],[21,22,9,20],[21,23,9,21],[21,24,9,22,"resolve"],[21,31,9,29],[21,33,9,31,"reject"],[21,39,9,37],[21,44,9,42],[22,6,10,4],[22,10,10,8,"signal"],[22,16,10,14],[23,6,11,4],[23,10,11,8,"end"],[23,13,11,11],[24,6,12,4],[24,12,12,10,"lastArg"],[24,19,12,17],[24,22,12,20,"streams"],[24,29,12,27],[24,30,12,28,"streams"],[24,37,12,35],[24,38,12,36,"length"],[24,44,12,42],[24,47,12,45],[24,48,12,46],[24,49,12,47],[25,6,13,4],[25,10,14,6,"lastArg"],[25,17,14,13],[25,21,15,6],[25,28,15,13,"lastArg"],[25,35,15,20],[25,40,15,25],[25,48,15,33],[25,52,16,6],[25,53,16,7,"isNodeStream"],[25,65,16,19],[25,66,16,20,"lastArg"],[25,73,16,27],[25,74,16,28],[25,78,17,6],[25,79,17,7,"isIterable"],[25,89,17,17],[25,90,17,18,"lastArg"],[25,97,17,25],[25,98,17,26],[25,102,18,6],[25,103,18,7,"isWebStream"],[25,114,18,18],[25,115,18,19,"lastArg"],[25,122,18,26],[25,123,18,27],[25,125,19,6],[26,8,20,6],[26,14,20,12,"options"],[26,21,20,19],[26,24,20,22,"ArrayPrototypePop"],[26,41,20,39],[26,42,20,40,"streams"],[26,49,20,47],[26,50,20,48],[27,8,21,6,"signal"],[27,14,21,12],[27,17,21,15,"options"],[27,24,21,22],[27,25,21,23,"signal"],[27,31,21,29],[28,8,22,6,"end"],[28,11,22,9],[28,14,22,12,"options"],[28,21,22,19],[28,22,22,20,"end"],[28,25,22,23],[29,6,23,4],[30,6,24,4,"pl"],[30,8,24,6],[30,9,25,6,"streams"],[30,16,25,13],[30,18,26,6],[30,19,26,7,"err"],[30,22,26,10],[30,24,26,12,"value"],[30,29,26,17],[30,34,26,22],[31,8,27,8],[31,12,27,12,"err"],[31,15,27,15],[31,17,27,17],[32,10,28,10,"reject"],[32,16,28,16],[32,17,28,17,"err"],[32,20,28,20],[32,21,28,21],[33,8,29,8],[33,9,29,9],[33,15,29,15],[34,10,30,10,"resolve"],[34,17,30,17],[34,18,30,18,"value"],[34,23,30,23],[34,24,30,24],[35,8,31,8],[36,6,32,6],[36,7,32,7],[36,9,33,6],[37,8,34,8,"signal"],[37,14,34,14],[38,8,35,8,"end"],[39,6,36,6],[39,7,37,4],[39,8,37,5],[40,4,38,2],[40,5,38,3],[40,6,38,4],[41,2,39,0],[42,2,40,0,"module"],[42,8,40,6],[42,9,40,7,"exports"],[42,16,40,14],[42,19,40,17],[43,4,41,2,"finished"],[43,12,41,10],[44,4,42,2,"pipeline"],[45,2,43,0],[45,3,43,1],[46,0,43,1],[46,3]],"functionMap":{"names":["<global>","pipeline","Promise$argument_0","pl$argument_1"],"mappings":"AAA;ACO;qBCC;MCiB;ODM;GDM;CDC"},"hasCjsExports":true},"type":"js/module"}]}