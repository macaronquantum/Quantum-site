{"dependencies":[{"name":"./Action","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":16,"column":15,"index":677},"end":{"line":16,"column":34,"index":696}}],"key":"7L24x3Kiax4dwe2olSBjNr5AP+c=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var __extends = this && this.__extends || function () {\n    var extendStatics = function (d, b) {\n      extendStatics = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n      } || function (d, b) {\n        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n      };\n      return extendStatics(d, b);\n    };\n    return function (d, b) {\n      extendStatics(d, b);\n      function __() {\n        this.constructor = d;\n      }\n      d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n  }();\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  var Action_1 = require(_dependencyMap[0], \"./Action\");\n  var AsyncAction = function (_super) {\n    __extends(AsyncAction, _super);\n    function AsyncAction(scheduler, work) {\n      var _this = _super.call(this, scheduler, work) || this;\n      _this.scheduler = scheduler;\n      _this.work = work;\n      _this.pending = false;\n      return _this;\n    }\n    AsyncAction.prototype.schedule = function (state, delay) {\n      if (delay === void 0) {\n        delay = 0;\n      }\n      if (this.closed) {\n        return this;\n      }\n      this.state = state;\n      var id = this.id;\n      var scheduler = this.scheduler;\n      if (id != null) {\n        this.id = this.recycleAsyncId(scheduler, id, delay);\n      }\n      this.pending = true;\n      this.delay = delay;\n      this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);\n      return this;\n    };\n    AsyncAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n      if (delay === void 0) {\n        delay = 0;\n      }\n      return setInterval(scheduler.flush.bind(scheduler, this), delay);\n    };\n    AsyncAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n      if (delay === void 0) {\n        delay = 0;\n      }\n      if (delay !== null && this.delay === delay && this.pending === false) {\n        return id;\n      }\n      clearInterval(id);\n      return undefined;\n    };\n    AsyncAction.prototype.execute = function (state, delay) {\n      if (this.closed) {\n        return new Error('executing a cancelled action');\n      }\n      this.pending = false;\n      var error = this._execute(state, delay);\n      if (error) {\n        return error;\n      } else if (this.pending === false && this.id != null) {\n        this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n      }\n    };\n    AsyncAction.prototype._execute = function (state, delay) {\n      var errored = false;\n      var errorValue = undefined;\n      try {\n        this.work(state);\n      } catch (e) {\n        errored = true;\n        errorValue = !!e && e || new Error(e);\n      }\n      if (errored) {\n        this.unsubscribe();\n        return errorValue;\n      }\n    };\n    AsyncAction.prototype._unsubscribe = function () {\n      var id = this.id;\n      var scheduler = this.scheduler;\n      var actions = scheduler.actions;\n      var index = actions.indexOf(this);\n      this.work = null;\n      this.state = null;\n      this.pending = false;\n      this.scheduler = null;\n      if (index !== -1) {\n        actions.splice(index, 1);\n      }\n      if (id != null) {\n        this.id = this.recycleAsyncId(scheduler, id, null);\n      }\n      this.delay = null;\n    };\n    return AsyncAction;\n  }(Action_1.Action);\n  exports.AsyncAction = AsyncAction;\n});","lineCount":116,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0],[4,6,2,4,"__extends"],[4,15,2,13],[4,18,2,17],[4,22,2,21],[4,26,2,25],[4,30,2,29],[4,31,2,30,"__extends"],[4,40,2,39],[4,44,2,45],[4,56,2,57],[5,4,3,4],[5,8,3,8,"extendStatics"],[5,21,3,21],[5,24,3,24],[5,33,3,24,"extendStatics"],[5,34,3,34,"d"],[5,35,3,35],[5,37,3,37,"b"],[5,38,3,38],[5,40,3,40],[6,6,4,8,"extendStatics"],[6,19,4,21],[6,22,4,24,"Object"],[6,28,4,30],[6,29,4,31,"setPrototypeOf"],[6,43,4,45],[6,47,5,13],[7,8,5,15,"__proto__"],[7,17,5,24],[7,19,5,26],[8,6,5,29],[8,7,5,30],[8,19,5,42,"Array"],[8,24,5,47],[8,28,5,51],[8,38,5,61,"d"],[8,39,5,62],[8,41,5,64,"b"],[8,42,5,65],[8,44,5,67],[9,8,5,69,"d"],[9,9,5,70],[9,10,5,71,"__proto__"],[9,19,5,80],[9,22,5,83,"b"],[9,23,5,84],[10,6,5,86],[10,7,5,88],[10,11,6,12],[10,21,6,22,"d"],[10,22,6,23],[10,24,6,25,"b"],[10,25,6,26],[10,27,6,28],[11,8,6,30],[11,13,6,35],[11,17,6,39,"p"],[11,18,6,40],[11,22,6,44,"b"],[11,23,6,45],[11,25,6,47],[11,29,6,51,"b"],[11,30,6,52],[11,31,6,53,"hasOwnProperty"],[11,45,6,67],[11,46,6,68,"p"],[11,47,6,69],[11,48,6,70],[11,50,6,72,"d"],[11,51,6,73],[11,52,6,74,"p"],[11,53,6,75],[11,54,6,76],[11,57,6,79,"b"],[11,58,6,80],[11,59,6,81,"p"],[11,60,6,82],[11,61,6,83],[12,6,6,85],[12,7,6,86],[13,6,7,8],[13,13,7,15,"extendStatics"],[13,26,7,28],[13,27,7,29,"d"],[13,28,7,30],[13,30,7,32,"b"],[13,31,7,33],[13,32,7,34],[14,4,8,4],[14,5,8,5],[15,4,9,4],[15,11,9,11],[15,21,9,21,"d"],[15,22,9,22],[15,24,9,24,"b"],[15,25,9,25],[15,27,9,27],[16,6,10,8,"extendStatics"],[16,19,10,21],[16,20,10,22,"d"],[16,21,10,23],[16,23,10,25,"b"],[16,24,10,26],[16,25,10,27],[17,6,11,8],[17,15,11,17,"__"],[17,17,11,19,"__"],[17,18,11,19],[17,20,11,22],[18,8,11,24],[18,12,11,28],[18,13,11,29,"constructor"],[18,24,11,40],[18,27,11,43,"d"],[18,28,11,44],[19,6,11,46],[20,6,12,8,"d"],[20,7,12,9],[20,8,12,10,"prototype"],[20,17,12,19],[20,20,12,22,"b"],[20,21,12,23],[20,26,12,28],[20,30,12,32],[20,33,12,35,"Object"],[20,39,12,41],[20,40,12,42,"create"],[20,46,12,48],[20,47,12,49,"b"],[20,48,12,50],[20,49,12,51],[20,53,12,55,"__"],[20,55,12,57],[20,56,12,58,"prototype"],[20,65,12,67],[20,68,12,70,"b"],[20,69,12,71],[20,70,12,72,"prototype"],[20,79,12,81],[20,81,12,83],[20,85,12,87,"__"],[20,87,12,89],[20,88,12,90],[20,89,12,91],[20,90,12,92],[21,4,13,4],[21,5,13,5],[22,2,14,0],[22,3,14,1],[22,4,14,3],[22,5,14,4],[23,2,15,0,"Object"],[23,8,15,6],[23,9,15,7,"defineProperty"],[23,23,15,21],[23,24,15,22,"exports"],[23,31,15,29],[23,33,15,31],[23,45,15,43],[23,47,15,45],[24,4,15,47,"value"],[24,9,15,52],[24,11,15,54],[25,2,15,59],[25,3,15,60],[25,4,15,61],[26,2,16,0],[26,6,16,4,"Action_1"],[26,14,16,12],[26,17,16,15,"require"],[26,24,16,22],[26,25,16,22,"_dependencyMap"],[26,39,16,22],[26,54,16,33],[26,55,16,34],[27,2,17,0],[27,6,17,4,"AsyncAction"],[27,17,17,15],[27,20,17,19],[27,30,17,29,"_super"],[27,36,17,35],[27,38,17,37],[28,4,18,4,"__extends"],[28,13,18,13],[28,14,18,14,"AsyncAction"],[28,25,18,25],[28,27,18,27,"_super"],[28,33,18,33],[28,34,18,34],[29,4,19,4],[29,13,19,13,"AsyncAction"],[29,24,19,24,"AsyncAction"],[29,25,19,25,"scheduler"],[29,34,19,34],[29,36,19,36,"work"],[29,40,19,40],[29,42,19,42],[30,6,20,8],[30,10,20,12,"_this"],[30,15,20,17],[30,18,20,20,"_super"],[30,24,20,26],[30,25,20,27,"call"],[30,29,20,31],[30,30,20,32],[30,34,20,36],[30,36,20,38,"scheduler"],[30,45,20,47],[30,47,20,49,"work"],[30,51,20,53],[30,52,20,54],[30,56,20,58],[30,60,20,62],[31,6,21,8,"_this"],[31,11,21,13],[31,12,21,14,"scheduler"],[31,21,21,23],[31,24,21,26,"scheduler"],[31,33,21,35],[32,6,22,8,"_this"],[32,11,22,13],[32,12,22,14,"work"],[32,16,22,18],[32,19,22,21,"work"],[32,23,22,25],[33,6,23,8,"_this"],[33,11,23,13],[33,12,23,14,"pending"],[33,19,23,21],[33,22,23,24],[33,27,23,29],[34,6,24,8],[34,13,24,15,"_this"],[34,18,24,20],[35,4,25,4],[36,4,26,4,"AsyncAction"],[36,15,26,15],[36,16,26,16,"prototype"],[36,25,26,25],[36,26,26,26,"schedule"],[36,34,26,34],[36,37,26,37],[36,47,26,47,"state"],[36,52,26,52],[36,54,26,54,"delay"],[36,59,26,59],[36,61,26,61],[37,6,27,8],[37,10,27,12,"delay"],[37,15,27,17],[37,20,27,22],[37,25,27,27],[37,26,27,28],[37,28,27,30],[38,8,27,32,"delay"],[38,13,27,37],[38,16,27,40],[38,17,27,41],[39,6,27,43],[40,6,28,8],[40,10,28,12],[40,14,28,16],[40,15,28,17,"closed"],[40,21,28,23],[40,23,28,25],[41,8,29,12],[41,15,29,19],[41,19,29,23],[42,6,30,8],[43,6,31,8],[43,10,31,12],[43,11,31,13,"state"],[43,16,31,18],[43,19,31,21,"state"],[43,24,31,26],[44,6,32,8],[44,10,32,12,"id"],[44,12,32,14],[44,15,32,17],[44,19,32,21],[44,20,32,22,"id"],[44,22,32,24],[45,6,33,8],[45,10,33,12,"scheduler"],[45,19,33,21],[45,22,33,24],[45,26,33,28],[45,27,33,29,"scheduler"],[45,36,33,38],[46,6,34,8],[46,10,34,12,"id"],[46,12,34,14],[46,16,34,18],[46,20,34,22],[46,22,34,24],[47,8,35,12],[47,12,35,16],[47,13,35,17,"id"],[47,15,35,19],[47,18,35,22],[47,22,35,26],[47,23,35,27,"recycleAsyncId"],[47,37,35,41],[47,38,35,42,"scheduler"],[47,47,35,51],[47,49,35,53,"id"],[47,51,35,55],[47,53,35,57,"delay"],[47,58,35,62],[47,59,35,63],[48,6,36,8],[49,6,37,8],[49,10,37,12],[49,11,37,13,"pending"],[49,18,37,20],[49,21,37,23],[49,25,37,27],[50,6,38,8],[50,10,38,12],[50,11,38,13,"delay"],[50,16,38,18],[50,19,38,21,"delay"],[50,24,38,26],[51,6,39,8],[51,10,39,12],[51,11,39,13,"id"],[51,13,39,15],[51,16,39,18],[51,20,39,22],[51,21,39,23,"id"],[51,23,39,25],[51,27,39,29],[51,31,39,33],[51,32,39,34,"requestAsyncId"],[51,46,39,48],[51,47,39,49,"scheduler"],[51,56,39,58],[51,58,39,60],[51,62,39,64],[51,63,39,65,"id"],[51,65,39,67],[51,67,39,69,"delay"],[51,72,39,74],[51,73,39,75],[52,6,40,8],[52,13,40,15],[52,17,40,19],[53,4,41,4],[53,5,41,5],[54,4,42,4,"AsyncAction"],[54,15,42,15],[54,16,42,16,"prototype"],[54,25,42,25],[54,26,42,26,"requestAsyncId"],[54,40,42,40],[54,43,42,43],[54,53,42,53,"scheduler"],[54,62,42,62],[54,64,42,64,"id"],[54,66,42,66],[54,68,42,68,"delay"],[54,73,42,73],[54,75,42,75],[55,6,43,8],[55,10,43,12,"delay"],[55,15,43,17],[55,20,43,22],[55,25,43,27],[55,26,43,28],[55,28,43,30],[56,8,43,32,"delay"],[56,13,43,37],[56,16,43,40],[56,17,43,41],[57,6,43,43],[58,6,44,8],[58,13,44,15,"setInterval"],[58,24,44,26],[58,25,44,27,"scheduler"],[58,34,44,36],[58,35,44,37,"flush"],[58,40,44,42],[58,41,44,43,"bind"],[58,45,44,47],[58,46,44,48,"scheduler"],[58,55,44,57],[58,57,44,59],[58,61,44,63],[58,62,44,64],[58,64,44,66,"delay"],[58,69,44,71],[58,70,44,72],[59,4,45,4],[59,5,45,5],[60,4,46,4,"AsyncAction"],[60,15,46,15],[60,16,46,16,"prototype"],[60,25,46,25],[60,26,46,26,"recycleAsyncId"],[60,40,46,40],[60,43,46,43],[60,53,46,53,"scheduler"],[60,62,46,62],[60,64,46,64,"id"],[60,66,46,66],[60,68,46,68,"delay"],[60,73,46,73],[60,75,46,75],[61,6,47,8],[61,10,47,12,"delay"],[61,15,47,17],[61,20,47,22],[61,25,47,27],[61,26,47,28],[61,28,47,30],[62,8,47,32,"delay"],[62,13,47,37],[62,16,47,40],[62,17,47,41],[63,6,47,43],[64,6,48,8],[64,10,48,12,"delay"],[64,15,48,17],[64,20,48,22],[64,24,48,26],[64,28,48,30],[64,32,48,34],[64,33,48,35,"delay"],[64,38,48,40],[64,43,48,45,"delay"],[64,48,48,50],[64,52,48,54],[64,56,48,58],[64,57,48,59,"pending"],[64,64,48,66],[64,69,48,71],[64,74,48,76],[64,76,48,78],[65,8,49,12],[65,15,49,19,"id"],[65,17,49,21],[66,6,50,8],[67,6,51,8,"clearInterval"],[67,19,51,21],[67,20,51,22,"id"],[67,22,51,24],[67,23,51,25],[68,6,52,8],[68,13,52,15,"undefined"],[68,22,52,24],[69,4,53,4],[69,5,53,5],[70,4,54,4,"AsyncAction"],[70,15,54,15],[70,16,54,16,"prototype"],[70,25,54,25],[70,26,54,26,"execute"],[70,33,54,33],[70,36,54,36],[70,46,54,46,"state"],[70,51,54,51],[70,53,54,53,"delay"],[70,58,54,58],[70,60,54,60],[71,6,55,8],[71,10,55,12],[71,14,55,16],[71,15,55,17,"closed"],[71,21,55,23],[71,23,55,25],[72,8,56,12],[72,15,56,19],[72,19,56,23,"Error"],[72,24,56,28],[72,25,56,29],[72,55,56,59],[72,56,56,60],[73,6,57,8],[74,6,58,8],[74,10,58,12],[74,11,58,13,"pending"],[74,18,58,20],[74,21,58,23],[74,26,58,28],[75,6,59,8],[75,10,59,12,"error"],[75,15,59,17],[75,18,59,20],[75,22,59,24],[75,23,59,25,"_execute"],[75,31,59,33],[75,32,59,34,"state"],[75,37,59,39],[75,39,59,41,"delay"],[75,44,59,46],[75,45,59,47],[76,6,60,8],[76,10,60,12,"error"],[76,15,60,17],[76,17,60,19],[77,8,61,12],[77,15,61,19,"error"],[77,20,61,24],[78,6,62,8],[78,7,62,9],[78,13,63,13],[78,17,63,17],[78,21,63,21],[78,22,63,22,"pending"],[78,29,63,29],[78,34,63,34],[78,39,63,39],[78,43,63,43],[78,47,63,47],[78,48,63,48,"id"],[78,50,63,50],[78,54,63,54],[78,58,63,58],[78,60,63,60],[79,8,64,12],[79,12,64,16],[79,13,64,17,"id"],[79,15,64,19],[79,18,64,22],[79,22,64,26],[79,23,64,27,"recycleAsyncId"],[79,37,64,41],[79,38,64,42],[79,42,64,46],[79,43,64,47,"scheduler"],[79,52,64,56],[79,54,64,58],[79,58,64,62],[79,59,64,63,"id"],[79,61,64,65],[79,63,64,67],[79,67,64,71],[79,68,64,72],[80,6,65,8],[81,4,66,4],[81,5,66,5],[82,4,67,4,"AsyncAction"],[82,15,67,15],[82,16,67,16,"prototype"],[82,25,67,25],[82,26,67,26,"_execute"],[82,34,67,34],[82,37,67,37],[82,47,67,47,"state"],[82,52,67,52],[82,54,67,54,"delay"],[82,59,67,59],[82,61,67,61],[83,6,68,8],[83,10,68,12,"errored"],[83,17,68,19],[83,20,68,22],[83,25,68,27],[84,6,69,8],[84,10,69,12,"errorValue"],[84,20,69,22],[84,23,69,25,"undefined"],[84,32,69,34],[85,6,70,8],[85,10,70,12],[86,8,71,12],[86,12,71,16],[86,13,71,17,"work"],[86,17,71,21],[86,18,71,22,"state"],[86,23,71,27],[86,24,71,28],[87,6,72,8],[87,7,72,9],[87,8,73,8],[87,15,73,15,"e"],[87,16,73,16],[87,18,73,18],[88,8,74,12,"errored"],[88,15,74,19],[88,18,74,22],[88,22,74,26],[89,8,75,12,"errorValue"],[89,18,75,22],[89,21,75,25],[89,22,75,26],[89,23,75,27,"e"],[89,24,75,28],[89,28,75,32,"e"],[89,29,75,33],[89,33,75,37],[89,37,75,41,"Error"],[89,42,75,46],[89,43,75,47,"e"],[89,44,75,48],[89,45,75,49],[90,6,76,8],[91,6,77,8],[91,10,77,12,"errored"],[91,17,77,19],[91,19,77,21],[92,8,78,12],[92,12,78,16],[92,13,78,17,"unsubscribe"],[92,24,78,28],[92,25,78,29],[92,26,78,30],[93,8,79,12],[93,15,79,19,"errorValue"],[93,25,79,29],[94,6,80,8],[95,4,81,4],[95,5,81,5],[96,4,82,4,"AsyncAction"],[96,15,82,15],[96,16,82,16,"prototype"],[96,25,82,25],[96,26,82,26,"_unsubscribe"],[96,38,82,38],[96,41,82,41],[96,53,82,53],[97,6,83,8],[97,10,83,12,"id"],[97,12,83,14],[97,15,83,17],[97,19,83,21],[97,20,83,22,"id"],[97,22,83,24],[98,6,84,8],[98,10,84,12,"scheduler"],[98,19,84,21],[98,22,84,24],[98,26,84,28],[98,27,84,29,"scheduler"],[98,36,84,38],[99,6,85,8],[99,10,85,12,"actions"],[99,17,85,19],[99,20,85,22,"scheduler"],[99,29,85,31],[99,30,85,32,"actions"],[99,37,85,39],[100,6,86,8],[100,10,86,12,"index"],[100,15,86,17],[100,18,86,20,"actions"],[100,25,86,27],[100,26,86,28,"indexOf"],[100,33,86,35],[100,34,86,36],[100,38,86,40],[100,39,86,41],[101,6,87,8],[101,10,87,12],[101,11,87,13,"work"],[101,15,87,17],[101,18,87,20],[101,22,87,24],[102,6,88,8],[102,10,88,12],[102,11,88,13,"state"],[102,16,88,18],[102,19,88,21],[102,23,88,25],[103,6,89,8],[103,10,89,12],[103,11,89,13,"pending"],[103,18,89,20],[103,21,89,23],[103,26,89,28],[104,6,90,8],[104,10,90,12],[104,11,90,13,"scheduler"],[104,20,90,22],[104,23,90,25],[104,27,90,29],[105,6,91,8],[105,10,91,12,"index"],[105,15,91,17],[105,20,91,22],[105,21,91,23],[105,22,91,24],[105,24,91,26],[106,8,92,12,"actions"],[106,15,92,19],[106,16,92,20,"splice"],[106,22,92,26],[106,23,92,27,"index"],[106,28,92,32],[106,30,92,34],[106,31,92,35],[106,32,92,36],[107,6,93,8],[108,6,94,8],[108,10,94,12,"id"],[108,12,94,14],[108,16,94,18],[108,20,94,22],[108,22,94,24],[109,8,95,12],[109,12,95,16],[109,13,95,17,"id"],[109,15,95,19],[109,18,95,22],[109,22,95,26],[109,23,95,27,"recycleAsyncId"],[109,37,95,41],[109,38,95,42,"scheduler"],[109,47,95,51],[109,49,95,53,"id"],[109,51,95,55],[109,53,95,57],[109,57,95,61],[109,58,95,62],[110,6,96,8],[111,6,97,8],[111,10,97,12],[111,11,97,13,"delay"],[111,16,97,18],[111,19,97,21],[111,23,97,25],[112,4,98,4],[112,5,98,5],[113,4,99,4],[113,11,99,11,"AsyncAction"],[113,22,99,22],[114,2,100,0],[114,3,100,1],[114,4,100,2,"Action_1"],[114,12,100,10],[114,13,100,11,"Action"],[114,19,100,17],[114,20,100,19],[115,2,101,0,"exports"],[115,9,101,7],[115,10,101,8,"AsyncAction"],[115,21,101,19],[115,24,101,22,"AsyncAction"],[115,35,101,33],[116,0,101,34],[116,3]],"functionMap":{"names":["<global>","<anonymous>","extendStatics","__","AsyncAction","prototype.schedule","prototype.requestAsyncId","prototype.recycleAsyncId","prototype.execute","prototype._execute","prototype._unsubscribe"],"mappings":"AAA;6CCC;wBCC;mDDE,oCC;YDC,0EC;KDE;QEG,uCF;CDG;mBCG;IGE;KHM;qCIC;KJe;2CKC;KLG;2CMC;KNO;oCOC;KPY;qCQC;KRc;yCSC;KTgB;CDE"},"hasCjsExports":true},"type":"js/module"}]}