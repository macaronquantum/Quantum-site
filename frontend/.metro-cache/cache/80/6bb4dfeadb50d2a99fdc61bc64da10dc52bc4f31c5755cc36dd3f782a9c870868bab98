{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"Connection\", {\n    enumerable: true,\n    get: function () {\n      return Connection;\n    }\n  });\n  class Connection {\n    constructor(validatedOrigin, targetWindow) {\n      this.validatedOrigin = validatedOrigin;\n      this.targetWindow = targetWindow;\n      this.handlers = new Map();\n    }\n    off(event, callback) {\n      const eventCallbacks = this.handlers.get(event);\n      eventCallbacks === null || eventCallbacks === void 0 ? void 0 : eventCallbacks.delete(callback);\n    }\n    on(event, callback) {\n      var _a;\n      const eventCallbacks = (_a = this.handlers.get(event)) !== null && _a !== void 0 ? _a : new Set();\n      eventCallbacks.add(callback);\n      this.handlers.set(event, eventCallbacks);\n    }\n    send({\n      event,\n      payload\n    }) {\n      this.targetWindow.postMessage({\n        event,\n        payload\n      }, this.validatedOrigin);\n    }\n    runHandlersForEvent(event, payload) {\n      const eventCallbacks = this.handlers.get(event);\n      if (!eventCallbacks) {\n        return;\n      }\n      for (const callback of eventCallbacks) {\n        callback(payload);\n      }\n    }\n    resetHandlers() {\n      this.handlers.clear();\n    }\n    export() {\n      return {\n        off: this.off.bind(this),\n        on: this.on.bind(this),\n        send: this.send.bind(this),\n        validatedOrigin: this.validatedOrigin\n      };\n    }\n  }\n});","lineCount":59,"map":[[7,2,1,0,"Object"],[7,8,1,0],[7,9,1,0,"defineProperty"],[7,23,1,0],[7,24,1,0,"exports"],[7,31,1,0],[8,4,1,0,"enumerable"],[8,14,1,0],[9,4,1,0,"get"],[9,7,1,0],[9,18,1,0,"get"],[9,19,1,0],[10,6,1,0],[10,13,1,0,"Connection"],[10,23,1,0],[11,4,1,0],[12,2,1,0],[13,2,1,7],[13,8,1,13,"Connection"],[13,18,1,23],[13,19,1,24],[14,4,2,4,"constructor"],[14,15,2,15,"constructor"],[14,16,2,16,"validatedOrigin"],[14,31,2,31],[14,33,2,33,"targetWindow"],[14,45,2,45],[14,47,2,47],[15,6,3,8],[15,10,3,12],[15,11,3,13,"validatedOrigin"],[15,26,3,28],[15,29,3,31,"validatedOrigin"],[15,44,3,46],[16,6,4,8],[16,10,4,12],[16,11,4,13,"targetWindow"],[16,23,4,25],[16,26,4,28,"targetWindow"],[16,38,4,40],[17,6,5,8],[17,10,5,12],[17,11,5,13,"handlers"],[17,19,5,21],[17,22,5,24],[17,26,5,28,"Map"],[17,29,5,31],[17,30,5,32],[17,31,5,33],[18,4,6,4],[19,4,7,4,"off"],[19,7,7,7,"off"],[19,8,7,8,"event"],[19,13,7,13],[19,15,7,15,"callback"],[19,23,7,23],[19,25,7,25],[20,6,8,8],[20,12,8,14,"eventCallbacks"],[20,26,8,28],[20,29,8,31],[20,33,8,35],[20,34,8,36,"handlers"],[20,42,8,44],[20,43,8,45,"get"],[20,46,8,48],[20,47,8,49,"event"],[20,52,8,54],[20,53,8,55],[21,6,9,8,"eventCallbacks"],[21,20,9,22],[21,25,9,27],[21,29,9,31],[21,33,9,35,"eventCallbacks"],[21,47,9,49],[21,52,9,54],[21,57,9,59],[21,58,9,60],[21,61,9,63],[21,66,9,68],[21,67,9,69],[21,70,9,72,"eventCallbacks"],[21,84,9,86],[21,85,9,87,"delete"],[21,91,9,93],[21,92,9,94,"callback"],[21,100,9,102],[21,101,9,103],[22,4,10,4],[23,4,11,4,"on"],[23,6,11,6,"on"],[23,7,11,7,"event"],[23,12,11,12],[23,14,11,14,"callback"],[23,22,11,22],[23,24,11,24],[24,6,12,8],[24,10,12,12,"_a"],[24,12,12,14],[25,6,13,8],[25,12,13,14,"eventCallbacks"],[25,26,13,28],[25,29,13,31],[25,30,13,32,"_a"],[25,32,13,34],[25,35,13,37],[25,39,13,41],[25,40,13,42,"handlers"],[25,48,13,50],[25,49,13,51,"get"],[25,52,13,54],[25,53,13,55,"event"],[25,58,13,60],[25,59,13,61],[25,65,13,67],[25,69,13,71],[25,73,13,75,"_a"],[25,75,13,77],[25,80,13,82],[25,85,13,87],[25,86,13,88],[25,89,13,91,"_a"],[25,91,13,93],[25,94,13,96],[25,98,13,100,"Set"],[25,101,13,103],[25,102,13,104],[25,103,13,105],[26,6,14,8,"eventCallbacks"],[26,20,14,22],[26,21,14,23,"add"],[26,24,14,26],[26,25,14,27,"callback"],[26,33,14,35],[26,34,14,36],[27,6,15,8],[27,10,15,12],[27,11,15,13,"handlers"],[27,19,15,21],[27,20,15,22,"set"],[27,23,15,25],[27,24,15,26,"event"],[27,29,15,31],[27,31,15,33,"eventCallbacks"],[27,45,15,47],[27,46,15,48],[28,4,16,4],[29,4,17,4,"send"],[29,8,17,8,"send"],[29,9,17,9],[30,6,17,11,"event"],[30,11,17,16],[31,6,17,18,"payload"],[32,4,17,26],[32,5,17,27],[32,7,17,29],[33,6,18,8],[33,10,18,12],[33,11,18,13,"targetWindow"],[33,23,18,25],[33,24,18,26,"postMessage"],[33,35,18,37],[33,36,18,38],[34,8,19,12,"event"],[34,13,19,17],[35,8,20,12,"payload"],[36,6,21,8],[36,7,21,9],[36,9,21,11],[36,13,21,15],[36,14,21,16,"validatedOrigin"],[36,29,21,31],[36,30,21,32],[37,4,22,4],[38,4,23,4,"runHandlersForEvent"],[38,23,23,23,"runHandlersForEvent"],[38,24,23,24,"event"],[38,29,23,29],[38,31,23,31,"payload"],[38,38,23,38],[38,40,23,40],[39,6,24,8],[39,12,24,14,"eventCallbacks"],[39,26,24,28],[39,29,24,31],[39,33,24,35],[39,34,24,36,"handlers"],[39,42,24,44],[39,43,24,45,"get"],[39,46,24,48],[39,47,24,49,"event"],[39,52,24,54],[39,53,24,55],[40,6,25,8],[40,10,25,12],[40,11,25,13,"eventCallbacks"],[40,25,25,27],[40,27,25,29],[41,8,26,12],[42,6,27,8],[43,6,28,8],[43,11,28,13],[43,17,28,19,"callback"],[43,25,28,27],[43,29,28,31,"eventCallbacks"],[43,43,28,45],[43,45,28,47],[44,8,29,12,"callback"],[44,16,29,20],[44,17,29,21,"payload"],[44,24,29,28],[44,25,29,29],[45,6,30,8],[46,4,31,4],[47,4,32,4,"resetHandlers"],[47,17,32,17,"resetHandlers"],[47,18,32,17],[47,20,32,20],[48,6,33,8],[48,10,33,12],[48,11,33,13,"handlers"],[48,19,33,21],[48,20,33,22,"clear"],[48,25,33,27],[48,26,33,28],[48,27,33,29],[49,4,34,4],[50,4,35,4,"export"],[50,10,35,10,"export"],[50,11,35,10],[50,13,35,13],[51,6,36,8],[51,13,36,15],[52,8,37,12,"off"],[52,11,37,15],[52,13,37,17],[52,17,37,21],[52,18,37,22,"off"],[52,21,37,25],[52,22,37,26,"bind"],[52,26,37,30],[52,27,37,31],[52,31,37,35],[52,32,37,36],[53,8,38,12,"on"],[53,10,38,14],[53,12,38,16],[53,16,38,20],[53,17,38,21,"on"],[53,19,38,23],[53,20,38,24,"bind"],[53,24,38,28],[53,25,38,29],[53,29,38,33],[53,30,38,34],[54,8,39,12,"send"],[54,12,39,16],[54,14,39,18],[54,18,39,22],[54,19,39,23,"send"],[54,23,39,27],[54,24,39,28,"bind"],[54,28,39,32],[54,29,39,33],[54,33,39,37],[54,34,39,38],[55,8,40,12,"validatedOrigin"],[55,23,40,27],[55,25,40,29],[55,29,40,33],[55,30,40,34,"validatedOrigin"],[56,6,41,8],[56,7,41,9],[57,4,42,4],[58,2,43,0],[59,0,43,1],[59,3]],"functionMap":{"names":["<global>","Connection","Connection#constructor","Connection#off","Connection#on","Connection#send","Connection#runHandlersForEvent","Connection#resetHandlers","Connection#_export"],"mappings":"AAA,OC;ICC;KDI;IEC;KFG;IGC;KHK;IIC;KJK;IKC;KLQ;IMC;KNE;IOC;KPO;CDC"},"hasCjsExports":false},"type":"js/module"}]}