{"dependencies":[{"name":"../core/Hex.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":38,"index":38}}],"key":"PQonHNjYnPEqTcMveCAIm3LDrLI=","exportNames":["*"],"imports":1}},{"name":"../core/TransactionRequest.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":39},"end":{"line":2,"column":71,"index":110}}],"key":"hltQ42eILWbHWLJFne9BKOQ1cOE=","exportNames":["*"],"imports":1}},{"name":"./AuthorizationTempo.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":111},"end":{"line":3,"column":62,"index":173}}],"key":"I2nrMZgagFOeRdmXwzczk6DFVVA=","exportNames":["*"],"imports":1}},{"name":"./KeyAuthorization.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":174},"end":{"line":4,"column":58,"index":232}}],"key":"RkZAomWmit8G9vypHCdhwGlJDq4=","exportNames":["*"],"imports":1}},{"name":"./TokenId.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":233},"end":{"line":5,"column":40,"index":273}}],"key":"kOJX/OueqC0zn/DcXZdx71//wNY=","exportNames":["*"],"imports":1}},{"name":"./Transaction.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":274},"end":{"line":6,"column":48,"index":322}}],"key":"Lu4+ZHRivJXs5rF/dusqCSvv/Ok=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  exports.toRpc = toRpc;\n  var _coreHexJs = require(_dependencyMap[0], \"../core/Hex.js\");\n  var Hex = _interopNamespace(_coreHexJs);\n  var _coreTransactionRequestJs = require(_dependencyMap[1], \"../core/TransactionRequest.js\");\n  var ox_TransactionRequest = _interopNamespace(_coreTransactionRequestJs);\n  var _AuthorizationTempoJs = require(_dependencyMap[2], \"./AuthorizationTempo.js\");\n  var AuthorizationTempo = _interopNamespace(_AuthorizationTempoJs);\n  var _KeyAuthorizationJs = require(_dependencyMap[3], \"./KeyAuthorization.js\");\n  var KeyAuthorization = _interopNamespace(_KeyAuthorizationJs);\n  var _TokenIdJs = require(_dependencyMap[4], \"./TokenId.js\");\n  var TokenId = _interopNamespace(_TokenIdJs);\n  var _TransactionJs = require(_dependencyMap[5], \"./Transaction.js\");\n  var Transaction = _interopNamespace(_TransactionJs);\n  /**\n   * Converts a {@link ox#TransactionRequest.TransactionRequest} to a {@link ox#TransactionRequest.Rpc}.\n   *\n   * @see {@link https://docs.tempo.xyz/protocol/transactions Tempo Transactions}\n   *\n   * @example\n   * ```ts twoslash\n   * import { Value } from 'ox'\n   * import { TransactionRequest } from 'ox/tempo'\n   *\n   * const request = TransactionRequest.toRpc({\n   *   calls: [{\n   *     data: '0xdeadbeef',\n   *     to: '0xcafebabecafebabecafebabecafebabecafebabe',\n   *   }],\n   *   feeToken: '0x20c0000000000000000000000000000000000000',\n   * })\n   * ```\n   *\n   * @example\n   * ### Using with a Provider\n   *\n   * You can use {@link ox#Provider.(from:function)} to instantiate an EIP-1193 Provider and\n   * send a transaction to the Wallet using the `eth_sendTransaction` method.\n   *\n   * ```ts twoslash\n   * import 'ox/window'\n   * import { Provider, Value } from 'ox'\n   * import { TransactionRequest } from 'ox/tempo'\n   *\n   * const provider = Provider.from(window.ethereum!)\n   *\n   * const request = TransactionRequest.toRpc({\n   *   calls: [{\n   *     data: '0xdeadbeef',\n   *     to: '0xcafebabecafebabecafebabecafebabecafebabe',\n   *   }],\n   *   feeToken: '0x20c0000000000000000000000000000000000000',\n   * })\n   *\n   * const hash = await provider.request({ // [!code focus]\n   *   method: 'eth_sendTransaction', // [!code focus]\n   *   params: [request], // [!code focus]\n   * }) // [!code focus]\n   * ```\n   *\n   * @param request - The request to convert.\n   * @returns An RPC request.\n   */\n  function toRpc(request) {\n    const request_rpc = ox_TransactionRequest.toRpc({\n      ...request,\n      authorizationList: undefined\n    });\n    if (request.authorizationList) request_rpc.authorizationList = AuthorizationTempo.toRpcList(request.authorizationList);\n    if (request.calls) request_rpc.calls = request.calls.map(call => ({\n      to: call.to,\n      value: call.value ? Hex.fromNumber(call.value) : '0x',\n      data: call.data ?? '0x'\n    }));\n    if (typeof request.feeToken !== 'undefined') request_rpc.feeToken = TokenId.toAddress(request.feeToken);\n    if (request.keyAuthorization) request_rpc.keyAuthorization = KeyAuthorization.toRpc(request.keyAuthorization);\n    if (typeof request.validBefore !== 'undefined') request_rpc.validBefore = Hex.fromNumber(request.validBefore);\n    if (typeof request.validAfter !== 'undefined') request_rpc.validAfter = Hex.fromNumber(request.validAfter);\n    const nonceKey = (() => {\n      if (request.nonceKey === 'random') return Hex.random(6);\n      if (typeof request.nonceKey === 'bigint') return Hex.fromNumber(request.nonceKey);\n      return undefined;\n    })();\n    if (nonceKey) request_rpc.nonceKey = nonceKey;\n    if (typeof request.calls !== 'undefined' || typeof request.feeToken !== 'undefined' || typeof request.keyAuthorization !== 'undefined' || typeof request.nonceKey !== 'undefined' || typeof request.validBefore !== 'undefined' || typeof request.validAfter !== 'undefined' || request.type === 'tempo') {\n      request_rpc.type = Transaction.toRpcType.tempo;\n      delete request_rpc.data;\n      delete request_rpc.input;\n      delete request_rpc.to;\n      delete request_rpc.value;\n    }\n    return request_rpc;\n  }\n});","lineCount":114,"map":[[22,2,56,0,"exports"],[22,9,56,0],[22,10,56,0,"toRpc"],[22,15,56,0],[22,18,56,0,"toRpc"],[22,23,56,0],[23,2,1,0],[23,6,1,0,"_coreHexJs"],[23,16,1,0],[23,19,1,0,"require"],[23,26,1,0],[23,27,1,0,"_dependencyMap"],[23,41,1,0],[24,2,1,0],[24,6,1,0,"Hex"],[24,9,1,0],[24,12,1,0,"_interopNamespace"],[24,29,1,0],[24,30,1,0,"_coreHexJs"],[24,40,1,0],[25,2,2,0],[25,6,2,0,"_coreTransactionRequestJs"],[25,31,2,0],[25,34,2,0,"require"],[25,41,2,0],[25,42,2,0,"_dependencyMap"],[25,56,2,0],[26,2,2,0],[26,6,2,0,"ox_TransactionRequest"],[26,27,2,0],[26,30,2,0,"_interopNamespace"],[26,47,2,0],[26,48,2,0,"_coreTransactionRequestJs"],[26,73,2,0],[27,2,3,0],[27,6,3,0,"_AuthorizationTempoJs"],[27,27,3,0],[27,30,3,0,"require"],[27,37,3,0],[27,38,3,0,"_dependencyMap"],[27,52,3,0],[28,2,3,0],[28,6,3,0,"AuthorizationTempo"],[28,24,3,0],[28,27,3,0,"_interopNamespace"],[28,44,3,0],[28,45,3,0,"_AuthorizationTempoJs"],[28,66,3,0],[29,2,4,0],[29,6,4,0,"_KeyAuthorizationJs"],[29,25,4,0],[29,28,4,0,"require"],[29,35,4,0],[29,36,4,0,"_dependencyMap"],[29,50,4,0],[30,2,4,0],[30,6,4,0,"KeyAuthorization"],[30,22,4,0],[30,25,4,0,"_interopNamespace"],[30,42,4,0],[30,43,4,0,"_KeyAuthorizationJs"],[30,62,4,0],[31,2,5,0],[31,6,5,0,"_TokenIdJs"],[31,16,5,0],[31,19,5,0,"require"],[31,26,5,0],[31,27,5,0,"_dependencyMap"],[31,41,5,0],[32,2,5,0],[32,6,5,0,"TokenId"],[32,13,5,0],[32,16,5,0,"_interopNamespace"],[32,33,5,0],[32,34,5,0,"_TokenIdJs"],[32,44,5,0],[33,2,6,0],[33,6,6,0,"_TransactionJs"],[33,20,6,0],[33,23,6,0,"require"],[33,30,6,0],[33,31,6,0,"_dependencyMap"],[33,45,6,0],[34,2,6,0],[34,6,6,0,"Transaction"],[34,17,6,0],[34,20,6,0,"_interopNamespace"],[34,37,6,0],[34,38,6,0,"_TransactionJs"],[34,52,6,0],[35,2,7,0],[36,0,8,0],[37,0,9,0],[38,0,10,0],[39,0,11,0],[40,0,12,0],[41,0,13,0],[42,0,14,0],[43,0,15,0],[44,0,16,0],[45,0,17,0],[46,0,18,0],[47,0,19,0],[48,0,20,0],[49,0,21,0],[50,0,22,0],[51,0,23,0],[52,0,24,0],[53,0,25,0],[54,0,26,0],[55,0,27,0],[56,0,28,0],[57,0,29,0],[58,0,30,0],[59,0,31,0],[60,0,32,0],[61,0,33,0],[62,0,34,0],[63,0,35,0],[64,0,36,0],[65,0,37,0],[66,0,38,0],[67,0,39,0],[68,0,40,0],[69,0,41,0],[70,0,42,0],[71,0,43,0],[72,0,44,0],[73,0,45,0],[74,0,46,0],[75,0,47,0],[76,0,48,0],[77,0,49,0],[78,0,50,0],[79,0,51,0],[80,0,52,0],[81,0,53,0],[82,0,54,0],[83,0,55,0],[84,2,56,7],[84,11,56,16,"toRpc"],[84,16,56,21,"toRpc"],[84,17,56,22,"request"],[84,24,56,29],[84,26,56,31],[85,4,57,4],[85,10,57,10,"request_rpc"],[85,21,57,21],[85,24,57,24,"ox_TransactionRequest"],[85,45,57,45],[85,46,57,46,"toRpc"],[85,51,57,51],[85,52,57,52],[86,6,58,8],[86,9,58,11,"request"],[86,16,58,18],[87,6,59,8,"authorizationList"],[87,23,59,25],[87,25,59,27,"undefined"],[88,4,60,4],[88,5,60,5],[88,6,60,6],[89,4,61,4],[89,8,61,8,"request"],[89,15,61,15],[89,16,61,16,"authorizationList"],[89,33,61,33],[89,35,62,8,"request_rpc"],[89,46,62,19],[89,47,62,20,"authorizationList"],[89,64,62,37],[89,67,62,40,"AuthorizationTempo"],[89,85,62,58],[89,86,62,59,"toRpcList"],[89,95,62,68],[89,96,62,69,"request"],[89,103,62,76],[89,104,62,77,"authorizationList"],[89,121,62,94],[89,122,62,95],[90,4,63,4],[90,8,63,8,"request"],[90,15,63,15],[90,16,63,16,"calls"],[90,21,63,21],[90,23,64,8,"request_rpc"],[90,34,64,19],[90,35,64,20,"calls"],[90,40,64,25],[90,43,64,28,"request"],[90,50,64,35],[90,51,64,36,"calls"],[90,56,64,41],[90,57,64,42,"map"],[90,60,64,45],[90,61,64,47,"call"],[90,65,64,51],[90,70,64,57],[91,6,65,12,"to"],[91,8,65,14],[91,10,65,16,"call"],[91,14,65,20],[91,15,65,21,"to"],[91,17,65,23],[92,6,66,12,"value"],[92,11,66,17],[92,13,66,19,"call"],[92,17,66,23],[92,18,66,24,"value"],[92,23,66,29],[92,26,66,32,"Hex"],[92,29,66,35],[92,30,66,36,"fromNumber"],[92,40,66,46],[92,41,66,47,"call"],[92,45,66,51],[92,46,66,52,"value"],[92,51,66,57],[92,52,66,58],[92,55,66,61],[92,59,66,65],[93,6,67,12,"data"],[93,10,67,16],[93,12,67,18,"call"],[93,16,67,22],[93,17,67,23,"data"],[93,21,67,27],[93,25,67,31],[94,4,68,8],[94,5,68,9],[94,6,68,10],[94,7,68,11],[95,4,69,4],[95,8,69,8],[95,15,69,15,"request"],[95,22,69,22],[95,23,69,23,"feeToken"],[95,31,69,31],[95,36,69,36],[95,47,69,47],[95,49,70,8,"request_rpc"],[95,60,70,19],[95,61,70,20,"feeToken"],[95,69,70,28],[95,72,70,31,"TokenId"],[95,79,70,38],[95,80,70,39,"toAddress"],[95,89,70,48],[95,90,70,49,"request"],[95,97,70,56],[95,98,70,57,"feeToken"],[95,106,70,65],[95,107,70,66],[96,4,71,4],[96,8,71,8,"request"],[96,15,71,15],[96,16,71,16,"keyAuthorization"],[96,32,71,32],[96,34,72,8,"request_rpc"],[96,45,72,19],[96,46,72,20,"keyAuthorization"],[96,62,72,36],[96,65,72,39,"KeyAuthorization"],[96,81,72,55],[96,82,72,56,"toRpc"],[96,87,72,61],[96,88,72,62,"request"],[96,95,72,69],[96,96,72,70,"keyAuthorization"],[96,112,72,86],[96,113,72,87],[97,4,73,4],[97,8,73,8],[97,15,73,15,"request"],[97,22,73,22],[97,23,73,23,"validBefore"],[97,34,73,34],[97,39,73,39],[97,50,73,50],[97,52,74,8,"request_rpc"],[97,63,74,19],[97,64,74,20,"validBefore"],[97,75,74,31],[97,78,74,34,"Hex"],[97,81,74,37],[97,82,74,38,"fromNumber"],[97,92,74,48],[97,93,74,49,"request"],[97,100,74,56],[97,101,74,57,"validBefore"],[97,112,74,68],[97,113,74,69],[98,4,75,4],[98,8,75,8],[98,15,75,15,"request"],[98,22,75,22],[98,23,75,23,"validAfter"],[98,33,75,33],[98,38,75,38],[98,49,75,49],[98,51,76,8,"request_rpc"],[98,62,76,19],[98,63,76,20,"validAfter"],[98,73,76,30],[98,76,76,33,"Hex"],[98,79,76,36],[98,80,76,37,"fromNumber"],[98,90,76,47],[98,91,76,48,"request"],[98,98,76,55],[98,99,76,56,"validAfter"],[98,109,76,66],[98,110,76,67],[99,4,77,4],[99,10,77,10,"nonceKey"],[99,18,77,18],[99,21,77,21],[99,22,77,22],[99,28,77,28],[100,6,78,8],[100,10,78,12,"request"],[100,17,78,19],[100,18,78,20,"nonceKey"],[100,26,78,28],[100,31,78,33],[100,39,78,41],[100,41,79,12],[100,48,79,19,"Hex"],[100,51,79,22],[100,52,79,23,"random"],[100,58,79,29],[100,59,79,30],[100,60,79,31],[100,61,79,32],[101,6,80,8],[101,10,80,12],[101,17,80,19,"request"],[101,24,80,26],[101,25,80,27,"nonceKey"],[101,33,80,35],[101,38,80,40],[101,46,80,48],[101,48,81,12],[101,55,81,19,"Hex"],[101,58,81,22],[101,59,81,23,"fromNumber"],[101,69,81,33],[101,70,81,34,"request"],[101,77,81,41],[101,78,81,42,"nonceKey"],[101,86,81,50],[101,87,81,51],[102,6,82,8],[102,13,82,15,"undefined"],[102,22,82,24],[103,4,83,4],[103,5,83,5],[103,7,83,7],[103,8,83,8],[104,4,84,4],[104,8,84,8,"nonceKey"],[104,16,84,16],[104,18,85,8,"request_rpc"],[104,29,85,19],[104,30,85,20,"nonceKey"],[104,38,85,28],[104,41,85,31,"nonceKey"],[104,49,85,39],[105,4,86,4],[105,8,86,8],[105,15,86,15,"request"],[105,22,86,22],[105,23,86,23,"calls"],[105,28,86,28],[105,33,86,33],[105,44,86,44],[105,48,87,8],[105,55,87,15,"request"],[105,62,87,22],[105,63,87,23,"feeToken"],[105,71,87,31],[105,76,87,36],[105,87,87,47],[105,91,88,8],[105,98,88,15,"request"],[105,105,88,22],[105,106,88,23,"keyAuthorization"],[105,122,88,39],[105,127,88,44],[105,138,88,55],[105,142,89,8],[105,149,89,15,"request"],[105,156,89,22],[105,157,89,23,"nonceKey"],[105,165,89,31],[105,170,89,36],[105,181,89,47],[105,185,90,8],[105,192,90,15,"request"],[105,199,90,22],[105,200,90,23,"validBefore"],[105,211,90,34],[105,216,90,39],[105,227,90,50],[105,231,91,8],[105,238,91,15,"request"],[105,245,91,22],[105,246,91,23,"validAfter"],[105,256,91,33],[105,261,91,38],[105,272,91,49],[105,276,92,8,"request"],[105,283,92,15],[105,284,92,16,"type"],[105,288,92,20],[105,293,92,25],[105,300,92,32],[105,302,92,34],[106,6,93,8,"request_rpc"],[106,17,93,19],[106,18,93,20,"type"],[106,22,93,24],[106,25,93,27,"Transaction"],[106,36,93,38],[106,37,93,39,"toRpcType"],[106,46,93,48],[106,47,93,49,"tempo"],[106,52,93,54],[107,6,94,8],[107,13,94,15,"request_rpc"],[107,24,94,26],[107,25,94,27,"data"],[107,29,94,31],[108,6,95,8],[108,13,95,15,"request_rpc"],[108,24,95,26],[108,25,95,27,"input"],[108,30,95,32],[109,6,96,8],[109,13,96,15,"request_rpc"],[109,24,96,26],[109,25,96,27,"to"],[109,27,96,29],[110,6,97,8],[110,13,97,15,"request_rpc"],[110,24,97,26],[110,25,97,27,"value"],[110,30,97,32],[111,4,98,4],[112,4,99,4],[112,11,99,11,"request_rpc"],[112,22,99,22],[113,2,100,0],[114,0,100,1],[114,3]],"functionMap":{"names":["<global>","toRpc","request.calls.map$argument_0","<anonymous>"],"mappings":"AAA;OCuD;8CCQ;UDI;sBES;KFM;CDiB"},"hasCjsExports":false},"type":"js/module"}]}