{"dependencies":[{"name":"ox/Hex","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":30,"index":30}}],"key":"12m2IiLiyIS64ihOCr/Gsho2SVQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"store\", {\n    enumerable: true,\n    get: function () {\n      return store;\n    }\n  });\n  exports.create = create;\n  exports.getCacheKey = getCacheKey;\n  exports.getEntry = getEntry;\n  exports.reset = reset;\n  exports.getNonceKey = getNonceKey;\n  var _oxHex = require(_dependencyMap[0], \"ox/Hex\");\n  var Hex = _interopNamespace(_oxHex);\n  /** @internal */\n  const store = /*#__PURE__*/create();\n  /** @internal */\n  function create() {\n    return new Map();\n  }\n  /** @internal */\n  function getCacheKey(parameters) {\n    return `${parameters.address.toLowerCase()}-${parameters.chainId}`;\n  }\n  /** @internal */\n  function getEntry(store, parameters) {\n    const key = getCacheKey(parameters);\n    let entry = store.get(key);\n    if (!entry) {\n      entry = {\n        counter: 0,\n        resetScheduled: false\n      };\n      store.set(key, entry);\n    }\n    return entry;\n  }\n  /** @internal */\n  function reset(store, parameters) {\n    const entry = getEntry(store, parameters);\n    entry.counter = 0;\n    entry.resetScheduled = false;\n  }\n  /** @internal */\n  function getNonceKey(store, parameters) {\n    const entry = getEntry(store, parameters);\n    if (!entry.resetScheduled) {\n      entry.resetScheduled = true;\n      queueMicrotask(() => reset(store, parameters));\n    }\n    const count = entry.counter;\n    entry.counter++;\n    if (count === 0) return 0n;\n    return Hex.toBigInt(Hex.random(6));\n  }\n});","lineCount":76,"map":[[22,2,3,0,"Object"],[22,8,3,0],[22,9,3,0,"defineProperty"],[22,23,3,0],[22,24,3,0,"exports"],[22,31,3,0],[23,4,3,0,"enumerable"],[23,14,3,0],[24,4,3,0,"get"],[24,7,3,0],[24,18,3,0,"get"],[24,19,3,0],[25,6,3,0],[25,13,3,0,"store"],[25,18,3,0],[26,4,3,0],[27,2,3,0],[28,2,5,0,"exports"],[28,9,5,0],[28,10,5,0,"create"],[28,16,5,0],[28,19,5,0,"create"],[28,25,5,0],[29,2,9,0,"exports"],[29,9,9,0],[29,10,9,0,"getCacheKey"],[29,21,9,0],[29,24,9,0,"getCacheKey"],[29,35,9,0],[30,2,13,0,"exports"],[30,9,13,0],[30,10,13,0,"getEntry"],[30,18,13,0],[30,21,13,0,"getEntry"],[30,29,13,0],[31,2,23,0,"exports"],[31,9,23,0],[31,10,23,0,"reset"],[31,15,23,0],[31,18,23,0,"reset"],[31,23,23,0],[32,2,29,0,"exports"],[32,9,29,0],[32,10,29,0,"getNonceKey"],[32,21,29,0],[32,24,29,0,"getNonceKey"],[32,35,29,0],[33,2,1,0],[33,6,1,0,"_oxHex"],[33,12,1,0],[33,15,1,0,"require"],[33,22,1,0],[33,23,1,0,"_dependencyMap"],[33,37,1,0],[34,2,1,0],[34,6,1,0,"Hex"],[34,9,1,0],[34,12,1,0,"_interopNamespace"],[34,29,1,0],[34,30,1,0,"_oxHex"],[34,36,1,0],[35,2,2,0],[36,2,3,7],[36,8,3,13,"store"],[36,13,3,18],[36,16,3,21],[36,29,3,35,"create"],[36,35,3,41],[36,36,3,42],[36,37,3,43],[37,2,4,0],[38,2,5,7],[38,11,5,16,"create"],[38,17,5,22,"create"],[38,18,5,22],[38,20,5,25],[39,4,6,4],[39,11,6,11],[39,15,6,15,"Map"],[39,18,6,18],[39,19,6,19],[39,20,6,20],[40,2,7,0],[41,2,8,0],[42,2,9,7],[42,11,9,16,"getCacheKey"],[42,22,9,27,"getCacheKey"],[42,23,9,28,"parameters"],[42,33,9,38],[42,35,9,40],[43,4,10,4],[43,11,10,11],[43,14,10,14,"parameters"],[43,24,10,24],[43,25,10,25,"address"],[43,32,10,32],[43,33,10,33,"toLowerCase"],[43,44,10,44],[43,45,10,45],[43,46,10,46],[43,50,10,50,"parameters"],[43,60,10,60],[43,61,10,61,"chainId"],[43,68,10,68],[43,70,10,70],[44,2,11,0],[45,2,12,0],[46,2,13,7],[46,11,13,16,"getEntry"],[46,19,13,24,"getEntry"],[46,20,13,25,"store"],[46,25,13,30],[46,27,13,32,"parameters"],[46,37,13,42],[46,39,13,44],[47,4,14,4],[47,10,14,10,"key"],[47,13,14,13],[47,16,14,16,"getCacheKey"],[47,27,14,27],[47,28,14,28,"parameters"],[47,38,14,38],[47,39,14,39],[48,4,15,4],[48,8,15,8,"entry"],[48,13,15,13],[48,16,15,16,"store"],[48,21,15,21],[48,22,15,22,"get"],[48,25,15,25],[48,26,15,26,"key"],[48,29,15,29],[48,30,15,30],[49,4,16,4],[49,8,16,8],[49,9,16,9,"entry"],[49,14,16,14],[49,16,16,16],[50,6,17,8,"entry"],[50,11,17,13],[50,14,17,16],[51,8,17,18,"counter"],[51,15,17,25],[51,17,17,27],[51,18,17,28],[52,8,17,30,"resetScheduled"],[52,22,17,44],[52,24,17,46],[53,6,17,52],[53,7,17,53],[54,6,18,8,"store"],[54,11,18,13],[54,12,18,14,"set"],[54,15,18,17],[54,16,18,18,"key"],[54,19,18,21],[54,21,18,23,"entry"],[54,26,18,28],[54,27,18,29],[55,4,19,4],[56,4,20,4],[56,11,20,11,"entry"],[56,16,20,16],[57,2,21,0],[58,2,22,0],[59,2,23,7],[59,11,23,16,"reset"],[59,16,23,21,"reset"],[59,17,23,22,"store"],[59,22,23,27],[59,24,23,29,"parameters"],[59,34,23,39],[59,36,23,41],[60,4,24,4],[60,10,24,10,"entry"],[60,15,24,15],[60,18,24,18,"getEntry"],[60,26,24,26],[60,27,24,27,"store"],[60,32,24,32],[60,34,24,34,"parameters"],[60,44,24,44],[60,45,24,45],[61,4,25,4,"entry"],[61,9,25,9],[61,10,25,10,"counter"],[61,17,25,17],[61,20,25,20],[61,21,25,21],[62,4,26,4,"entry"],[62,9,26,9],[62,10,26,10,"resetScheduled"],[62,24,26,24],[62,27,26,27],[62,32,26,32],[63,2,27,0],[64,2,28,0],[65,2,29,7],[65,11,29,16,"getNonceKey"],[65,22,29,27,"getNonceKey"],[65,23,29,28,"store"],[65,28,29,33],[65,30,29,35,"parameters"],[65,40,29,45],[65,42,29,47],[66,4,30,4],[66,10,30,10,"entry"],[66,15,30,15],[66,18,30,18,"getEntry"],[66,26,30,26],[66,27,30,27,"store"],[66,32,30,32],[66,34,30,34,"parameters"],[66,44,30,44],[66,45,30,45],[67,4,31,4],[67,8,31,8],[67,9,31,9,"entry"],[67,14,31,14],[67,15,31,15,"resetScheduled"],[67,29,31,29],[67,31,31,31],[68,6,32,8,"entry"],[68,11,32,13],[68,12,32,14,"resetScheduled"],[68,26,32,28],[68,29,32,31],[68,33,32,35],[69,6,33,8,"queueMicrotask"],[69,20,33,22],[69,21,33,23],[69,27,33,29,"reset"],[69,32,33,34],[69,33,33,35,"store"],[69,38,33,40],[69,40,33,42,"parameters"],[69,50,33,52],[69,51,33,53],[69,52,33,54],[70,4,34,4],[71,4,35,4],[71,10,35,10,"count"],[71,15,35,15],[71,18,35,18,"entry"],[71,23,35,23],[71,24,35,24,"counter"],[71,31,35,31],[72,4,36,4,"entry"],[72,9,36,9],[72,10,36,10,"counter"],[72,17,36,17],[72,19,36,19],[73,4,37,4],[73,8,37,8,"count"],[73,13,37,13],[73,18,37,18],[73,19,37,19],[73,21,38,8],[73,28,38,15],[73,30,38,17],[74,4,39,4],[74,11,39,11,"Hex"],[74,14,39,14],[74,15,39,15,"toBigInt"],[74,23,39,23],[74,24,39,24,"Hex"],[74,27,39,27],[74,28,39,28,"random"],[74,34,39,34],[74,35,39,35],[74,36,39,36],[74,37,39,37],[74,38,39,38],[75,2,40,0],[76,0,40,1],[76,3]],"functionMap":{"names":["<global>","create","getCacheKey","getEntry","reset","getNonceKey","queueMicrotask$argument_0"],"mappings":"AAA;OCI;CDE;OEE;CFE;OGE;CHQ;OIE;CJI;OKE;uBCI,8BD;CLO"},"hasCjsExports":false},"type":"js/module"}]}