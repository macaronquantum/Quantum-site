{"dependencies":[{"name":"../../../actions/public/readContract.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":72,"index":72}}],"key":"jVg8aTDSyvg+MMk12n1ybstBNdI=","exportNames":["*"],"imports":1}},{"name":"../../../errors/ens.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":73},"end":{"line":2,"column":166,"index":239}}],"key":"pW9kknU3EU7QoaUq2ILJl+XKyaw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.isImageUri = isImageUri;\n  exports.getGateway = getGateway;\n  exports.resolveAvatarUri = resolveAvatarUri;\n  exports.getJsonImage = getJsonImage;\n  exports.getMetadataAvatarUri = getMetadataAvatarUri;\n  exports.parseAvatarUri = parseAvatarUri;\n  exports.parseNftUri = parseNftUri;\n  exports.getNftTokenUri = getNftTokenUri;\n  var _actionsPublicReadContractJs = require(_dependencyMap[0], \"../../../actions/public/readContract.js\");\n  var _errorsEnsJs = require(_dependencyMap[1], \"../../../errors/ens.js\");\n  const networkRegex = /(?<protocol>https?:\\/\\/[^\\/]*|ipfs:\\/|ipns:\\/|ar:\\/)?(?<root>\\/)?(?<subpath>ipfs\\/|ipns\\/)?(?<target>[\\w\\-.]+)(?<subtarget>\\/.*)?/;\n  const ipfsHashRegex = /^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\\/(?<target>[\\w\\-.]+))?(?<subtarget>\\/.*)?$/;\n  const base64Regex = /^data:([a-zA-Z\\-/+]*);base64,([^\"].*)/;\n  const dataURIRegex = /^data:([a-zA-Z\\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;\n  /** @internal */\n  async function isImageUri(uri) {\n    try {\n      const res = await fetch(uri, {\n        method: 'HEAD'\n      });\n      // retrieve content type header to check if content is image\n      if (res.status === 200) {\n        const contentType = res.headers.get('content-type');\n        return contentType?.startsWith('image/');\n      }\n      return false;\n    } catch (error) {\n      // if error is not cors related then fail\n      if (typeof error === 'object' && typeof error.response !== 'undefined') {\n        return false;\n      }\n      // fail in NodeJS, since the error is not cors but any other network issue\n      // biome-ignore lint/suspicious/noPrototypeBuiltins:\n      if (!globalThis.hasOwnProperty('Image')) return false;\n      // in case of cors, use image api to validate if given url is an actual image\n      return new Promise(resolve => {\n        const img = new Image();\n        img.onload = () => {\n          resolve(true);\n        };\n        img.onerror = () => {\n          resolve(false);\n        };\n        img.src = uri;\n      });\n    }\n  }\n  /** @internal */\n  function getGateway(custom, defaultGateway) {\n    if (!custom) return defaultGateway;\n    if (custom.endsWith('/')) return custom.slice(0, -1);\n    return custom;\n  }\n  function resolveAvatarUri({\n    uri,\n    gatewayUrls\n  }) {\n    const isEncoded = base64Regex.test(uri);\n    if (isEncoded) return {\n      uri,\n      isOnChain: true,\n      isEncoded\n    };\n    const ipfsGateway = getGateway(gatewayUrls?.ipfs, 'https://ipfs.io');\n    const arweaveGateway = getGateway(gatewayUrls?.arweave, 'https://arweave.net');\n    const networkRegexMatch = uri.match(networkRegex);\n    const {\n      protocol,\n      subpath,\n      target,\n      subtarget = ''\n    } = networkRegexMatch?.groups || {};\n    const isIPNS = protocol === 'ipns:/' || subpath === 'ipns/';\n    const isIPFS = protocol === 'ipfs:/' || subpath === 'ipfs/' || ipfsHashRegex.test(uri);\n    if (uri.startsWith('http') && !isIPNS && !isIPFS) {\n      let replacedUri = uri;\n      if (gatewayUrls?.arweave) replacedUri = uri.replace(/https:\\/\\/arweave.net/g, gatewayUrls?.arweave);\n      return {\n        uri: replacedUri,\n        isOnChain: false,\n        isEncoded: false\n      };\n    }\n    if ((isIPNS || isIPFS) && target) {\n      return {\n        uri: `${ipfsGateway}/${isIPNS ? 'ipns' : 'ipfs'}/${target}${subtarget}`,\n        isOnChain: false,\n        isEncoded: false\n      };\n    }\n    if (protocol === 'ar:/' && target) {\n      return {\n        uri: `${arweaveGateway}/${target}${subtarget || ''}`,\n        isOnChain: false,\n        isEncoded: false\n      };\n    }\n    let parsedUri = uri.replace(dataURIRegex, '');\n    if (parsedUri.startsWith('<svg')) {\n      // if svg, base64 encode\n      parsedUri = `data:image/svg+xml;base64,${btoa(parsedUri)}`;\n    }\n    if (parsedUri.startsWith('data:') || parsedUri.startsWith('{')) {\n      return {\n        uri: parsedUri,\n        isOnChain: true,\n        isEncoded: false\n      };\n    }\n    throw new _errorsEnsJs.EnsAvatarUriResolutionError({\n      uri\n    });\n  }\n  function getJsonImage(data) {\n    // validation check for json data, must include one of theses properties\n    if (typeof data !== 'object' || !('image' in data) && !('image_url' in data) && !('image_data' in data)) {\n      throw new _errorsEnsJs.EnsAvatarInvalidMetadataError({\n        data\n      });\n    }\n    return data.image || data.image_url || data.image_data;\n  }\n  async function getMetadataAvatarUri({\n    gatewayUrls,\n    uri\n  }) {\n    try {\n      const res = await fetch(uri).then(res => res.json());\n      const image = await parseAvatarUri({\n        gatewayUrls,\n        uri: getJsonImage(res)\n      });\n      return image;\n    } catch {\n      throw new _errorsEnsJs.EnsAvatarUriResolutionError({\n        uri\n      });\n    }\n  }\n  async function parseAvatarUri({\n    gatewayUrls,\n    uri\n  }) {\n    const {\n      uri: resolvedURI,\n      isOnChain\n    } = resolveAvatarUri({\n      uri,\n      gatewayUrls\n    });\n    if (isOnChain) return resolvedURI;\n    // check if resolvedURI is an image, if it is return the url\n    const isImage = await isImageUri(resolvedURI);\n    if (isImage) return resolvedURI;\n    throw new _errorsEnsJs.EnsAvatarUriResolutionError({\n      uri\n    });\n  }\n  function parseNftUri(uri_) {\n    let uri = uri_;\n    // parse valid nft spec (CAIP-22/CAIP-29)\n    // @see: https://github.com/ChainAgnostic/CAIPs/tree/master/CAIPs\n    if (uri.startsWith('did:nft:')) {\n      // convert DID to CAIP\n      uri = uri.replace('did:nft:', '').replace(/_/g, '/');\n    }\n    const [reference, asset_namespace, tokenID] = uri.split('/');\n    const [eip_namespace, chainID] = reference.split(':');\n    const [erc_namespace, contractAddress] = asset_namespace.split(':');\n    if (!eip_namespace || eip_namespace.toLowerCase() !== 'eip155') throw new _errorsEnsJs.EnsAvatarInvalidNftUriError({\n      reason: 'Only EIP-155 supported'\n    });\n    if (!chainID) throw new _errorsEnsJs.EnsAvatarInvalidNftUriError({\n      reason: 'Chain ID not found'\n    });\n    if (!contractAddress) throw new _errorsEnsJs.EnsAvatarInvalidNftUriError({\n      reason: 'Contract address not found'\n    });\n    if (!tokenID) throw new _errorsEnsJs.EnsAvatarInvalidNftUriError({\n      reason: 'Token ID not found'\n    });\n    if (!erc_namespace) throw new _errorsEnsJs.EnsAvatarInvalidNftUriError({\n      reason: 'ERC namespace not found'\n    });\n    return {\n      chainID: Number.parseInt(chainID),\n      namespace: erc_namespace.toLowerCase(),\n      contractAddress: contractAddress,\n      tokenID\n    };\n  }\n  async function getNftTokenUri(client, {\n    nft\n  }) {\n    if (nft.namespace === 'erc721') {\n      return (0, _actionsPublicReadContractJs.readContract)(client, {\n        address: nft.contractAddress,\n        abi: [{\n          name: 'tokenURI',\n          type: 'function',\n          stateMutability: 'view',\n          inputs: [{\n            name: 'tokenId',\n            type: 'uint256'\n          }],\n          outputs: [{\n            name: '',\n            type: 'string'\n          }]\n        }],\n        functionName: 'tokenURI',\n        args: [BigInt(nft.tokenID)]\n      });\n    }\n    if (nft.namespace === 'erc1155') {\n      return (0, _actionsPublicReadContractJs.readContract)(client, {\n        address: nft.contractAddress,\n        abi: [{\n          name: 'uri',\n          type: 'function',\n          stateMutability: 'view',\n          inputs: [{\n            name: '_id',\n            type: 'uint256'\n          }],\n          outputs: [{\n            name: '',\n            type: 'string'\n          }]\n        }],\n        functionName: 'uri',\n        args: [BigInt(nft.tokenID)]\n      });\n    }\n    throw new _errorsEnsJs.EnsAvatarUnsupportedNamespaceError({\n      namespace: nft.namespace\n    });\n  }\n});","lineCount":245,"map":[[7,2,8,0,"exports"],[7,9,8,0],[7,10,8,0,"isImageUri"],[7,20,8,0],[7,23,8,0,"isImageUri"],[7,33,8,0],[8,2,41,0,"exports"],[8,9,41,0],[8,10,41,0,"getGateway"],[8,20,41,0],[8,23,41,0,"getGateway"],[8,33,41,0],[9,2,48,0,"exports"],[9,9,48,0],[9,10,48,0,"resolveAvatarUri"],[9,26,48,0],[9,29,48,0,"resolveAvatarUri"],[9,45,48,0],[10,2,92,0,"exports"],[10,9,92,0],[10,10,92,0,"getJsonImage"],[10,22,92,0],[10,25,92,0,"getJsonImage"],[10,37,92,0],[11,2,100,0,"exports"],[11,9,100,0],[11,10,100,0,"getMetadataAvatarUri"],[11,30,100,0],[11,33,100,0,"getMetadataAvatarUri"],[11,53,100,0],[12,2,113,0,"exports"],[12,9,113,0],[12,10,113,0,"parseAvatarUri"],[12,24,113,0],[12,27,113,0,"parseAvatarUri"],[12,41,113,0],[13,2,123,0,"exports"],[13,9,123,0],[13,10,123,0,"parseNftUri"],[13,21,123,0],[13,24,123,0,"parseNftUri"],[13,35,123,0],[14,2,153,0,"exports"],[14,9,153,0],[14,10,153,0,"getNftTokenUri"],[14,24,153,0],[14,27,153,0,"getNftTokenUri"],[14,41,153,0],[15,2,1,0],[15,6,1,0,"_actionsPublicReadContractJs"],[15,34,1,0],[15,37,1,0,"require"],[15,44,1,0],[15,45,1,0,"_dependencyMap"],[15,59,1,0],[16,2,2,0],[16,6,2,0,"_errorsEnsJs"],[16,18,2,0],[16,21,2,0,"require"],[16,28,2,0],[16,29,2,0,"_dependencyMap"],[16,43,2,0],[17,2,3,0],[17,8,3,6,"networkRegex"],[17,20,3,18],[17,23,3,21],[17,154,3,152],[18,2,4,0],[18,8,4,6,"ipfsHashRegex"],[18,21,4,19],[18,24,4,22],[18,175,4,173],[19,2,5,0],[19,8,5,6,"base64Regex"],[19,19,5,17],[19,22,5,20],[19,61,5,59],[20,2,6,0],[20,8,6,6,"dataURIRegex"],[20,20,6,18],[20,23,6,21],[20,68,6,66],[21,2,7,0],[22,2,8,7],[22,17,8,22,"isImageUri"],[22,27,8,32,"isImageUri"],[22,28,8,33,"uri"],[22,31,8,36],[22,33,8,38],[23,4,9,4],[23,8,9,8],[24,6,10,8],[24,12,10,14,"res"],[24,15,10,17],[24,18,10,20],[24,24,10,26,"fetch"],[24,29,10,31],[24,30,10,32,"uri"],[24,33,10,35],[24,35,10,37],[25,8,10,39,"method"],[25,14,10,45],[25,16,10,47],[26,6,10,54],[26,7,10,55],[26,8,10,56],[27,6,11,8],[28,6,12,8],[28,10,12,12,"res"],[28,13,12,15],[28,14,12,16,"status"],[28,20,12,22],[28,25,12,27],[28,28,12,30],[28,30,12,32],[29,8,13,12],[29,14,13,18,"contentType"],[29,25,13,29],[29,28,13,32,"res"],[29,31,13,35],[29,32,13,36,"headers"],[29,39,13,43],[29,40,13,44,"get"],[29,43,13,47],[29,44,13,48],[29,58,13,62],[29,59,13,63],[30,8,14,12],[30,15,14,19,"contentType"],[30,26,14,30],[30,28,14,32,"startsWith"],[30,38,14,42],[30,39,14,43],[30,47,14,51],[30,48,14,52],[31,6,15,8],[32,6,16,8],[32,13,16,15],[32,18,16,20],[33,4,17,4],[33,5,17,5],[33,6,18,4],[33,13,18,11,"error"],[33,18,18,16],[33,20,18,18],[34,6,19,8],[35,6,20,8],[35,10,20,12],[35,17,20,19,"error"],[35,22,20,24],[35,27,20,29],[35,35,20,37],[35,39,20,41],[35,46,20,48,"error"],[35,51,20,53],[35,52,20,54,"response"],[35,60,20,62],[35,65,20,67],[35,76,20,78],[35,78,20,80],[36,8,21,12],[36,15,21,19],[36,20,21,24],[37,6,22,8],[38,6,23,8],[39,6,24,8],[40,6,25,8],[40,10,25,12],[40,11,25,13,"globalThis"],[40,21,25,23],[40,22,25,24,"hasOwnProperty"],[40,36,25,38],[40,37,25,39],[40,44,25,46],[40,45,25,47],[40,47,26,12],[40,54,26,19],[40,59,26,24],[41,6,27,8],[42,6,28,8],[42,13,28,15],[42,17,28,19,"Promise"],[42,24,28,26],[42,25,28,28,"resolve"],[42,32,28,35],[42,36,28,40],[43,8,29,12],[43,14,29,18,"img"],[43,17,29,21],[43,20,29,24],[43,24,29,28,"Image"],[43,29,29,33],[43,30,29,34],[43,31,29,35],[44,8,30,12,"img"],[44,11,30,15],[44,12,30,16,"onload"],[44,18,30,22],[44,21,30,25],[44,27,30,31],[45,10,31,16,"resolve"],[45,17,31,23],[45,18,31,24],[45,22,31,28],[45,23,31,29],[46,8,32,12],[46,9,32,13],[47,8,33,12,"img"],[47,11,33,15],[47,12,33,16,"onerror"],[47,19,33,23],[47,22,33,26],[47,28,33,32],[48,10,34,16,"resolve"],[48,17,34,23],[48,18,34,24],[48,23,34,29],[48,24,34,30],[49,8,35,12],[49,9,35,13],[50,8,36,12,"img"],[50,11,36,15],[50,12,36,16,"src"],[50,15,36,19],[50,18,36,22,"uri"],[50,21,36,25],[51,6,37,8],[51,7,37,9],[51,8,37,10],[52,4,38,4],[53,2,39,0],[54,2,40,0],[55,2,41,7],[55,11,41,16,"getGateway"],[55,21,41,26,"getGateway"],[55,22,41,27,"custom"],[55,28,41,33],[55,30,41,35,"defaultGateway"],[55,44,41,49],[55,46,41,51],[56,4,42,4],[56,8,42,8],[56,9,42,9,"custom"],[56,15,42,15],[56,17,43,8],[56,24,43,15,"defaultGateway"],[56,38,43,29],[57,4,44,4],[57,8,44,8,"custom"],[57,14,44,14],[57,15,44,15,"endsWith"],[57,23,44,23],[57,24,44,24],[57,27,44,27],[57,28,44,28],[57,30,45,8],[57,37,45,15,"custom"],[57,43,45,21],[57,44,45,22,"slice"],[57,49,45,27],[57,50,45,28],[57,51,45,29],[57,53,45,31],[57,54,45,32],[57,55,45,33],[57,56,45,34],[58,4,46,4],[58,11,46,11,"custom"],[58,17,46,17],[59,2,47,0],[60,2,48,7],[60,11,48,16,"resolveAvatarUri"],[60,27,48,32,"resolveAvatarUri"],[60,28,48,33],[61,4,48,35,"uri"],[61,7,48,38],[62,4,48,40,"gatewayUrls"],[63,2,48,53],[63,3,48,54],[63,5,48,56],[64,4,49,4],[64,10,49,10,"isEncoded"],[64,19,49,19],[64,22,49,22,"base64Regex"],[64,33,49,33],[64,34,49,34,"test"],[64,38,49,38],[64,39,49,39,"uri"],[64,42,49,42],[64,43,49,43],[65,4,50,4],[65,8,50,8,"isEncoded"],[65,17,50,17],[65,19,51,8],[65,26,51,15],[66,6,51,17,"uri"],[66,9,51,20],[67,6,51,22,"isOnChain"],[67,15,51,31],[67,17,51,33],[67,21,51,37],[68,6,51,39,"isEncoded"],[69,4,51,49],[69,5,51,50],[70,4,52,4],[70,10,52,10,"ipfsGateway"],[70,21,52,21],[70,24,52,24,"getGateway"],[70,34,52,34],[70,35,52,35,"gatewayUrls"],[70,46,52,46],[70,48,52,48,"ipfs"],[70,52,52,52],[70,54,52,54],[70,71,52,71],[70,72,52,72],[71,4,53,4],[71,10,53,10,"arweaveGateway"],[71,24,53,24],[71,27,53,27,"getGateway"],[71,37,53,37],[71,38,53,38,"gatewayUrls"],[71,49,53,49],[71,51,53,51,"arweave"],[71,58,53,58],[71,60,53,60],[71,81,53,81],[71,82,53,82],[72,4,54,4],[72,10,54,10,"networkRegexMatch"],[72,27,54,27],[72,30,54,30,"uri"],[72,33,54,33],[72,34,54,34,"match"],[72,39,54,39],[72,40,54,40,"networkRegex"],[72,52,54,52],[72,53,54,53],[73,4,55,4],[73,10,55,10],[74,6,55,12,"protocol"],[74,14,55,20],[75,6,55,22,"subpath"],[75,13,55,29],[76,6,55,31,"target"],[76,12,55,37],[77,6,55,39,"subtarget"],[77,15,55,48],[77,18,55,51],[78,4,55,55],[78,5,55,56],[78,8,55,59,"networkRegexMatch"],[78,25,55,76],[78,27,55,78,"groups"],[78,33,55,84],[78,37,55,88],[78,38,55,89],[78,39,55,90],[79,4,56,4],[79,10,56,10,"isIPNS"],[79,16,56,16],[79,19,56,19,"protocol"],[79,27,56,27],[79,32,56,32],[79,40,56,40],[79,44,56,44,"subpath"],[79,51,56,51],[79,56,56,56],[79,63,56,63],[80,4,57,4],[80,10,57,10,"isIPFS"],[80,16,57,16],[80,19,57,19,"protocol"],[80,27,57,27],[80,32,57,32],[80,40,57,40],[80,44,57,44,"subpath"],[80,51,57,51],[80,56,57,56],[80,63,57,63],[80,67,57,67,"ipfsHashRegex"],[80,80,57,80],[80,81,57,81,"test"],[80,85,57,85],[80,86,57,86,"uri"],[80,89,57,89],[80,90,57,90],[81,4,58,4],[81,8,58,8,"uri"],[81,11,58,11],[81,12,58,12,"startsWith"],[81,22,58,22],[81,23,58,23],[81,29,58,29],[81,30,58,30],[81,34,58,34],[81,35,58,35,"isIPNS"],[81,41,58,41],[81,45,58,45],[81,46,58,46,"isIPFS"],[81,52,58,52],[81,54,58,54],[82,6,59,8],[82,10,59,12,"replacedUri"],[82,21,59,23],[82,24,59,26,"uri"],[82,27,59,29],[83,6,60,8],[83,10,60,12,"gatewayUrls"],[83,21,60,23],[83,23,60,25,"arweave"],[83,30,60,32],[83,32,61,12,"replacedUri"],[83,43,61,23],[83,46,61,26,"uri"],[83,49,61,29],[83,50,61,30,"replace"],[83,57,61,37],[83,58,61,38],[83,82,61,62],[83,84,61,64,"gatewayUrls"],[83,95,61,75],[83,97,61,77,"arweave"],[83,104,61,84],[83,105,61,85],[84,6,62,8],[84,13,62,15],[85,8,62,17,"uri"],[85,11,62,20],[85,13,62,22,"replacedUri"],[85,24,62,33],[86,8,62,35,"isOnChain"],[86,17,62,44],[86,19,62,46],[86,24,62,51],[87,8,62,53,"isEncoded"],[87,17,62,62],[87,19,62,64],[88,6,62,70],[88,7,62,71],[89,4,63,4],[90,4,64,4],[90,8,64,8],[90,9,64,9,"isIPNS"],[90,15,64,15],[90,19,64,19,"isIPFS"],[90,25,64,25],[90,30,64,30,"target"],[90,36,64,36],[90,38,64,38],[91,6,65,8],[91,13,65,15],[92,8,66,12,"uri"],[92,11,66,15],[92,13,66,17],[92,16,66,20,"ipfsGateway"],[92,27,66,31],[92,31,66,35,"isIPNS"],[92,37,66,41],[92,40,66,44],[92,46,66,50],[92,49,66,53],[92,55,66,59],[92,59,66,63,"target"],[92,65,66,69],[92,68,66,72,"subtarget"],[92,77,66,81],[92,79,66,83],[93,8,67,12,"isOnChain"],[93,17,67,21],[93,19,67,23],[93,24,67,28],[94,8,68,12,"isEncoded"],[94,17,68,21],[94,19,68,23],[95,6,69,8],[95,7,69,9],[96,4,70,4],[97,4,71,4],[97,8,71,8,"protocol"],[97,16,71,16],[97,21,71,21],[97,27,71,27],[97,31,71,31,"target"],[97,37,71,37],[97,39,71,39],[98,6,72,8],[98,13,72,15],[99,8,73,12,"uri"],[99,11,73,15],[99,13,73,17],[99,16,73,20,"arweaveGateway"],[99,30,73,34],[99,34,73,38,"target"],[99,40,73,44],[99,43,73,47,"subtarget"],[99,52,73,56],[99,56,73,60],[99,58,73,62],[99,60,73,64],[100,8,74,12,"isOnChain"],[100,17,74,21],[100,19,74,23],[100,24,74,28],[101,8,75,12,"isEncoded"],[101,17,75,21],[101,19,75,23],[102,6,76,8],[102,7,76,9],[103,4,77,4],[104,4,78,4],[104,8,78,8,"parsedUri"],[104,17,78,17],[104,20,78,20,"uri"],[104,23,78,23],[104,24,78,24,"replace"],[104,31,78,31],[104,32,78,32,"dataURIRegex"],[104,44,78,44],[104,46,78,46],[104,48,78,48],[104,49,78,49],[105,4,79,4],[105,8,79,8,"parsedUri"],[105,17,79,17],[105,18,79,18,"startsWith"],[105,28,79,28],[105,29,79,29],[105,35,79,35],[105,36,79,36],[105,38,79,38],[106,6,80,8],[107,6,81,8,"parsedUri"],[107,15,81,17],[107,18,81,20],[107,47,81,49,"btoa"],[107,51,81,53],[107,52,81,54,"parsedUri"],[107,61,81,63],[107,62,81,64],[107,64,81,66],[108,4,82,4],[109,4,83,4],[109,8,83,8,"parsedUri"],[109,17,83,17],[109,18,83,18,"startsWith"],[109,28,83,28],[109,29,83,29],[109,36,83,36],[109,37,83,37],[109,41,83,41,"parsedUri"],[109,50,83,50],[109,51,83,51,"startsWith"],[109,61,83,61],[109,62,83,62],[109,65,83,65],[109,66,83,66],[109,68,83,68],[110,6,84,8],[110,13,84,15],[111,8,85,12,"uri"],[111,11,85,15],[111,13,85,17,"parsedUri"],[111,22,85,26],[112,8,86,12,"isOnChain"],[112,17,86,21],[112,19,86,23],[112,23,86,27],[113,8,87,12,"isEncoded"],[113,17,87,21],[113,19,87,23],[114,6,88,8],[114,7,88,9],[115,4,89,4],[116,4,90,4],[116,10,90,10],[116,14,90,14,"EnsAvatarUriResolutionError"],[116,26,90,41],[116,27,90,41,"EnsAvatarUriResolutionError"],[116,54,90,41],[116,55,90,42],[117,6,90,44,"uri"],[118,4,90,48],[118,5,90,49],[118,6,90,50],[119,2,91,0],[120,2,92,7],[120,11,92,16,"getJsonImage"],[120,23,92,28,"getJsonImage"],[120,24,92,29,"data"],[120,28,92,33],[120,30,92,35],[121,4,93,4],[122,4,94,4],[122,8,94,8],[122,15,94,15,"data"],[122,19,94,19],[122,24,94,24],[122,32,94,32],[122,36,95,9],[122,38,95,11],[122,45,95,18],[122,49,95,22,"data"],[122,53,95,26],[122,54,95,27],[122,58,95,31],[122,60,95,33],[122,71,95,44],[122,75,95,48,"data"],[122,79,95,52],[122,80,95,53],[122,84,95,57],[122,86,95,59],[122,98,95,71],[122,102,95,75,"data"],[122,106,95,79],[122,107,95,81],[122,109,95,83],[123,6,96,8],[123,12,96,14],[123,16,96,18,"EnsAvatarInvalidMetadataError"],[123,28,96,47],[123,29,96,47,"EnsAvatarInvalidMetadataError"],[123,58,96,47],[123,59,96,48],[124,8,96,50,"data"],[125,6,96,55],[125,7,96,56],[125,8,96,57],[126,4,97,4],[127,4,98,4],[127,11,98,11,"data"],[127,15,98,15],[127,16,98,16,"image"],[127,21,98,21],[127,25,98,25,"data"],[127,29,98,29],[127,30,98,30,"image_url"],[127,39,98,39],[127,43,98,43,"data"],[127,47,98,47],[127,48,98,48,"image_data"],[127,58,98,58],[128,2,99,0],[129,2,100,7],[129,17,100,22,"getMetadataAvatarUri"],[129,37,100,42,"getMetadataAvatarUri"],[129,38,100,43],[130,4,100,45,"gatewayUrls"],[130,15,100,56],[131,4,100,58,"uri"],[132,2,100,63],[132,3,100,64],[132,5,100,66],[133,4,101,4],[133,8,101,8],[134,6,102,8],[134,12,102,14,"res"],[134,15,102,17],[134,18,102,20],[134,24,102,26,"fetch"],[134,29,102,31],[134,30,102,32,"uri"],[134,33,102,35],[134,34,102,36],[134,35,102,37,"then"],[134,39,102,41],[134,40,102,43,"res"],[134,43,102,46],[134,47,102,51,"res"],[134,50,102,54],[134,51,102,55,"json"],[134,55,102,59],[134,56,102,60],[134,57,102,61],[134,58,102,62],[135,6,103,8],[135,12,103,14,"image"],[135,17,103,19],[135,20,103,22],[135,26,103,28,"parseAvatarUri"],[135,40,103,42],[135,41,103,43],[136,8,104,12,"gatewayUrls"],[136,19,104,23],[137,8,105,12,"uri"],[137,11,105,15],[137,13,105,17,"getJsonImage"],[137,25,105,29],[137,26,105,30,"res"],[137,29,105,33],[138,6,106,8],[138,7,106,9],[138,8,106,10],[139,6,107,8],[139,13,107,15,"image"],[139,18,107,20],[140,4,108,4],[140,5,108,5],[140,6,109,4],[140,12,109,10],[141,6,110,8],[141,12,110,14],[141,16,110,18,"EnsAvatarUriResolutionError"],[141,28,110,45],[141,29,110,45,"EnsAvatarUriResolutionError"],[141,56,110,45],[141,57,110,46],[142,8,110,48,"uri"],[143,6,110,52],[143,7,110,53],[143,8,110,54],[144,4,111,4],[145,2,112,0],[146,2,113,7],[146,17,113,22,"parseAvatarUri"],[146,31,113,36,"parseAvatarUri"],[146,32,113,37],[147,4,113,39,"gatewayUrls"],[147,15,113,50],[148,4,113,52,"uri"],[149,2,113,57],[149,3,113,58],[149,5,113,60],[150,4,114,4],[150,10,114,10],[151,6,114,12,"uri"],[151,9,114,15],[151,11,114,17,"resolvedURI"],[151,22,114,28],[152,6,114,30,"isOnChain"],[153,4,114,40],[153,5,114,41],[153,8,114,44,"resolveAvatarUri"],[153,24,114,60],[153,25,114,61],[154,6,114,63,"uri"],[154,9,114,66],[155,6,114,68,"gatewayUrls"],[156,4,114,80],[156,5,114,81],[156,6,114,82],[157,4,115,4],[157,8,115,8,"isOnChain"],[157,17,115,17],[157,19,116,8],[157,26,116,15,"resolvedURI"],[157,37,116,26],[158,4,117,4],[159,4,118,4],[159,10,118,10,"isImage"],[159,17,118,17],[159,20,118,20],[159,26,118,26,"isImageUri"],[159,36,118,36],[159,37,118,37,"resolvedURI"],[159,48,118,48],[159,49,118,49],[160,4,119,4],[160,8,119,8,"isImage"],[160,15,119,15],[160,17,120,8],[160,24,120,15,"resolvedURI"],[160,35,120,26],[161,4,121,4],[161,10,121,10],[161,14,121,14,"EnsAvatarUriResolutionError"],[161,26,121,41],[161,27,121,41,"EnsAvatarUriResolutionError"],[161,54,121,41],[161,55,121,42],[162,6,121,44,"uri"],[163,4,121,48],[163,5,121,49],[163,6,121,50],[164,2,122,0],[165,2,123,7],[165,11,123,16,"parseNftUri"],[165,22,123,27,"parseNftUri"],[165,23,123,28,"uri_"],[165,27,123,32],[165,29,123,34],[166,4,124,4],[166,8,124,8,"uri"],[166,11,124,11],[166,14,124,14,"uri_"],[166,18,124,18],[167,4,125,4],[168,4,126,4],[169,4,127,4],[169,8,127,8,"uri"],[169,11,127,11],[169,12,127,12,"startsWith"],[169,22,127,22],[169,23,127,23],[169,33,127,33],[169,34,127,34],[169,36,127,36],[170,6,128,8],[171,6,129,8,"uri"],[171,9,129,11],[171,12,129,14,"uri"],[171,15,129,17],[171,16,129,18,"replace"],[171,23,129,25],[171,24,129,26],[171,34,129,36],[171,36,129,38],[171,38,129,40],[171,39,129,41],[171,40,129,42,"replace"],[171,47,129,49],[171,48,129,50],[171,52,129,54],[171,54,129,56],[171,57,129,59],[171,58,129,60],[172,4,130,4],[173,4,131,4],[173,10,131,10],[173,11,131,11,"reference"],[173,20,131,20],[173,22,131,22,"asset_namespace"],[173,37,131,37],[173,39,131,39,"tokenID"],[173,46,131,46],[173,47,131,47],[173,50,131,50,"uri"],[173,53,131,53],[173,54,131,54,"split"],[173,59,131,59],[173,60,131,60],[173,63,131,63],[173,64,131,64],[174,4,132,4],[174,10,132,10],[174,11,132,11,"eip_namespace"],[174,24,132,24],[174,26,132,26,"chainID"],[174,33,132,33],[174,34,132,34],[174,37,132,37,"reference"],[174,46,132,46],[174,47,132,47,"split"],[174,52,132,52],[174,53,132,53],[174,56,132,56],[174,57,132,57],[175,4,133,4],[175,10,133,10],[175,11,133,11,"erc_namespace"],[175,24,133,24],[175,26,133,26,"contractAddress"],[175,41,133,41],[175,42,133,42],[175,45,133,45,"asset_namespace"],[175,60,133,60],[175,61,133,61,"split"],[175,66,133,66],[175,67,133,67],[175,70,133,70],[175,71,133,71],[176,4,134,4],[176,8,134,8],[176,9,134,9,"eip_namespace"],[176,22,134,22],[176,26,134,26,"eip_namespace"],[176,39,134,39],[176,40,134,40,"toLowerCase"],[176,51,134,51],[176,52,134,52],[176,53,134,53],[176,58,134,58],[176,66,134,66],[176,68,135,8],[176,74,135,14],[176,78,135,18,"EnsAvatarInvalidNftUriError"],[176,90,135,45],[176,91,135,45,"EnsAvatarInvalidNftUriError"],[176,118,135,45],[176,119,135,46],[177,6,135,48,"reason"],[177,12,135,54],[177,14,135,56],[178,4,135,81],[178,5,135,82],[178,6,135,83],[179,4,136,4],[179,8,136,8],[179,9,136,9,"chainID"],[179,16,136,16],[179,18,137,8],[179,24,137,14],[179,28,137,18,"EnsAvatarInvalidNftUriError"],[179,40,137,45],[179,41,137,45,"EnsAvatarInvalidNftUriError"],[179,68,137,45],[179,69,137,46],[180,6,137,48,"reason"],[180,12,137,54],[180,14,137,56],[181,4,137,77],[181,5,137,78],[181,6,137,79],[182,4,138,4],[182,8,138,8],[182,9,138,9,"contractAddress"],[182,24,138,24],[182,26,139,8],[182,32,139,14],[182,36,139,18,"EnsAvatarInvalidNftUriError"],[182,48,139,45],[182,49,139,45,"EnsAvatarInvalidNftUriError"],[182,76,139,45],[182,77,139,46],[183,6,140,12,"reason"],[183,12,140,18],[183,14,140,20],[184,4,141,8],[184,5,141,9],[184,6,141,10],[185,4,142,4],[185,8,142,8],[185,9,142,9,"tokenID"],[185,16,142,16],[185,18,143,8],[185,24,143,14],[185,28,143,18,"EnsAvatarInvalidNftUriError"],[185,40,143,45],[185,41,143,45,"EnsAvatarInvalidNftUriError"],[185,68,143,45],[185,69,143,46],[186,6,143,48,"reason"],[186,12,143,54],[186,14,143,56],[187,4,143,77],[187,5,143,78],[187,6,143,79],[188,4,144,4],[188,8,144,8],[188,9,144,9,"erc_namespace"],[188,22,144,22],[188,24,145,8],[188,30,145,14],[188,34,145,18,"EnsAvatarInvalidNftUriError"],[188,46,145,45],[188,47,145,45,"EnsAvatarInvalidNftUriError"],[188,74,145,45],[188,75,145,46],[189,6,145,48,"reason"],[189,12,145,54],[189,14,145,56],[190,4,145,82],[190,5,145,83],[190,6,145,84],[191,4,146,4],[191,11,146,11],[192,6,147,8,"chainID"],[192,13,147,15],[192,15,147,17,"Number"],[192,21,147,23],[192,22,147,24,"parseInt"],[192,30,147,32],[192,31,147,33,"chainID"],[192,38,147,40],[192,39,147,41],[193,6,148,8,"namespace"],[193,15,148,17],[193,17,148,19,"erc_namespace"],[193,30,148,32],[193,31,148,33,"toLowerCase"],[193,42,148,44],[193,43,148,45],[193,44,148,46],[194,6,149,8,"contractAddress"],[194,21,149,23],[194,23,149,25,"contractAddress"],[194,38,149,40],[195,6,150,8,"tokenID"],[196,4,151,4],[196,5,151,5],[197,2,152,0],[198,2,153,7],[198,17,153,22,"getNftTokenUri"],[198,31,153,36,"getNftTokenUri"],[198,32,153,37,"client"],[198,38,153,43],[198,40,153,45],[199,4,153,47,"nft"],[200,2,153,51],[200,3,153,52],[200,5,153,54],[201,4,154,4],[201,8,154,8,"nft"],[201,11,154,11],[201,12,154,12,"namespace"],[201,21,154,21],[201,26,154,26],[201,34,154,34],[201,36,154,36],[202,6,155,8],[202,13,155,15],[202,17,155,15,"readContract"],[202,45,155,27],[202,46,155,27,"readContract"],[202,58,155,27],[202,60,155,28,"client"],[202,66,155,34],[202,68,155,36],[203,8,156,12,"address"],[203,15,156,19],[203,17,156,21,"nft"],[203,20,156,24],[203,21,156,25,"contractAddress"],[203,36,156,40],[204,8,157,12,"abi"],[204,11,157,15],[204,13,157,17],[204,14,158,16],[205,10,159,20,"name"],[205,14,159,24],[205,16,159,26],[205,26,159,36],[206,10,160,20,"type"],[206,14,160,24],[206,16,160,26],[206,26,160,36],[207,10,161,20,"stateMutability"],[207,25,161,35],[207,27,161,37],[207,33,161,43],[208,10,162,20,"inputs"],[208,16,162,26],[208,18,162,28],[208,19,162,29],[209,12,162,31,"name"],[209,16,162,35],[209,18,162,37],[209,27,162,46],[210,12,162,48,"type"],[210,16,162,52],[210,18,162,54],[211,10,162,64],[211,11,162,65],[211,12,162,66],[212,10,163,20,"outputs"],[212,17,163,27],[212,19,163,29],[212,20,163,30],[213,12,163,32,"name"],[213,16,163,36],[213,18,163,38],[213,20,163,40],[214,12,163,42,"type"],[214,16,163,46],[214,18,163,48],[215,10,163,57],[215,11,163,58],[216,8,164,16],[216,9,164,17],[216,10,165,13],[217,8,166,12,"functionName"],[217,20,166,24],[217,22,166,26],[217,32,166,36],[218,8,167,12,"args"],[218,12,167,16],[218,14,167,18],[218,15,167,19,"BigInt"],[218,21,167,25],[218,22,167,26,"nft"],[218,25,167,29],[218,26,167,30,"tokenID"],[218,33,167,37],[218,34,167,38],[219,6,168,8],[219,7,168,9],[219,8,168,10],[220,4,169,4],[221,4,170,4],[221,8,170,8,"nft"],[221,11,170,11],[221,12,170,12,"namespace"],[221,21,170,21],[221,26,170,26],[221,35,170,35],[221,37,170,37],[222,6,171,8],[222,13,171,15],[222,17,171,15,"readContract"],[222,45,171,27],[222,46,171,27,"readContract"],[222,58,171,27],[222,60,171,28,"client"],[222,66,171,34],[222,68,171,36],[223,8,172,12,"address"],[223,15,172,19],[223,17,172,21,"nft"],[223,20,172,24],[223,21,172,25,"contractAddress"],[223,36,172,40],[224,8,173,12,"abi"],[224,11,173,15],[224,13,173,17],[224,14,174,16],[225,10,175,20,"name"],[225,14,175,24],[225,16,175,26],[225,21,175,31],[226,10,176,20,"type"],[226,14,176,24],[226,16,176,26],[226,26,176,36],[227,10,177,20,"stateMutability"],[227,25,177,35],[227,27,177,37],[227,33,177,43],[228,10,178,20,"inputs"],[228,16,178,26],[228,18,178,28],[228,19,178,29],[229,12,178,31,"name"],[229,16,178,35],[229,18,178,37],[229,23,178,42],[230,12,178,44,"type"],[230,16,178,48],[230,18,178,50],[231,10,178,60],[231,11,178,61],[231,12,178,62],[232,10,179,20,"outputs"],[232,17,179,27],[232,19,179,29],[232,20,179,30],[233,12,179,32,"name"],[233,16,179,36],[233,18,179,38],[233,20,179,40],[234,12,179,42,"type"],[234,16,179,46],[234,18,179,48],[235,10,179,57],[235,11,179,58],[236,8,180,16],[236,9,180,17],[236,10,181,13],[237,8,182,12,"functionName"],[237,20,182,24],[237,22,182,26],[237,27,182,31],[238,8,183,12,"args"],[238,12,183,16],[238,14,183,18],[238,15,183,19,"BigInt"],[238,21,183,25],[238,22,183,26,"nft"],[238,25,183,29],[238,26,183,30,"tokenID"],[238,33,183,37],[238,34,183,38],[239,6,184,8],[239,7,184,9],[239,8,184,10],[240,4,185,4],[241,4,186,4],[241,10,186,10],[241,14,186,14,"EnsAvatarUnsupportedNamespaceError"],[241,26,186,48],[241,27,186,48,"EnsAvatarUnsupportedNamespaceError"],[241,61,186,48],[241,62,186,49],[242,6,186,51,"namespace"],[242,15,186,60],[242,17,186,62,"nft"],[242,20,186,65],[242,21,186,66,"namespace"],[243,4,186,76],[243,5,186,77],[243,6,186,78],[244,2,187,0],[245,0,187,1],[245,3]],"functionMap":{"names":["<global>","isImageUri","Promise$argument_0","img.onload","img.onerror","getGateway","resolveAvatarUri","getJsonImage","getMetadataAvatarUri","fetch.then$argument_0","parseAvatarUri","parseNftUri","getNftTokenUri"],"mappings":"AAA;OCO;2BCoB;yBCE;aDE;0BEC;aFE;SDE;CDE;OKE;CLM;OMC;CN2C;OOC;CPO;OQC;0CCE,mBD;CRU;OUC;CVS;OWC;CX6B;OYC;CZkC"},"hasCjsExports":false},"type":"js/module"}]}