{"dependencies":[{"name":"../utils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":19,"column":13,"index":656},"end":{"line":19,"column":32,"index":675}}],"key":"RFGtgFE/Tu4zdfnbMKbFHDM/T4I=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  /*\n   *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n   *\n   *  Use of this source code is governed by a BSD-style license\n   *  that can be found in the LICENSE file in the root of the source\n   *  tree.\n   */\n  /* eslint-env node */\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  };\n  exports.shimGetUserMedia = shimGetUserMedia;\n  var _utils = require(_dependencyMap[0], \"../utils\");\n  var utils = _interopRequireWildcard(_utils);\n  function _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n      return obj;\n    } else {\n      var newObj = {};\n      if (obj != null) {\n        for (var key in obj) {\n          if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n        }\n      }\n      newObj.default = obj;\n      return newObj;\n    }\n  }\n  function shimGetUserMedia(window, browserDetails) {\n    var navigator = window && window.navigator;\n    var MediaStreamTrack = window && window.MediaStreamTrack;\n    navigator.getUserMedia = function (constraints, onSuccess, onError) {\n      // Replace Firefox 44+'s deprecation warning with unprefixed version.\n      utils.deprecated('navigator.getUserMedia', 'navigator.mediaDevices.getUserMedia');\n      navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n    };\n    if (!(browserDetails.version > 55 && 'autoGainControl' in navigator.mediaDevices.getSupportedConstraints())) {\n      var remap = function remap(obj, a, b) {\n        if (a in obj && !(b in obj)) {\n          obj[b] = obj[a];\n          delete obj[a];\n        }\n      };\n      var nativeGetUserMedia = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);\n      navigator.mediaDevices.getUserMedia = function (c) {\n        if ((typeof c === 'undefined' ? 'undefined' : _typeof(c)) === 'object' && _typeof(c.audio) === 'object') {\n          c = JSON.parse(JSON.stringify(c));\n          remap(c.audio, 'autoGainControl', 'mozAutoGainControl');\n          remap(c.audio, 'noiseSuppression', 'mozNoiseSuppression');\n        }\n        return nativeGetUserMedia(c);\n      };\n      if (MediaStreamTrack && MediaStreamTrack.prototype.getSettings) {\n        var nativeGetSettings = MediaStreamTrack.prototype.getSettings;\n        MediaStreamTrack.prototype.getSettings = function () {\n          var obj = nativeGetSettings.apply(this, arguments);\n          remap(obj, 'mozAutoGainControl', 'autoGainControl');\n          remap(obj, 'mozNoiseSuppression', 'noiseSuppression');\n          return obj;\n        };\n      }\n      if (MediaStreamTrack && MediaStreamTrack.prototype.applyConstraints) {\n        var nativeApplyConstraints = MediaStreamTrack.prototype.applyConstraints;\n        MediaStreamTrack.prototype.applyConstraints = function (c) {\n          if (this.kind === 'audio' && (typeof c === 'undefined' ? 'undefined' : _typeof(c)) === 'object') {\n            c = JSON.parse(JSON.stringify(c));\n            remap(c, 'autoGainControl', 'mozAutoGainControl');\n            remap(c, 'noiseSuppression', 'mozNoiseSuppression');\n          }\n          return nativeApplyConstraints.apply(this, [c]);\n        };\n      }\n    }\n  }\n});","lineCount":83,"map":[[2,2,1,0],[3,0,2,0],[4,0,3,0],[5,0,4,0],[6,0,5,0],[7,0,6,0],[8,0,7,0],[9,2,8,0],[10,2,9,0],[10,14,9,12],[12,2,11,0,"Object"],[12,8,11,6],[12,9,11,7,"defineProperty"],[12,23,11,21],[12,24,11,22,"exports"],[12,31,11,29],[12,33,11,31],[12,45,11,43],[12,47,11,45],[13,4,12,2,"value"],[13,9,12,7],[13,11,12,9],[14,2,13,0],[14,3,13,1],[14,4,13,2],[15,2,15,0],[15,6,15,4,"_typeof"],[15,13,15,11],[15,16,15,14],[15,23,15,21,"Symbol"],[15,29,15,27],[15,34,15,32],[15,44,15,42],[15,48,15,46],[15,55,15,53,"Symbol"],[15,61,15,59],[15,62,15,60,"iterator"],[15,70,15,68],[15,75,15,73],[15,83,15,81],[15,86,15,84],[15,96,15,94,"obj"],[15,99,15,97],[15,101,15,99],[16,4,15,101],[16,11,15,108],[16,18,15,115,"obj"],[16,21,15,118],[17,2,15,120],[17,3,15,121],[17,6,15,124],[17,16,15,134,"obj"],[17,19,15,137],[17,21,15,139],[18,4,15,141],[18,11,15,148,"obj"],[18,14,15,151],[18,18,15,155],[18,25,15,162,"Symbol"],[18,31,15,168],[18,36,15,173],[18,46,15,183],[18,50,15,187,"obj"],[18,53,15,190],[18,54,15,191,"constructor"],[18,65,15,202],[18,70,15,207,"Symbol"],[18,76,15,213],[18,80,15,217,"obj"],[18,83,15,220],[18,88,15,225,"Symbol"],[18,94,15,231],[18,95,15,232,"prototype"],[18,104,15,241],[18,107,15,244],[18,115,15,252],[18,118,15,255],[18,125,15,262,"obj"],[18,128,15,265],[19,2,15,267],[19,3,15,268],[20,2,17,0,"exports"],[20,9,17,7],[20,10,17,8,"shimGetUserMedia"],[20,26,17,24],[20,29,17,27,"shimGetUserMedia"],[20,45,17,43],[21,2,19,0],[21,6,19,4,"_utils"],[21,12,19,10],[21,15,19,13,"require"],[21,22,19,20],[21,23,19,20,"_dependencyMap"],[21,37,19,20],[21,52,19,31],[21,53,19,32],[22,2,21,0],[22,6,21,4,"utils"],[22,11,21,9],[22,14,21,12,"_interopRequireWildcard"],[22,37,21,35],[22,38,21,36,"_utils"],[22,44,21,42],[22,45,21,43],[23,2,23,0],[23,11,23,9,"_interopRequireWildcard"],[23,34,23,32,"_interopRequireWildcard"],[23,35,23,33,"obj"],[23,38,23,36],[23,40,23,38],[24,4,23,40],[24,8,23,44,"obj"],[24,11,23,47],[24,15,23,51,"obj"],[24,18,23,54],[24,19,23,55,"__esModule"],[24,29,23,65],[24,31,23,67],[25,6,23,69],[25,13,23,76,"obj"],[25,16,23,79],[26,4,23,81],[26,5,23,82],[26,11,23,88],[27,6,23,90],[27,10,23,94,"newObj"],[27,16,23,100],[27,19,23,103],[27,20,23,104],[27,21,23,105],[28,6,23,107],[28,10,23,111,"obj"],[28,13,23,114],[28,17,23,118],[28,21,23,122],[28,23,23,124],[29,8,23,126],[29,13,23,131],[29,17,23,135,"key"],[29,20,23,138],[29,24,23,142,"obj"],[29,27,23,145],[29,29,23,147],[30,10,23,149],[30,14,23,153,"Object"],[30,20,23,159],[30,21,23,160,"prototype"],[30,30,23,169],[30,31,23,170,"hasOwnProperty"],[30,45,23,184],[30,46,23,185,"call"],[30,50,23,189],[30,51,23,190,"obj"],[30,54,23,193],[30,56,23,195,"key"],[30,59,23,198],[30,60,23,199],[30,62,23,201,"newObj"],[30,68,23,207],[30,69,23,208,"key"],[30,72,23,211],[30,73,23,212],[30,76,23,215,"obj"],[30,79,23,218],[30,80,23,219,"key"],[30,83,23,222],[30,84,23,223],[31,8,23,225],[32,6,23,227],[33,6,23,229,"newObj"],[33,12,23,235],[33,13,23,236,"default"],[33,20,23,243],[33,23,23,246,"obj"],[33,26,23,249],[34,6,23,251],[34,13,23,258,"newObj"],[34,19,23,264],[35,4,23,266],[36,2,23,268],[37,2,25,0],[37,11,25,9,"shimGetUserMedia"],[37,27,25,25,"shimGetUserMedia"],[37,28,25,26,"window"],[37,34,25,32],[37,36,25,34,"browserDetails"],[37,50,25,48],[37,52,25,50],[38,4,26,2],[38,8,26,6,"navigator"],[38,17,26,15],[38,20,26,18,"window"],[38,26,26,24],[38,30,26,28,"window"],[38,36,26,34],[38,37,26,35,"navigator"],[38,46,26,44],[39,4,27,2],[39,8,27,6,"MediaStreamTrack"],[39,24,27,22],[39,27,27,25,"window"],[39,33,27,31],[39,37,27,35,"window"],[39,43,27,41],[39,44,27,42,"MediaStreamTrack"],[39,60,27,58],[40,4,29,2,"navigator"],[40,13,29,11],[40,14,29,12,"getUserMedia"],[40,26,29,24],[40,29,29,27],[40,39,29,37,"constraints"],[40,50,29,48],[40,52,29,50,"onSuccess"],[40,61,29,59],[40,63,29,61,"onError"],[40,70,29,68],[40,72,29,70],[41,6,30,4],[42,6,31,4,"utils"],[42,11,31,9],[42,12,31,10,"deprecated"],[42,22,31,20],[42,23,31,21],[42,47,31,45],[42,49,31,47],[42,86,31,84],[42,87,31,85],[43,6,32,4,"navigator"],[43,15,32,13],[43,16,32,14,"mediaDevices"],[43,28,32,26],[43,29,32,27,"getUserMedia"],[43,41,32,39],[43,42,32,40,"constraints"],[43,53,32,51],[43,54,32,52],[43,55,32,53,"then"],[43,59,32,57],[43,60,32,58,"onSuccess"],[43,69,32,67],[43,71,32,69,"onError"],[43,78,32,76],[43,79,32,77],[44,4,33,2],[44,5,33,3],[45,4,35,2],[45,8,35,6],[45,10,35,8,"browserDetails"],[45,24,35,22],[45,25,35,23,"version"],[45,32,35,30],[45,35,35,33],[45,37,35,35],[45,41,35,39],[45,58,35,56],[45,62,35,60,"navigator"],[45,71,35,69],[45,72,35,70,"mediaDevices"],[45,84,35,82],[45,85,35,83,"getSupportedConstraints"],[45,108,35,106],[45,109,35,107],[45,110,35,108],[45,111,35,109],[45,113,35,111],[46,6,36,4],[46,10,36,8,"remap"],[46,15,36,13],[46,18,36,16],[46,27,36,25,"remap"],[46,32,36,30,"remap"],[46,33,36,31,"obj"],[46,36,36,34],[46,38,36,36,"a"],[46,39,36,37],[46,41,36,39,"b"],[46,42,36,40],[46,44,36,42],[47,8,37,6],[47,12,37,10,"a"],[47,13,37,11],[47,17,37,15,"obj"],[47,20,37,18],[47,24,37,22],[47,26,37,24,"b"],[47,27,37,25],[47,31,37,29,"obj"],[47,34,37,32],[47,35,37,33],[47,37,37,35],[48,10,38,8,"obj"],[48,13,38,11],[48,14,38,12,"b"],[48,15,38,13],[48,16,38,14],[48,19,38,17,"obj"],[48,22,38,20],[48,23,38,21,"a"],[48,24,38,22],[48,25,38,23],[49,10,39,8],[49,17,39,15,"obj"],[49,20,39,18],[49,21,39,19,"a"],[49,22,39,20],[49,23,39,21],[50,8,40,6],[51,6,41,4],[51,7,41,5],[52,6,43,4],[52,10,43,8,"nativeGetUserMedia"],[52,28,43,26],[52,31,43,29,"navigator"],[52,40,43,38],[52,41,43,39,"mediaDevices"],[52,53,43,51],[52,54,43,52,"getUserMedia"],[52,66,43,64],[52,67,43,65,"bind"],[52,71,43,69],[52,72,43,70,"navigator"],[52,81,43,79],[52,82,43,80,"mediaDevices"],[52,94,43,92],[52,95,43,93],[53,6,44,4,"navigator"],[53,15,44,13],[53,16,44,14,"mediaDevices"],[53,28,44,26],[53,29,44,27,"getUserMedia"],[53,41,44,39],[53,44,44,42],[53,54,44,52,"c"],[53,55,44,53],[53,57,44,55],[54,8,45,6],[54,12,45,10],[54,13,45,11],[54,20,45,18,"c"],[54,21,45,19],[54,26,45,24],[54,37,45,35],[54,40,45,38],[54,51,45,49],[54,54,45,52,"_typeof"],[54,61,45,59],[54,62,45,60,"c"],[54,63,45,61],[54,64,45,62],[54,70,45,68],[54,78,45,76],[54,82,45,80,"_typeof"],[54,89,45,87],[54,90,45,88,"c"],[54,91,45,89],[54,92,45,90,"audio"],[54,97,45,95],[54,98,45,96],[54,103,45,101],[54,111,45,109],[54,113,45,111],[55,10,46,8,"c"],[55,11,46,9],[55,14,46,12,"JSON"],[55,18,46,16],[55,19,46,17,"parse"],[55,24,46,22],[55,25,46,23,"JSON"],[55,29,46,27],[55,30,46,28,"stringify"],[55,39,46,37],[55,40,46,38,"c"],[55,41,46,39],[55,42,46,40],[55,43,46,41],[56,10,47,8,"remap"],[56,15,47,13],[56,16,47,14,"c"],[56,17,47,15],[56,18,47,16,"audio"],[56,23,47,21],[56,25,47,23],[56,42,47,40],[56,44,47,42],[56,64,47,62],[56,65,47,63],[57,10,48,8,"remap"],[57,15,48,13],[57,16,48,14,"c"],[57,17,48,15],[57,18,48,16,"audio"],[57,23,48,21],[57,25,48,23],[57,43,48,41],[57,45,48,43],[57,66,48,64],[57,67,48,65],[58,8,49,6],[59,8,50,6],[59,15,50,13,"nativeGetUserMedia"],[59,33,50,31],[59,34,50,32,"c"],[59,35,50,33],[59,36,50,34],[60,6,51,4],[60,7,51,5],[61,6,53,4],[61,10,53,8,"MediaStreamTrack"],[61,26,53,24],[61,30,53,28,"MediaStreamTrack"],[61,46,53,44],[61,47,53,45,"prototype"],[61,56,53,54],[61,57,53,55,"getSettings"],[61,68,53,66],[61,70,53,68],[62,8,54,6],[62,12,54,10,"nativeGetSettings"],[62,29,54,27],[62,32,54,30,"MediaStreamTrack"],[62,48,54,46],[62,49,54,47,"prototype"],[62,58,54,56],[62,59,54,57,"getSettings"],[62,70,54,68],[63,8,55,6,"MediaStreamTrack"],[63,24,55,22],[63,25,55,23,"prototype"],[63,34,55,32],[63,35,55,33,"getSettings"],[63,46,55,44],[63,49,55,47],[63,61,55,59],[64,10,56,8],[64,14,56,12,"obj"],[64,17,56,15],[64,20,56,18,"nativeGetSettings"],[64,37,56,35],[64,38,56,36,"apply"],[64,43,56,41],[64,44,56,42],[64,48,56,46],[64,50,56,48,"arguments"],[64,59,56,57],[64,60,56,58],[65,10,57,8,"remap"],[65,15,57,13],[65,16,57,14,"obj"],[65,19,57,17],[65,21,57,19],[65,41,57,39],[65,43,57,41],[65,60,57,58],[65,61,57,59],[66,10,58,8,"remap"],[66,15,58,13],[66,16,58,14,"obj"],[66,19,58,17],[66,21,58,19],[66,42,58,40],[66,44,58,42],[66,62,58,60],[66,63,58,61],[67,10,59,8],[67,17,59,15,"obj"],[67,20,59,18],[68,8,60,6],[68,9,60,7],[69,6,61,4],[70,6,63,4],[70,10,63,8,"MediaStreamTrack"],[70,26,63,24],[70,30,63,28,"MediaStreamTrack"],[70,46,63,44],[70,47,63,45,"prototype"],[70,56,63,54],[70,57,63,55,"applyConstraints"],[70,73,63,71],[70,75,63,73],[71,8,64,6],[71,12,64,10,"nativeApplyConstraints"],[71,34,64,32],[71,37,64,35,"MediaStreamTrack"],[71,53,64,51],[71,54,64,52,"prototype"],[71,63,64,61],[71,64,64,62,"applyConstraints"],[71,80,64,78],[72,8,65,6,"MediaStreamTrack"],[72,24,65,22],[72,25,65,23,"prototype"],[72,34,65,32],[72,35,65,33,"applyConstraints"],[72,51,65,49],[72,54,65,52],[72,64,65,62,"c"],[72,65,65,63],[72,67,65,65],[73,10,66,8],[73,14,66,12],[73,18,66,16],[73,19,66,17,"kind"],[73,23,66,21],[73,28,66,26],[73,35,66,33],[73,39,66,37],[73,40,66,38],[73,47,66,45,"c"],[73,48,66,46],[73,53,66,51],[73,64,66,62],[73,67,66,65],[73,78,66,76],[73,81,66,79,"_typeof"],[73,88,66,86],[73,89,66,87,"c"],[73,90,66,88],[73,91,66,89],[73,97,66,95],[73,105,66,103],[73,107,66,105],[74,12,67,10,"c"],[74,13,67,11],[74,16,67,14,"JSON"],[74,20,67,18],[74,21,67,19,"parse"],[74,26,67,24],[74,27,67,25,"JSON"],[74,31,67,29],[74,32,67,30,"stringify"],[74,41,67,39],[74,42,67,40,"c"],[74,43,67,41],[74,44,67,42],[74,45,67,43],[75,12,68,10,"remap"],[75,17,68,15],[75,18,68,16,"c"],[75,19,68,17],[75,21,68,19],[75,38,68,36],[75,40,68,38],[75,60,68,58],[75,61,68,59],[76,12,69,10,"remap"],[76,17,69,15],[76,18,69,16,"c"],[76,19,69,17],[76,21,69,19],[76,39,69,37],[76,41,69,39],[76,62,69,60],[76,63,69,61],[77,10,70,8],[78,10,71,8],[78,17,71,15,"nativeApplyConstraints"],[78,39,71,37],[78,40,71,38,"apply"],[78,45,71,43],[78,46,71,44],[78,50,71,48],[78,52,71,50],[78,53,71,51,"c"],[78,54,71,52],[78,55,71,53],[78,56,71,54],[79,8,72,6],[79,9,72,7],[80,6,73,4],[81,4,74,2],[82,2,75,0],[83,0,75,1],[83,3]],"functionMap":{"names":["<global>","<anonymous>","_interopRequireWildcard","shimGetUserMedia","navigator.getUserMedia","remap","navigator.mediaDevices.getUserMedia","MediaStreamTrack.prototype.getSettings","MediaStreamTrack.prototype.applyConstraints"],"mappings":"AAA;oFCc,qCD,GC,gJD;AEQ,6QF;AGE;2BCI;GDI;gBEG;KFK;0CGG;KHO;+CII;OJK;oDKK;OLO;CHG"},"hasCjsExports":true},"type":"js/module"}]}