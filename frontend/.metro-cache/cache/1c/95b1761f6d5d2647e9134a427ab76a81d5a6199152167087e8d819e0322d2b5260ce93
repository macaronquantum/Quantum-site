{"dependencies":[{"name":"../../errors/abi.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":187,"index":187}}],"key":"5W+IXI3nhZ5FIpsDZmuMkio1GuI=","exportNames":["*"],"imports":1}},{"name":"../data/size.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":188},"end":{"line":2,"column":39,"index":227}}],"key":"U4xVlv6fru75wWM2ksCXz7lLGZk=","exportNames":["*"],"imports":1}},{"name":"../hash/toEventSelector.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":228},"end":{"line":3,"column":62,"index":290}}],"key":"krrvulLvqKqnvIPpeFzxlO3XBqI=","exportNames":["*"],"imports":1}},{"name":"../../errors/cursor.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":291},"end":{"line":4,"column":66,"index":357}}],"key":"WKGcIdPHDZp7wXv4J+35XnzHeow=","exportNames":["*"],"imports":1}},{"name":"./decodeAbiParameters.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":358},"end":{"line":5,"column":64,"index":422}}],"key":"idcjKmEiiliWePYzMQA+g7sYl7I=","exportNames":["*"],"imports":1}},{"name":"./formatAbiItem.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":423},"end":{"line":6,"column":51,"index":474}}],"key":"cMJuYY2ptHR6jaMpLhwMZkIv3yM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.decodeEventLog = decodeEventLog;\n  var _errorsAbiJs = require(_dependencyMap[0], \"../../errors/abi.js\");\n  var _dataSizeJs = require(_dependencyMap[1], \"../data/size.js\");\n  var _hashToEventSelectorJs = require(_dependencyMap[2], \"../hash/toEventSelector.js\");\n  var _errorsCursorJs = require(_dependencyMap[3], \"../../errors/cursor.js\");\n  var _decodeAbiParametersJs = require(_dependencyMap[4], \"./decodeAbiParameters.js\");\n  var _formatAbiItemJs = require(_dependencyMap[5], \"./formatAbiItem.js\");\n  const docsPath = '/docs/contract/decodeEventLog';\n  function decodeEventLog(parameters) {\n    const {\n      abi,\n      data,\n      strict: strict_,\n      topics\n    } = parameters;\n    const strict = strict_ ?? true;\n    const [signature, ...argTopics] = topics;\n    if (!signature) throw new _errorsAbiJs.AbiEventSignatureEmptyTopicsError({\n      docsPath\n    });\n    const abiItem = (() => {\n      if (abi.length === 1) return abi[0];\n      return abi.find(x => x.type === 'event' && signature === (0, _hashToEventSelectorJs.toEventSelector)((0, _formatAbiItemJs.formatAbiItem)(x)));\n    })();\n    if (!(abiItem && 'name' in abiItem) || abiItem.type !== 'event') throw new _errorsAbiJs.AbiEventSignatureNotFoundError(signature, {\n      docsPath\n    });\n    const {\n      name,\n      inputs\n    } = abiItem;\n    const isUnnamed = inputs?.some(x => !('name' in x && x.name));\n    let args = isUnnamed ? [] : {};\n    // Decode topics (indexed args).\n    const indexedInputs = inputs.filter(x => 'indexed' in x && x.indexed);\n    for (let i = 0; i < indexedInputs.length; i++) {\n      const param = indexedInputs[i];\n      const topic = argTopics[i];\n      if (!topic) throw new _errorsAbiJs.DecodeLogTopicsMismatch({\n        abiItem,\n        param: param\n      });\n      args[isUnnamed ? i : param.name || i] = decodeTopic({\n        param,\n        value: topic\n      });\n    }\n    // Decode data (non-indexed args).\n    const nonIndexedInputs = inputs.filter(x => !('indexed' in x && x.indexed));\n    if (nonIndexedInputs.length > 0) {\n      if (data && data !== '0x') {\n        try {\n          const decodedData = (0, _decodeAbiParametersJs.decodeAbiParameters)(nonIndexedInputs, data);\n          if (decodedData) {\n            if (isUnnamed) args = [...args, ...decodedData];else {\n              for (let i = 0; i < nonIndexedInputs.length; i++) {\n                args[nonIndexedInputs[i].name] = decodedData[i];\n              }\n            }\n          }\n        } catch (err) {\n          if (strict) {\n            if (err instanceof _errorsAbiJs.AbiDecodingDataSizeTooSmallError || err instanceof _errorsCursorJs.PositionOutOfBoundsError) throw new _errorsAbiJs.DecodeLogDataMismatch({\n              abiItem,\n              data: data,\n              params: nonIndexedInputs,\n              size: (0, _dataSizeJs.size)(data)\n            });\n            throw err;\n          }\n        }\n      } else if (strict) {\n        throw new _errorsAbiJs.DecodeLogDataMismatch({\n          abiItem,\n          data: '0x',\n          params: nonIndexedInputs,\n          size: 0\n        });\n      }\n    }\n    return {\n      eventName: name,\n      args: Object.values(args).length > 0 ? args : undefined\n    };\n  }\n  function decodeTopic({\n    param,\n    value\n  }) {\n    if (param.type === 'string' || param.type === 'bytes' || param.type === 'tuple' || param.type.match(/^(.*)\\[(\\d+)?\\]$/)) return value;\n    const decodedArg = (0, _decodeAbiParametersJs.decodeAbiParameters)([param], value) || [];\n    return decodedArg[0];\n  }\n});","lineCount":100,"map":[[7,2,8,0,"exports"],[7,9,8,0],[7,10,8,0,"decodeEventLog"],[7,24,8,0],[7,27,8,0,"decodeEventLog"],[7,41,8,0],[8,2,1,0],[8,6,1,0,"_errorsAbiJs"],[8,18,1,0],[8,21,1,0,"require"],[8,28,1,0],[8,29,1,0,"_dependencyMap"],[8,43,1,0],[9,2,2,0],[9,6,2,0,"_dataSizeJs"],[9,17,2,0],[9,20,2,0,"require"],[9,27,2,0],[9,28,2,0,"_dependencyMap"],[9,42,2,0],[10,2,3,0],[10,6,3,0,"_hashToEventSelectorJs"],[10,28,3,0],[10,31,3,0,"require"],[10,38,3,0],[10,39,3,0,"_dependencyMap"],[10,53,3,0],[11,2,4,0],[11,6,4,0,"_errorsCursorJs"],[11,21,4,0],[11,24,4,0,"require"],[11,31,4,0],[11,32,4,0,"_dependencyMap"],[11,46,4,0],[12,2,5,0],[12,6,5,0,"_decodeAbiParametersJs"],[12,28,5,0],[12,31,5,0,"require"],[12,38,5,0],[12,39,5,0,"_dependencyMap"],[12,53,5,0],[13,2,6,0],[13,6,6,0,"_formatAbiItemJs"],[13,22,6,0],[13,25,6,0,"require"],[13,32,6,0],[13,33,6,0,"_dependencyMap"],[13,47,6,0],[14,2,7,0],[14,8,7,6,"docsPath"],[14,16,7,14],[14,19,7,17],[14,50,7,48],[15,2,8,7],[15,11,8,16,"decodeEventLog"],[15,25,8,30,"decodeEventLog"],[15,26,8,31,"parameters"],[15,36,8,41],[15,38,8,43],[16,4,9,4],[16,10,9,10],[17,6,9,12,"abi"],[17,9,9,15],[18,6,9,17,"data"],[18,10,9,21],[19,6,9,23,"strict"],[19,12,9,29],[19,14,9,31,"strict_"],[19,21,9,38],[20,6,9,40,"topics"],[21,4,9,48],[21,5,9,49],[21,8,9,52,"parameters"],[21,18,9,62],[22,4,10,4],[22,10,10,10,"strict"],[22,16,10,16],[22,19,10,19,"strict_"],[22,26,10,26],[22,30,10,30],[22,34,10,34],[23,4,11,4],[23,10,11,10],[23,11,11,11,"signature"],[23,20,11,20],[23,22,11,22],[23,25,11,25,"argTopics"],[23,34,11,34],[23,35,11,35],[23,38,11,38,"topics"],[23,44,11,44],[24,4,12,4],[24,8,12,8],[24,9,12,9,"signature"],[24,18,12,18],[24,20,13,8],[24,26,13,14],[24,30,13,18,"AbiEventSignatureEmptyTopicsError"],[24,42,13,51],[24,43,13,51,"AbiEventSignatureEmptyTopicsError"],[24,76,13,51],[24,77,13,52],[25,6,13,54,"docsPath"],[26,4,13,63],[26,5,13,64],[26,6,13,65],[27,4,14,4],[27,10,14,10,"abiItem"],[27,17,14,17],[27,20,14,20],[27,21,14,21],[27,27,14,27],[28,6,15,8],[28,10,15,12,"abi"],[28,13,15,15],[28,14,15,16,"length"],[28,20,15,22],[28,25,15,27],[28,26,15,28],[28,28,16,12],[28,35,16,19,"abi"],[28,38,16,22],[28,39,16,23],[28,40,16,24],[28,41,16,25],[29,6,17,8],[29,13,17,15,"abi"],[29,16,17,18],[29,17,17,19,"find"],[29,21,17,23],[29,22,17,25,"x"],[29,23,17,26],[29,27,17,31,"x"],[29,28,17,32],[29,29,17,33,"type"],[29,33,17,37],[29,38,17,42],[29,45,17,49],[29,49,18,12,"signature"],[29,58,18,21],[29,63,18,26],[29,67,18,26,"toEventSelector"],[29,89,18,41],[29,90,18,41,"toEventSelector"],[29,105,18,41],[29,107,18,42],[29,111,18,42,"formatAbiItem"],[29,127,18,55],[29,128,18,55,"formatAbiItem"],[29,141,18,55],[29,143,18,56,"x"],[29,144,18,57],[29,145,18,58],[29,146,18,59],[29,147,18,60],[30,4,19,4],[30,5,19,5],[30,7,19,7],[30,8,19,8],[31,4,20,4],[31,8,20,8],[31,10,20,10,"abiItem"],[31,17,20,17],[31,21,20,21],[31,27,20,27],[31,31,20,31,"abiItem"],[31,38,20,38],[31,39,20,39],[31,43,20,43,"abiItem"],[31,50,20,50],[31,51,20,51,"type"],[31,55,20,55],[31,60,20,60],[31,67,20,67],[31,69,21,8],[31,75,21,14],[31,79,21,18,"AbiEventSignatureNotFoundError"],[31,91,21,48],[31,92,21,48,"AbiEventSignatureNotFoundError"],[31,122,21,48],[31,123,21,49,"signature"],[31,132,21,58],[31,134,21,60],[32,6,21,62,"docsPath"],[33,4,21,71],[33,5,21,72],[33,6,21,73],[34,4,22,4],[34,10,22,10],[35,6,22,12,"name"],[35,10,22,16],[36,6,22,18,"inputs"],[37,4,22,25],[37,5,22,26],[37,8,22,29,"abiItem"],[37,15,22,36],[38,4,23,4],[38,10,23,10,"isUnnamed"],[38,19,23,19],[38,22,23,22,"inputs"],[38,28,23,28],[38,30,23,30,"some"],[38,34,23,34],[38,35,23,36,"x"],[38,36,23,37],[38,40,23,42],[38,42,23,44],[38,48,23,50],[38,52,23,54,"x"],[38,53,23,55],[38,57,23,59,"x"],[38,58,23,60],[38,59,23,61,"name"],[38,63,23,65],[38,64,23,66],[38,65,23,67],[39,4,24,4],[39,8,24,8,"args"],[39,12,24,12],[39,15,24,15,"isUnnamed"],[39,24,24,24],[39,27,24,27],[39,29,24,29],[39,32,24,32],[39,33,24,33],[39,34,24,34],[40,4,25,4],[41,4,26,4],[41,10,26,10,"indexedInputs"],[41,23,26,23],[41,26,26,26,"inputs"],[41,32,26,32],[41,33,26,33,"filter"],[41,39,26,39],[41,40,26,41,"x"],[41,41,26,42],[41,45,26,47],[41,54,26,56],[41,58,26,60,"x"],[41,59,26,61],[41,63,26,65,"x"],[41,64,26,66],[41,65,26,67,"indexed"],[41,72,26,74],[41,73,26,75],[42,4,27,4],[42,9,27,9],[42,13,27,13,"i"],[42,14,27,14],[42,17,27,17],[42,18,27,18],[42,20,27,20,"i"],[42,21,27,21],[42,24,27,24,"indexedInputs"],[42,37,27,37],[42,38,27,38,"length"],[42,44,27,44],[42,46,27,46,"i"],[42,47,27,47],[42,49,27,49],[42,51,27,51],[43,6,28,8],[43,12,28,14,"param"],[43,17,28,19],[43,20,28,22,"indexedInputs"],[43,33,28,35],[43,34,28,36,"i"],[43,35,28,37],[43,36,28,38],[44,6,29,8],[44,12,29,14,"topic"],[44,17,29,19],[44,20,29,22,"argTopics"],[44,29,29,31],[44,30,29,32,"i"],[44,31,29,33],[44,32,29,34],[45,6,30,8],[45,10,30,12],[45,11,30,13,"topic"],[45,16,30,18],[45,18,31,12],[45,24,31,18],[45,28,31,22,"DecodeLogTopicsMismatch"],[45,40,31,45],[45,41,31,45,"DecodeLogTopicsMismatch"],[45,64,31,45],[45,65,31,46],[46,8,32,16,"abiItem"],[46,15,32,23],[47,8,33,16,"param"],[47,13,33,21],[47,15,33,23,"param"],[48,6,34,12],[48,7,34,13],[48,8,34,14],[49,6,35,8,"args"],[49,10,35,12],[49,11,35,13,"isUnnamed"],[49,20,35,22],[49,23,35,25,"i"],[49,24,35,26],[49,27,35,29,"param"],[49,32,35,34],[49,33,35,35,"name"],[49,37,35,39],[49,41,35,43,"i"],[49,42,35,44],[49,43,35,45],[49,46,35,48,"decodeTopic"],[49,57,35,59],[49,58,35,60],[50,8,35,62,"param"],[50,13,35,67],[51,8,35,69,"value"],[51,13,35,74],[51,15,35,76,"topic"],[52,6,35,82],[52,7,35,83],[52,8,35,84],[53,4,36,4],[54,4,37,4],[55,4,38,4],[55,10,38,10,"nonIndexedInputs"],[55,26,38,26],[55,29,38,29,"inputs"],[55,35,38,35],[55,36,38,36,"filter"],[55,42,38,42],[55,43,38,44,"x"],[55,44,38,45],[55,48,38,50],[55,50,38,52],[55,59,38,61],[55,63,38,65,"x"],[55,64,38,66],[55,68,38,70,"x"],[55,69,38,71],[55,70,38,72,"indexed"],[55,77,38,79],[55,78,38,80],[55,79,38,81],[56,4,39,4],[56,8,39,8,"nonIndexedInputs"],[56,24,39,24],[56,25,39,25,"length"],[56,31,39,31],[56,34,39,34],[56,35,39,35],[56,37,39,37],[57,6,40,8],[57,10,40,12,"data"],[57,14,40,16],[57,18,40,20,"data"],[57,22,40,24],[57,27,40,29],[57,31,40,33],[57,33,40,35],[58,8,41,12],[58,12,41,16],[59,10,42,16],[59,16,42,22,"decodedData"],[59,27,42,33],[59,30,42,36],[59,34,42,36,"decodeAbiParameters"],[59,56,42,55],[59,57,42,55,"decodeAbiParameters"],[59,76,42,55],[59,78,42,56,"nonIndexedInputs"],[59,94,42,72],[59,96,42,74,"data"],[59,100,42,78],[59,101,42,79],[60,10,43,16],[60,14,43,20,"decodedData"],[60,25,43,31],[60,27,43,33],[61,12,44,20],[61,16,44,24,"isUnnamed"],[61,25,44,33],[61,27,45,24,"args"],[61,31,45,28],[61,34,45,31],[61,35,45,32],[61,38,45,35,"args"],[61,42,45,39],[61,44,45,41],[61,47,45,44,"decodedData"],[61,58,45,55],[61,59,45,56],[61,60,45,57],[61,65,46,25],[62,14,47,24],[62,19,47,29],[62,23,47,33,"i"],[62,24,47,34],[62,27,47,37],[62,28,47,38],[62,30,47,40,"i"],[62,31,47,41],[62,34,47,44,"nonIndexedInputs"],[62,50,47,60],[62,51,47,61,"length"],[62,57,47,67],[62,59,47,69,"i"],[62,60,47,70],[62,62,47,72],[62,64,47,74],[63,16,48,28,"args"],[63,20,48,32],[63,21,48,33,"nonIndexedInputs"],[63,37,48,49],[63,38,48,50,"i"],[63,39,48,51],[63,40,48,52],[63,41,48,53,"name"],[63,45,48,57],[63,46,48,58],[63,49,48,61,"decodedData"],[63,60,48,72],[63,61,48,73,"i"],[63,62,48,74],[63,63,48,75],[64,14,49,24],[65,12,50,20],[66,10,51,16],[67,8,52,12],[67,9,52,13],[67,10,53,12],[67,17,53,19,"err"],[67,20,53,22],[67,22,53,24],[68,10,54,16],[68,14,54,20,"strict"],[68,20,54,26],[68,22,54,28],[69,12,55,20],[69,16,55,24,"err"],[69,19,55,27],[69,31,55,39,"AbiDecodingDataSizeTooSmallError"],[69,43,55,71],[69,44,55,71,"AbiDecodingDataSizeTooSmallError"],[69,76,55,71],[69,80,56,24,"err"],[69,83,56,27],[69,95,56,39,"PositionOutOfBoundsError"],[69,110,56,63],[69,111,56,63,"PositionOutOfBoundsError"],[69,135,56,63],[69,137,57,24],[69,143,57,30],[69,147,57,34,"DecodeLogDataMismatch"],[69,159,57,55],[69,160,57,55,"DecodeLogDataMismatch"],[69,181,57,55],[69,182,57,56],[70,14,58,28,"abiItem"],[70,21,58,35],[71,14,59,28,"data"],[71,18,59,32],[71,20,59,34,"data"],[71,24,59,38],[72,14,60,28,"params"],[72,20,60,34],[72,22,60,36,"nonIndexedInputs"],[72,38,60,52],[73,14,61,28,"size"],[73,18,61,32],[73,20,61,34],[73,24,61,34,"size"],[73,35,61,38],[73,36,61,38,"size"],[73,40,61,38],[73,42,61,39,"data"],[73,46,61,43],[74,12,62,24],[74,13,62,25],[74,14,62,26],[75,12,63,20],[75,18,63,26,"err"],[75,21,63,29],[76,10,64,16],[77,8,65,12],[78,6,66,8],[78,7,66,9],[78,13,67,13],[78,17,67,17,"strict"],[78,23,67,23],[78,25,67,25],[79,8,68,12],[79,14,68,18],[79,18,68,22,"DecodeLogDataMismatch"],[79,30,68,43],[79,31,68,43,"DecodeLogDataMismatch"],[79,52,68,43],[79,53,68,44],[80,10,69,16,"abiItem"],[80,17,69,23],[81,10,70,16,"data"],[81,14,70,20],[81,16,70,22],[81,20,70,26],[82,10,71,16,"params"],[82,16,71,22],[82,18,71,24,"nonIndexedInputs"],[82,34,71,40],[83,10,72,16,"size"],[83,14,72,20],[83,16,72,22],[84,8,73,12],[84,9,73,13],[84,10,73,14],[85,6,74,8],[86,4,75,4],[87,4,76,4],[87,11,76,11],[88,6,77,8,"eventName"],[88,15,77,17],[88,17,77,19,"name"],[88,21,77,23],[89,6,78,8,"args"],[89,10,78,12],[89,12,78,14,"Object"],[89,18,78,20],[89,19,78,21,"values"],[89,25,78,27],[89,26,78,28,"args"],[89,30,78,32],[89,31,78,33],[89,32,78,34,"length"],[89,38,78,40],[89,41,78,43],[89,42,78,44],[89,45,78,47,"args"],[89,49,78,51],[89,52,78,54,"undefined"],[90,4,79,4],[90,5,79,5],[91,2,80,0],[92,2,81,0],[92,11,81,9,"decodeTopic"],[92,22,81,20,"decodeTopic"],[92,23,81,21],[93,4,81,23,"param"],[93,9,81,28],[94,4,81,30,"value"],[95,2,81,36],[95,3,81,37],[95,5,81,39],[96,4,82,4],[96,8,82,8,"param"],[96,13,82,13],[96,14,82,14,"type"],[96,18,82,18],[96,23,82,23],[96,31,82,31],[96,35,83,8,"param"],[96,40,83,13],[96,41,83,14,"type"],[96,45,83,18],[96,50,83,23],[96,57,83,30],[96,61,84,8,"param"],[96,66,84,13],[96,67,84,14,"type"],[96,71,84,18],[96,76,84,23],[96,83,84,30],[96,87,85,8,"param"],[96,92,85,13],[96,93,85,14,"type"],[96,97,85,18],[96,98,85,19,"match"],[96,103,85,24],[96,104,85,25],[96,122,85,43],[96,123,85,44],[96,125,86,8],[96,132,86,15,"value"],[96,137,86,20],[97,4,87,4],[97,10,87,10,"decodedArg"],[97,20,87,20],[97,23,87,23],[97,27,87,23,"decodeAbiParameters"],[97,49,87,42],[97,50,87,42,"decodeAbiParameters"],[97,69,87,42],[97,71,87,43],[97,72,87,44,"param"],[97,77,87,49],[97,78,87,50],[97,80,87,52,"value"],[97,85,87,57],[97,86,87,58],[97,90,87,62],[97,92,87,64],[98,4,88,4],[98,11,88,11,"decodedArg"],[98,21,88,21],[98,22,88,22],[98,23,88,23],[98,24,88,24],[99,2,89,0],[100,0,89,1],[100,3]],"functionMap":{"names":["<global>","decodeEventLog","<anonymous>","abi.find$argument_0","inputs.some$argument_0","inputs.filter$argument_0","decodeTopic"],"mappings":"AAA;OCO;qBCM;wBCG;2DDC;KDC;mCGI,+BH;wCIG,kCJ;2CIY,qCJ;CD0C;AMC;CNQ"},"hasCjsExports":false},"type":"js/module"}]}