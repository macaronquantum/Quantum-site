{"dependencies":[{"name":"../sets/index","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":16,"index":178},"end":{"line":6,"column":40,"index":202}}],"key":"syEJxYt+a826Ese6wGy9X3baOjk=","exportNames":["*"],"imports":1}},{"name":"../guard/kind","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":15,"index":372},"end":{"line":10,"column":39,"index":396}}],"key":"qS8+gIH9uXiD6H1DYgmkMMVgPHk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.KeyOfPropertyKeys = KeyOfPropertyKeys;\n  exports.KeyOfPattern = KeyOfPattern;\n  const index_1 = require(_dependencyMap[0], \"../sets/index\");\n  // ------------------------------------------------------------------\n  // TypeGuard\n  // ------------------------------------------------------------------\n  const kind_1 = require(_dependencyMap[1], \"../guard/kind\");\n  // prettier-ignore\n  function FromRest(T) {\n    const Acc = [];\n    for (const L of T) Acc.push(KeyOfPropertyKeys(L));\n    return Acc;\n  }\n  // prettier-ignore\n  function FromIntersect(T) {\n    const C = FromRest(T);\n    const R = (0, index_1.SetUnionMany)(C);\n    return R;\n  }\n  // prettier-ignore\n  function FromUnion(T) {\n    const C = FromRest(T);\n    const R = (0, index_1.SetIntersectMany)(C);\n    return R;\n  }\n  // prettier-ignore\n  function FromTuple(T) {\n    return T.map((_, I) => I.toString());\n  }\n  // prettier-ignore\n  function FromArray(_) {\n    return ['[number]'];\n  }\n  // prettier-ignore\n  function FromProperties(T) {\n    return globalThis.Object.getOwnPropertyNames(T);\n  }\n  // ------------------------------------------------------------------\n  // FromPatternProperties\n  // ------------------------------------------------------------------\n  // prettier-ignore\n  function FromPatternProperties(patternProperties) {\n    if (!includePatternProperties) return [];\n    const patternPropertyKeys = globalThis.Object.getOwnPropertyNames(patternProperties);\n    return patternPropertyKeys.map(key => {\n      return key[0] === '^' && key[key.length - 1] === '$' ? key.slice(1, key.length - 1) : key;\n    });\n  }\n  /** Returns a tuple of PropertyKeys derived from the given TSchema. */\n  // prettier-ignore\n  function KeyOfPropertyKeys(T) {\n    return (0, kind_1.IsIntersect)(T) ? FromIntersect(T.allOf) : (0, kind_1.IsUnion)(T) ? FromUnion(T.anyOf) : (0, kind_1.IsTuple)(T) ? FromTuple(T.items ?? []) : (0, kind_1.IsArray)(T) ? FromArray(T.items) : (0, kind_1.IsObject)(T) ? FromProperties(T.properties) : (0, kind_1.IsRecord)(T) ? FromPatternProperties(T.patternProperties) : [];\n  }\n  // ----------------------------------------------------------------\n  // KeyOfPattern\n  // ----------------------------------------------------------------\n  let includePatternProperties = false;\n  /** Returns a regular expression pattern derived from the given TSchema */\n  function KeyOfPattern(schema) {\n    includePatternProperties = true;\n    const keys = KeyOfPropertyKeys(schema);\n    includePatternProperties = false;\n    const pattern = keys.map(key => `(${key})`);\n    return `^(${pattern.join('|')})$`;\n  }\n});","lineCount":72,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,3,47,"value"],[5,9,3,52],[5,11,3,54],[6,2,3,59],[6,3,3,60],[6,4,3,61],[7,2,4,0,"exports"],[7,9,4,7],[7,10,4,8,"KeyOfPropertyKeys"],[7,27,4,25],[7,30,4,28,"KeyOfPropertyKeys"],[7,47,4,45],[8,2,5,0,"exports"],[8,9,5,7],[8,10,5,8,"KeyOfPattern"],[8,22,5,20],[8,25,5,23,"KeyOfPattern"],[8,37,5,35],[9,2,6,0],[9,8,6,6,"index_1"],[9,15,6,13],[9,18,6,16,"require"],[9,25,6,23],[9,26,6,23,"_dependencyMap"],[9,40,6,23],[9,60,6,39],[9,61,6,40],[10,2,7,0],[11,2,8,0],[12,2,9,0],[13,2,10,0],[13,8,10,6,"kind_1"],[13,14,10,12],[13,17,10,15,"require"],[13,24,10,22],[13,25,10,22,"_dependencyMap"],[13,39,10,22],[13,59,10,38],[13,60,10,39],[14,2,11,0],[15,2,12,0],[15,11,12,9,"FromRest"],[15,19,12,17,"FromRest"],[15,20,12,18,"T"],[15,21,12,19],[15,23,12,21],[16,4,13,4],[16,10,13,10,"Acc"],[16,13,13,13],[16,16,13,16],[16,18,13,18],[17,4,14,4],[17,9,14,9],[17,15,14,15,"L"],[17,16,14,16],[17,20,14,20,"T"],[17,21,14,21],[17,23,15,8,"Acc"],[17,26,15,11],[17,27,15,12,"push"],[17,31,15,16],[17,32,15,17,"KeyOfPropertyKeys"],[17,49,15,34],[17,50,15,35,"L"],[17,51,15,36],[17,52,15,37],[17,53,15,38],[18,4,16,4],[18,11,16,11,"Acc"],[18,14,16,14],[19,2,17,0],[20,2,18,0],[21,2,19,0],[21,11,19,9,"FromIntersect"],[21,24,19,22,"FromIntersect"],[21,25,19,23,"T"],[21,26,19,24],[21,28,19,26],[22,4,20,4],[22,10,20,10,"C"],[22,11,20,11],[22,14,20,14,"FromRest"],[22,22,20,22],[22,23,20,23,"T"],[22,24,20,24],[22,25,20,25],[23,4,21,4],[23,10,21,10,"R"],[23,11,21,11],[23,14,21,14],[23,15,21,15],[23,16,21,16],[23,18,21,18,"index_1"],[23,25,21,25],[23,26,21,26,"SetUnionMany"],[23,38,21,38],[23,40,21,40,"C"],[23,41,21,41],[23,42,21,42],[24,4,22,4],[24,11,22,11,"R"],[24,12,22,12],[25,2,23,0],[26,2,24,0],[27,2,25,0],[27,11,25,9,"FromUnion"],[27,20,25,18,"FromUnion"],[27,21,25,19,"T"],[27,22,25,20],[27,24,25,22],[28,4,26,4],[28,10,26,10,"C"],[28,11,26,11],[28,14,26,14,"FromRest"],[28,22,26,22],[28,23,26,23,"T"],[28,24,26,24],[28,25,26,25],[29,4,27,4],[29,10,27,10,"R"],[29,11,27,11],[29,14,27,14],[29,15,27,15],[29,16,27,16],[29,18,27,18,"index_1"],[29,25,27,25],[29,26,27,26,"SetIntersectMany"],[29,42,27,42],[29,44,27,44,"C"],[29,45,27,45],[29,46,27,46],[30,4,28,4],[30,11,28,11,"R"],[30,12,28,12],[31,2,29,0],[32,2,30,0],[33,2,31,0],[33,11,31,9,"FromTuple"],[33,20,31,18,"FromTuple"],[33,21,31,19,"T"],[33,22,31,20],[33,24,31,22],[34,4,32,4],[34,11,32,11,"T"],[34,12,32,12],[34,13,32,13,"map"],[34,16,32,16],[34,17,32,17],[34,18,32,18,"_"],[34,19,32,19],[34,21,32,21,"I"],[34,22,32,22],[34,27,32,27,"I"],[34,28,32,28],[34,29,32,29,"toString"],[34,37,32,37],[34,38,32,38],[34,39,32,39],[34,40,32,40],[35,2,33,0],[36,2,34,0],[37,2,35,0],[37,11,35,9,"FromArray"],[37,20,35,18,"FromArray"],[37,21,35,19,"_"],[37,22,35,20],[37,24,35,22],[38,4,36,4],[38,11,36,12],[38,12,36,13],[38,22,36,23],[38,23,36,24],[39,2,37,0],[40,2,38,0],[41,2,39,0],[41,11,39,9,"FromProperties"],[41,25,39,23,"FromProperties"],[41,26,39,24,"T"],[41,27,39,25],[41,29,39,27],[42,4,40,4],[42,11,40,12,"globalThis"],[42,21,40,22],[42,22,40,23,"Object"],[42,28,40,29],[42,29,40,30,"getOwnPropertyNames"],[42,48,40,49],[42,49,40,50,"T"],[42,50,40,51],[42,51,40,52],[43,2,41,0],[44,2,42,0],[45,2,43,0],[46,2,44,0],[47,2,45,0],[48,2,46,0],[48,11,46,9,"FromPatternProperties"],[48,32,46,30,"FromPatternProperties"],[48,33,46,31,"patternProperties"],[48,50,46,48],[48,52,46,50],[49,4,47,4],[49,8,47,8],[49,9,47,9,"includePatternProperties"],[49,33,47,33],[49,35,48,8],[49,42,48,15],[49,44,48,17],[50,4,49,4],[50,10,49,10,"patternPropertyKeys"],[50,29,49,29],[50,32,49,32,"globalThis"],[50,42,49,42],[50,43,49,43,"Object"],[50,49,49,49],[50,50,49,50,"getOwnPropertyNames"],[50,69,49,69],[50,70,49,70,"patternProperties"],[50,87,49,87],[50,88,49,88],[51,4,50,4],[51,11,50,11,"patternPropertyKeys"],[51,30,50,30],[51,31,50,31,"map"],[51,34,50,34],[51,35,50,35,"key"],[51,38,50,38],[51,42,50,42],[52,6,51,8],[52,13,51,16,"key"],[52,16,51,19],[52,17,51,20],[52,18,51,21],[52,19,51,22],[52,24,51,27],[52,27,51,30],[52,31,51,34,"key"],[52,34,51,37],[52,35,51,38,"key"],[52,38,51,41],[52,39,51,42,"length"],[52,45,51,48],[52,48,51,51],[52,49,51,52],[52,50,51,53],[52,55,51,58],[52,58,51,61],[52,61,52,14,"key"],[52,64,52,17],[52,65,52,18,"slice"],[52,70,52,23],[52,71,52,24],[52,72,52,25],[52,74,52,27,"key"],[52,77,52,30],[52,78,52,31,"length"],[52,84,52,37],[52,87,52,40],[52,88,52,41],[52,89,52,42],[52,92,53,14,"key"],[52,95,53,17],[53,4,54,4],[53,5,54,5],[53,6,54,6],[54,2,55,0],[55,2,56,0],[56,2,57,0],[57,2,58,0],[57,11,58,9,"KeyOfPropertyKeys"],[57,28,58,26,"KeyOfPropertyKeys"],[57,29,58,27,"T"],[57,30,58,28],[57,32,58,30],[58,4,59,4],[58,11,59,12],[58,12,59,13],[58,13,59,14],[58,15,59,16,"kind_1"],[58,21,59,22],[58,22,59,23,"IsIntersect"],[58,33,59,34],[58,35,59,36,"T"],[58,36,59,37],[58,37,59,38],[58,40,59,41,"FromIntersect"],[58,53,59,54],[58,54,59,55,"T"],[58,55,59,56],[58,56,59,57,"allOf"],[58,61,59,62],[58,62,59,63],[58,65,60,8],[58,66,60,9],[58,67,60,10],[58,69,60,12,"kind_1"],[58,75,60,18],[58,76,60,19,"IsUnion"],[58,83,60,26],[58,85,60,28,"T"],[58,86,60,29],[58,87,60,30],[58,90,60,33,"FromUnion"],[58,99,60,42],[58,100,60,43,"T"],[58,101,60,44],[58,102,60,45,"anyOf"],[58,107,60,50],[58,108,60,51],[58,111,61,12],[58,112,61,13],[58,113,61,14],[58,115,61,16,"kind_1"],[58,121,61,22],[58,122,61,23,"IsTuple"],[58,129,61,30],[58,131,61,32,"T"],[58,132,61,33],[58,133,61,34],[58,136,61,37,"FromTuple"],[58,145,61,46],[58,146,61,47,"T"],[58,147,61,48],[58,148,61,49,"items"],[58,153,61,54],[58,157,61,58],[58,159,61,60],[58,160,61,61],[58,163,62,16],[58,164,62,17],[58,165,62,18],[58,167,62,20,"kind_1"],[58,173,62,26],[58,174,62,27,"IsArray"],[58,181,62,34],[58,183,62,36,"T"],[58,184,62,37],[58,185,62,38],[58,188,62,41,"FromArray"],[58,197,62,50],[58,198,62,51,"T"],[58,199,62,52],[58,200,62,53,"items"],[58,205,62,58],[58,206,62,59],[58,209,63,20],[58,210,63,21],[58,211,63,22],[58,213,63,24,"kind_1"],[58,219,63,30],[58,220,63,31,"IsObject"],[58,228,63,39],[58,230,63,41,"T"],[58,231,63,42],[58,232,63,43],[58,235,63,46,"FromProperties"],[58,249,63,60],[58,250,63,61,"T"],[58,251,63,62],[58,252,63,63,"properties"],[58,262,63,73],[58,263,63,74],[58,266,64,24],[58,267,64,25],[58,268,64,26],[58,270,64,28,"kind_1"],[58,276,64,34],[58,277,64,35,"IsRecord"],[58,285,64,43],[58,287,64,45,"T"],[58,288,64,46],[58,289,64,47],[58,292,64,50,"FromPatternProperties"],[58,313,64,71],[58,314,64,72,"T"],[58,315,64,73],[58,316,64,74,"patternProperties"],[58,333,64,91],[58,334,64,92],[58,337,65,28],[58,339,65,30],[59,2,66,0],[60,2,67,0],[61,2,68,0],[62,2,69,0],[63,2,70,0],[63,6,70,4,"includePatternProperties"],[63,30,70,28],[63,33,70,31],[63,38,70,36],[64,2,71,0],[65,2,72,0],[65,11,72,9,"KeyOfPattern"],[65,23,72,21,"KeyOfPattern"],[65,24,72,22,"schema"],[65,30,72,28],[65,32,72,30],[66,4,73,4,"includePatternProperties"],[66,28,73,28],[66,31,73,31],[66,35,73,35],[67,4,74,4],[67,10,74,10,"keys"],[67,14,74,14],[67,17,74,17,"KeyOfPropertyKeys"],[67,34,74,34],[67,35,74,35,"schema"],[67,41,74,41],[67,42,74,42],[68,4,75,4,"includePatternProperties"],[68,28,75,28],[68,31,75,31],[68,36,75,36],[69,4,76,4],[69,10,76,10,"pattern"],[69,17,76,17],[69,20,76,20,"keys"],[69,24,76,24],[69,25,76,25,"map"],[69,28,76,28],[69,29,76,30,"key"],[69,32,76,33],[69,36,76,38],[69,40,76,42,"key"],[69,43,76,45],[69,46,76,48],[69,47,76,49],[70,4,77,4],[70,11,77,11],[70,16,77,16,"pattern"],[70,23,77,23],[70,24,77,24,"join"],[70,28,77,28],[70,29,77,29],[70,32,77,32],[70,33,77,33],[70,37,77,37],[71,2,78,0],[72,0,78,1],[72,3]],"functionMap":{"names":["<global>","FromRest","FromIntersect","FromUnion","FromTuple","T.map$argument_0","FromArray","FromProperties","FromPatternProperties","patternPropertyKeys.map$argument_0","KeyOfPropertyKeys","KeyOfPattern","keys.map$argument_0"],"mappings":"AAA;ACW;CDK;AEE;CFI;AGE;CHI;AIE;iBCC,sBD;CJC;AME;CNE;AOE;CPE;AQK;mCCI;KDI;CRC;AUG;CVQ;AWM;6BCI,mBD;CXE"},"hasCjsExports":true},"type":"js/module"}]}