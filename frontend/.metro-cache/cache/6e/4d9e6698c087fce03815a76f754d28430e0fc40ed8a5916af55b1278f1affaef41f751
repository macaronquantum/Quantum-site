{"dependencies":[{"name":"../Scheduler","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":16,"column":18,"index":680},"end":{"line":16,"column":41,"index":703}}],"key":"xcfJy0fKwJIri3/GpVNvXAjHB9M=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var __extends = this && this.__extends || function () {\n    var extendStatics = function (d, b) {\n      extendStatics = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n      } || function (d, b) {\n        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n      };\n      return extendStatics(d, b);\n    };\n    return function (d, b) {\n      extendStatics(d, b);\n      function __() {\n        this.constructor = d;\n      }\n      d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n  }();\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  var Scheduler_1 = require(_dependencyMap[0], \"../Scheduler\");\n  var AsyncScheduler = function (_super) {\n    __extends(AsyncScheduler, _super);\n    function AsyncScheduler(SchedulerAction, now) {\n      if (now === void 0) {\n        now = Scheduler_1.Scheduler.now;\n      }\n      var _this = _super.call(this, SchedulerAction, function () {\n        if (AsyncScheduler.delegate && AsyncScheduler.delegate !== _this) {\n          return AsyncScheduler.delegate.now();\n        } else {\n          return now();\n        }\n      }) || this;\n      _this.actions = [];\n      _this.active = false;\n      _this.scheduled = undefined;\n      return _this;\n    }\n    AsyncScheduler.prototype.schedule = function (work, delay, state) {\n      if (delay === void 0) {\n        delay = 0;\n      }\n      if (AsyncScheduler.delegate && AsyncScheduler.delegate !== this) {\n        return AsyncScheduler.delegate.schedule(work, delay, state);\n      } else {\n        return _super.prototype.schedule.call(this, work, delay, state);\n      }\n    };\n    AsyncScheduler.prototype.flush = function (action) {\n      var actions = this.actions;\n      if (this.active) {\n        actions.push(action);\n        return;\n      }\n      var error;\n      this.active = true;\n      do {\n        if (error = action.execute(action.state, action.delay)) {\n          break;\n        }\n      } while (action = actions.shift());\n      this.active = false;\n      if (error) {\n        while (action = actions.shift()) {\n          action.unsubscribe();\n        }\n        throw error;\n      }\n    };\n    return AsyncScheduler;\n  }(Scheduler_1.Scheduler);\n  exports.AsyncScheduler = AsyncScheduler;\n});","lineCount":79,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0],[4,6,2,4,"__extends"],[4,15,2,13],[4,18,2,17],[4,22,2,21],[4,26,2,25],[4,30,2,29],[4,31,2,30,"__extends"],[4,40,2,39],[4,44,2,45],[4,56,2,57],[5,4,3,4],[5,8,3,8,"extendStatics"],[5,21,3,21],[5,24,3,24],[5,33,3,24,"extendStatics"],[5,34,3,34,"d"],[5,35,3,35],[5,37,3,37,"b"],[5,38,3,38],[5,40,3,40],[6,6,4,8,"extendStatics"],[6,19,4,21],[6,22,4,24,"Object"],[6,28,4,30],[6,29,4,31,"setPrototypeOf"],[6,43,4,45],[6,47,5,13],[7,8,5,15,"__proto__"],[7,17,5,24],[7,19,5,26],[8,6,5,29],[8,7,5,30],[8,19,5,42,"Array"],[8,24,5,47],[8,28,5,51],[8,38,5,61,"d"],[8,39,5,62],[8,41,5,64,"b"],[8,42,5,65],[8,44,5,67],[9,8,5,69,"d"],[9,9,5,70],[9,10,5,71,"__proto__"],[9,19,5,80],[9,22,5,83,"b"],[9,23,5,84],[10,6,5,86],[10,7,5,88],[10,11,6,12],[10,21,6,22,"d"],[10,22,6,23],[10,24,6,25,"b"],[10,25,6,26],[10,27,6,28],[11,8,6,30],[11,13,6,35],[11,17,6,39,"p"],[11,18,6,40],[11,22,6,44,"b"],[11,23,6,45],[11,25,6,47],[11,29,6,51,"b"],[11,30,6,52],[11,31,6,53,"hasOwnProperty"],[11,45,6,67],[11,46,6,68,"p"],[11,47,6,69],[11,48,6,70],[11,50,6,72,"d"],[11,51,6,73],[11,52,6,74,"p"],[11,53,6,75],[11,54,6,76],[11,57,6,79,"b"],[11,58,6,80],[11,59,6,81,"p"],[11,60,6,82],[11,61,6,83],[12,6,6,85],[12,7,6,86],[13,6,7,8],[13,13,7,15,"extendStatics"],[13,26,7,28],[13,27,7,29,"d"],[13,28,7,30],[13,30,7,32,"b"],[13,31,7,33],[13,32,7,34],[14,4,8,4],[14,5,8,5],[15,4,9,4],[15,11,9,11],[15,21,9,21,"d"],[15,22,9,22],[15,24,9,24,"b"],[15,25,9,25],[15,27,9,27],[16,6,10,8,"extendStatics"],[16,19,10,21],[16,20,10,22,"d"],[16,21,10,23],[16,23,10,25,"b"],[16,24,10,26],[16,25,10,27],[17,6,11,8],[17,15,11,17,"__"],[17,17,11,19,"__"],[17,18,11,19],[17,20,11,22],[18,8,11,24],[18,12,11,28],[18,13,11,29,"constructor"],[18,24,11,40],[18,27,11,43,"d"],[18,28,11,44],[19,6,11,46],[20,6,12,8,"d"],[20,7,12,9],[20,8,12,10,"prototype"],[20,17,12,19],[20,20,12,22,"b"],[20,21,12,23],[20,26,12,28],[20,30,12,32],[20,33,12,35,"Object"],[20,39,12,41],[20,40,12,42,"create"],[20,46,12,48],[20,47,12,49,"b"],[20,48,12,50],[20,49,12,51],[20,53,12,55,"__"],[20,55,12,57],[20,56,12,58,"prototype"],[20,65,12,67],[20,68,12,70,"b"],[20,69,12,71],[20,70,12,72,"prototype"],[20,79,12,81],[20,81,12,83],[20,85,12,87,"__"],[20,87,12,89],[20,88,12,90],[20,89,12,91],[20,90,12,92],[21,4,13,4],[21,5,13,5],[22,2,14,0],[22,3,14,1],[22,4,14,3],[22,5,14,4],[23,2,15,0,"Object"],[23,8,15,6],[23,9,15,7,"defineProperty"],[23,23,15,21],[23,24,15,22,"exports"],[23,31,15,29],[23,33,15,31],[23,45,15,43],[23,47,15,45],[24,4,15,47,"value"],[24,9,15,52],[24,11,15,54],[25,2,15,59],[25,3,15,60],[25,4,15,61],[26,2,16,0],[26,6,16,4,"Scheduler_1"],[26,17,16,15],[26,20,16,18,"require"],[26,27,16,25],[26,28,16,25,"_dependencyMap"],[26,42,16,25],[26,61,16,40],[26,62,16,41],[27,2,17,0],[27,6,17,4,"AsyncScheduler"],[27,20,17,18],[27,23,17,22],[27,33,17,32,"_super"],[27,39,17,38],[27,41,17,40],[28,4,18,4,"__extends"],[28,13,18,13],[28,14,18,14,"AsyncScheduler"],[28,28,18,28],[28,30,18,30,"_super"],[28,36,18,36],[28,37,18,37],[29,4,19,4],[29,13,19,13,"AsyncScheduler"],[29,27,19,27,"AsyncScheduler"],[29,28,19,28,"SchedulerAction"],[29,43,19,43],[29,45,19,45,"now"],[29,48,19,48],[29,50,19,50],[30,6,20,8],[30,10,20,12,"now"],[30,13,20,15],[30,18,20,20],[30,23,20,25],[30,24,20,26],[30,26,20,28],[31,8,20,30,"now"],[31,11,20,33],[31,14,20,36,"Scheduler_1"],[31,25,20,47],[31,26,20,48,"Scheduler"],[31,35,20,57],[31,36,20,58,"now"],[31,39,20,61],[32,6,20,63],[33,6,21,8],[33,10,21,12,"_this"],[33,15,21,17],[33,18,21,20,"_super"],[33,24,21,26],[33,25,21,27,"call"],[33,29,21,31],[33,30,21,32],[33,34,21,36],[33,36,21,38,"SchedulerAction"],[33,51,21,53],[33,53,21,55],[33,65,21,67],[34,8,22,12],[34,12,22,16,"AsyncScheduler"],[34,26,22,30],[34,27,22,31,"delegate"],[34,35,22,39],[34,39,22,43,"AsyncScheduler"],[34,53,22,57],[34,54,22,58,"delegate"],[34,62,22,66],[34,67,22,71,"_this"],[34,72,22,76],[34,74,22,78],[35,10,23,16],[35,17,23,23,"AsyncScheduler"],[35,31,23,37],[35,32,23,38,"delegate"],[35,40,23,46],[35,41,23,47,"now"],[35,44,23,50],[35,45,23,51],[35,46,23,52],[36,8,24,12],[36,9,24,13],[36,15,25,17],[37,10,26,16],[37,17,26,23,"now"],[37,20,26,26],[37,21,26,27],[37,22,26,28],[38,8,27,12],[39,6,28,8],[39,7,28,9],[39,8,28,10],[39,12,28,14],[39,16,28,18],[40,6,29,8,"_this"],[40,11,29,13],[40,12,29,14,"actions"],[40,19,29,21],[40,22,29,24],[40,24,29,26],[41,6,30,8,"_this"],[41,11,30,13],[41,12,30,14,"active"],[41,18,30,20],[41,21,30,23],[41,26,30,28],[42,6,31,8,"_this"],[42,11,31,13],[42,12,31,14,"scheduled"],[42,21,31,23],[42,24,31,26,"undefined"],[42,33,31,35],[43,6,32,8],[43,13,32,15,"_this"],[43,18,32,20],[44,4,33,4],[45,4,34,4,"AsyncScheduler"],[45,18,34,18],[45,19,34,19,"prototype"],[45,28,34,28],[45,29,34,29,"schedule"],[45,37,34,37],[45,40,34,40],[45,50,34,50,"work"],[45,54,34,54],[45,56,34,56,"delay"],[45,61,34,61],[45,63,34,63,"state"],[45,68,34,68],[45,70,34,70],[46,6,35,8],[46,10,35,12,"delay"],[46,15,35,17],[46,20,35,22],[46,25,35,27],[46,26,35,28],[46,28,35,30],[47,8,35,32,"delay"],[47,13,35,37],[47,16,35,40],[47,17,35,41],[48,6,35,43],[49,6,36,8],[49,10,36,12,"AsyncScheduler"],[49,24,36,26],[49,25,36,27,"delegate"],[49,33,36,35],[49,37,36,39,"AsyncScheduler"],[49,51,36,53],[49,52,36,54,"delegate"],[49,60,36,62],[49,65,36,67],[49,69,36,71],[49,71,36,73],[50,8,37,12],[50,15,37,19,"AsyncScheduler"],[50,29,37,33],[50,30,37,34,"delegate"],[50,38,37,42],[50,39,37,43,"schedule"],[50,47,37,51],[50,48,37,52,"work"],[50,52,37,56],[50,54,37,58,"delay"],[50,59,37,63],[50,61,37,65,"state"],[50,66,37,70],[50,67,37,71],[51,6,38,8],[51,7,38,9],[51,13,39,13],[52,8,40,12],[52,15,40,19,"_super"],[52,21,40,25],[52,22,40,26,"prototype"],[52,31,40,35],[52,32,40,36,"schedule"],[52,40,40,44],[52,41,40,45,"call"],[52,45,40,49],[52,46,40,50],[52,50,40,54],[52,52,40,56,"work"],[52,56,40,60],[52,58,40,62,"delay"],[52,63,40,67],[52,65,40,69,"state"],[52,70,40,74],[52,71,40,75],[53,6,41,8],[54,4,42,4],[54,5,42,5],[55,4,43,4,"AsyncScheduler"],[55,18,43,18],[55,19,43,19,"prototype"],[55,28,43,28],[55,29,43,29,"flush"],[55,34,43,34],[55,37,43,37],[55,47,43,47,"action"],[55,53,43,53],[55,55,43,55],[56,6,44,8],[56,10,44,12,"actions"],[56,17,44,19],[56,20,44,22],[56,24,44,26],[56,25,44,27,"actions"],[56,32,44,34],[57,6,45,8],[57,10,45,12],[57,14,45,16],[57,15,45,17,"active"],[57,21,45,23],[57,23,45,25],[58,8,46,12,"actions"],[58,15,46,19],[58,16,46,20,"push"],[58,20,46,24],[58,21,46,25,"action"],[58,27,46,31],[58,28,46,32],[59,8,47,12],[60,6,48,8],[61,6,49,8],[61,10,49,12,"error"],[61,15,49,17],[62,6,50,8],[62,10,50,12],[62,11,50,13,"active"],[62,17,50,19],[62,20,50,22],[62,24,50,26],[63,6,51,8],[63,9,51,11],[64,8,52,12],[64,12,52,16,"error"],[64,17,52,21],[64,20,52,24,"action"],[64,26,52,30],[64,27,52,31,"execute"],[64,34,52,38],[64,35,52,39,"action"],[64,41,52,45],[64,42,52,46,"state"],[64,47,52,51],[64,49,52,53,"action"],[64,55,52,59],[64,56,52,60,"delay"],[64,61,52,65],[64,62,52,66],[64,64,52,68],[65,10,53,16],[66,8,54,12],[67,6,55,8],[67,7,55,9],[67,15,55,17,"action"],[67,21,55,23],[67,24,55,26,"actions"],[67,31,55,33],[67,32,55,34,"shift"],[67,37,55,39],[67,38,55,40],[67,39,55,41],[68,6,56,8],[68,10,56,12],[68,11,56,13,"active"],[68,17,56,19],[68,20,56,22],[68,25,56,27],[69,6,57,8],[69,10,57,12,"error"],[69,15,57,17],[69,17,57,19],[70,8,58,12],[70,15,58,19,"action"],[70,21,58,25],[70,24,58,28,"actions"],[70,31,58,35],[70,32,58,36,"shift"],[70,37,58,41],[70,38,58,42],[70,39,58,43],[70,41,58,45],[71,10,59,16,"action"],[71,16,59,22],[71,17,59,23,"unsubscribe"],[71,28,59,34],[71,29,59,35],[71,30,59,36],[72,8,60,12],[73,8,61,12],[73,14,61,18,"error"],[73,19,61,23],[74,6,62,8],[75,4,63,4],[75,5,63,5],[76,4,64,4],[76,11,64,11,"AsyncScheduler"],[76,25,64,25],[77,2,65,0],[77,3,65,1],[77,4,65,2,"Scheduler_1"],[77,15,65,13],[77,16,65,14,"Scheduler"],[77,25,65,23],[77,26,65,25],[78,2,66,0,"exports"],[78,9,66,7],[78,10,66,8,"AsyncScheduler"],[78,24,66,22],[78,27,66,25,"AsyncScheduler"],[78,41,66,39],[79,0,66,40],[79,3]],"functionMap":{"names":["<global>","<anonymous>","extendStatics","__","AsyncScheduler","_super.call$argument_2","prototype.schedule","prototype.flush"],"mappings":"AAA;6CCC;wBCC;mDDE,oCC;YDC,0EC;KDE;QEG,uCF;CDG;sBCG;IGE;uDCE;SDO;KHK;wCKC;KLQ;qCMC;KNoB;CDE"},"hasCjsExports":true},"type":"js/module"}]}