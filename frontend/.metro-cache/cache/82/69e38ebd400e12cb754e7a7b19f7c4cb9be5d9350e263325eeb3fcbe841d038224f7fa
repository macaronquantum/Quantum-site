{"dependencies":[{"name":"@babel/runtime/helpers/objectWithoutPropertiesLoose","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"HFkXuFcBAqfzGtqyPj8g62MKT0M=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  const _excluded = [\"scheme\", \"statement\"],\n    _excluded2 = [\"chainId\", \"expirationTime\", \"issuedAt\", \"notBefore\", \"requestId\"];\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.parseSiweMessage = parseSiweMessage;\n  var _babelRuntimeHelpersObjectWithoutPropertiesLoose = require(_dependencyMap[0], \"@babel/runtime/helpers/objectWithoutPropertiesLoose\");\n  var _objectWithoutPropertiesLoose = _interopDefault(_babelRuntimeHelpersObjectWithoutPropertiesLoose);\n  /**\n   * @description Parses EIP-4361 formatted message into message fields object.\n   *\n   * @see https://eips.ethereum.org/EIPS/eip-4361\n   *\n   * @returns EIP-4361 fields object\n   */\n  function parseSiweMessage(message) {\n    const _ref = message.match(prefixRegex)?.groups ?? {},\n      {\n        scheme,\n        statement\n      } = _ref,\n      prefix = (0, _objectWithoutPropertiesLoose.default)(_ref, _excluded);\n    const _ref2 = message.match(suffixRegex)?.groups ?? {},\n      {\n        chainId,\n        expirationTime,\n        issuedAt,\n        notBefore,\n        requestId\n      } = _ref2,\n      suffix = (0, _objectWithoutPropertiesLoose.default)(_ref2, _excluded2);\n    const resources = message.split('Resources:')[1]?.split('\\n- ').slice(1);\n    return Object.assign({}, prefix, suffix, chainId ? {\n      chainId: Number(chainId)\n    } : {}, expirationTime ? {\n      expirationTime: new Date(expirationTime)\n    } : {}, issuedAt ? {\n      issuedAt: new Date(issuedAt)\n    } : {}, notBefore ? {\n      notBefore: new Date(notBefore)\n    } : {}, requestId ? {\n      requestId\n    } : {}, resources ? {\n      resources\n    } : {}, scheme ? {\n      scheme\n    } : {}, statement ? {\n      statement\n    } : {});\n  }\n  // https://regexr.com/80gdj\n  const prefixRegex = /^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\\/\\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\\n)(?<address>0x[a-fA-F0-9]{40})\\n\\n(?:(?<statement>.*)\\n\\n)?/;\n  // https://regexr.com/80gf9\n  const suffixRegex = /(?:URI: (?<uri>.+))\\n(?:Version: (?<version>.+))\\n(?:Chain ID: (?<chainId>\\d+))\\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\\n(?:Issued At: (?<issuedAt>.+))(?:\\nExpiration Time: (?<expirationTime>.+))?(?:\\nNot Before: (?<notBefore>.+))?(?:\\nRequest ID: (?<requestId>.+))?/;\n});","lineCount":63,"map":[[14,2,8,0,"exports"],[14,9,8,0],[14,10,8,0,"parseSiweMessage"],[14,26,8,0],[14,29,8,0,"parseSiweMessage"],[14,45,8,0],[15,2,25,1],[15,6,25,1,"_babelRuntimeHelpersObjectWithoutPropertiesLoose"],[15,54,25,1],[15,57,25,1,"require"],[15,64,25,1],[15,65,25,1,"_dependencyMap"],[15,79,25,1],[16,2,25,1],[16,6,25,1,"_objectWithoutPropertiesLoose"],[16,35,25,1],[16,38,25,1,"_interopDefault"],[16,53,25,1],[16,54,25,1,"_babelRuntimeHelpersObjectWithoutPropertiesLoose"],[16,102,25,1],[17,2,1,0],[18,0,2,0],[19,0,3,0],[20,0,4,0],[21,0,5,0],[22,0,6,0],[23,0,7,0],[24,2,8,7],[24,11,8,16,"parseSiweMessage"],[24,27,8,32,"parseSiweMessage"],[24,28,8,33,"message"],[24,35,8,40],[24,37,8,42],[25,4,9,4],[25,10,9,4,"_ref"],[25,14,9,4],[25,17,9,46,"message"],[25,24,9,53],[25,25,9,54,"match"],[25,30,9,59],[25,31,9,60,"prefixRegex"],[25,42,9,71],[25,43,9,72],[25,45,10,10,"groups"],[25,51,10,16],[25,55,10,20],[25,56,10,21],[25,57,10,22],[26,6,9,10],[27,8,9,12,"scheme"],[27,14,9,18],[28,8,9,20,"statement"],[29,6,9,41],[29,7,9,42],[29,10,9,42,"_ref"],[29,14,9,42],[30,6,9,34,"prefix"],[30,12,9,40],[30,19,9,40,"_objectWithoutPropertiesLoose"],[30,48,9,40],[30,49,9,40,"default"],[30,56,9,40],[30,58,9,40,"_ref"],[30,62,9,40],[30,64,9,40,"_excluded"],[30,73,9,40],[31,4,11,4],[31,10,11,4,"_ref2"],[31,15,11,4],[31,18,11,84,"message"],[31,25,11,91],[31,26,11,92,"match"],[31,31,11,97],[31,32,11,98,"suffixRegex"],[31,43,11,109],[31,44,11,110],[31,46,11,112,"groups"],[31,52,11,118],[31,56,11,122],[31,57,11,123],[31,58,11,124],[32,6,11,10],[33,8,11,12,"chainId"],[33,15,11,19],[34,8,11,21,"expirationTime"],[34,22,11,35],[35,8,11,37,"issuedAt"],[35,16,11,45],[36,8,11,47,"notBefore"],[36,17,11,56],[37,8,11,58,"requestId"],[38,6,11,79],[38,7,11,80],[38,10,11,80,"_ref2"],[38,15,11,80],[39,6,11,72,"suffix"],[39,12,11,78],[39,19,11,78,"_objectWithoutPropertiesLoose"],[39,48,11,78],[39,49,11,78,"default"],[39,56,11,78],[39,58,11,78,"_ref2"],[39,63,11,78],[39,65,11,78,"_excluded2"],[39,75,11,78],[40,4,12,4],[40,10,12,10,"resources"],[40,19,12,19],[40,22,12,22,"message"],[40,29,12,29],[40,30,12,30,"split"],[40,35,12,35],[40,36,12,36],[40,48,12,48],[40,49,12,49],[40,50,12,50],[40,51,12,51],[40,52,12,52],[40,54,12,54,"split"],[40,59,12,59],[40,60,12,60],[40,66,12,66],[40,67,12,67],[40,68,12,68,"slice"],[40,73,12,73],[40,74,12,74],[40,75,12,75],[40,76,12,76],[41,4,13,4],[41,11,13,4,"Object"],[41,17,13,4],[41,18,13,4,"assign"],[41,24,13,4],[41,29,14,11,"prefix"],[41,35,14,17],[41,37,15,11,"suffix"],[41,43,15,17],[41,45,16,12,"chainId"],[41,52,16,19],[41,55,16,22],[42,6,16,24,"chainId"],[42,13,16,31],[42,15,16,33,"Number"],[42,21,16,39],[42,22,16,40,"chainId"],[42,29,16,47],[43,4,16,49],[43,5,16,50],[43,8,16,53],[43,9,16,54],[43,10,16,55],[43,12,17,12,"expirationTime"],[43,26,17,26],[43,29,17,29],[44,6,17,31,"expirationTime"],[44,20,17,45],[44,22,17,47],[44,26,17,51,"Date"],[44,30,17,55],[44,31,17,56,"expirationTime"],[44,45,17,70],[45,4,17,72],[45,5,17,73],[45,8,17,76],[45,9,17,77],[45,10,17,78],[45,12,18,12,"issuedAt"],[45,20,18,20],[45,23,18,23],[46,6,18,25,"issuedAt"],[46,14,18,33],[46,16,18,35],[46,20,18,39,"Date"],[46,24,18,43],[46,25,18,44,"issuedAt"],[46,33,18,52],[47,4,18,54],[47,5,18,55],[47,8,18,58],[47,9,18,59],[47,10,18,60],[47,12,19,12,"notBefore"],[47,21,19,21],[47,24,19,24],[48,6,19,26,"notBefore"],[48,15,19,35],[48,17,19,37],[48,21,19,41,"Date"],[48,25,19,45],[48,26,19,46,"notBefore"],[48,35,19,55],[49,4,19,57],[49,5,19,58],[49,8,19,61],[49,9,19,62],[49,10,19,63],[49,12,20,12,"requestId"],[49,21,20,21],[49,24,20,24],[50,6,20,26,"requestId"],[51,4,20,36],[51,5,20,37],[51,8,20,40],[51,9,20,41],[51,10,20,42],[51,12,21,12,"resources"],[51,21,21,21],[51,24,21,24],[52,6,21,26,"resources"],[53,4,21,36],[53,5,21,37],[53,8,21,40],[53,9,21,41],[53,10,21,42],[53,12,22,12,"scheme"],[53,18,22,18],[53,21,22,21],[54,6,22,23,"scheme"],[55,4,22,30],[55,5,22,31],[55,8,22,34],[55,9,22,35],[55,10,22,36],[55,12,23,12,"statement"],[55,21,23,21],[55,24,23,24],[56,6,23,26,"statement"],[57,4,23,36],[57,5,23,37],[57,8,23,40],[57,9,23,41],[57,10,23,42],[58,2,25,0],[59,2,26,0],[60,2,27,0],[60,8,27,6,"prefixRegex"],[60,19,27,17],[60,22,27,20],[60,224,27,222],[61,2,28,0],[62,2,29,0],[62,8,29,6,"suffixRegex"],[62,19,29,17],[62,22,29,20],[62,285,29,283],[63,0,29,284],[63,3]],"functionMap":{"names":["<global>","parseSiweMessage"],"mappings":"AAA;OCO;CDiB"},"hasCjsExports":false},"type":"js/module"}]}