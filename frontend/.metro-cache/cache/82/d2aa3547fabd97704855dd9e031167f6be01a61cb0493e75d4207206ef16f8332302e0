{"dependencies":[{"name":"../../utils/encoding/toHex.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":54,"index":54}}],"key":"U2IsyW1seIe5m4FUbe8axrr/0FQ=","exportNames":["*"],"imports":1}},{"name":"../constants/number.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":55},"end":{"line":2,"column":62,"index":117}}],"key":"YipcbaENM30OXVCb8uL8zbkIUSU=","exportNames":["*"],"imports":1}},{"name":"./assertEip712Transaction.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":118},"end":{"line":3,"column":71,"index":189}}],"key":"TVFE/lMbpTH29hQaHLA4Tywpycw=","exportNames":["*"],"imports":1}},{"name":"./hashBytecode.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":190},"end":{"line":4,"column":49,"index":239}}],"key":"MndZwjk8jUWTHIIeKBGyhRDm7jE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"getEip712Domain\", {\n    enumerable: true,\n    get: function () {\n      return getEip712Domain;\n    }\n  });\n  var _utilsEncodingToHexJs = require(_dependencyMap[0], \"../../utils/encoding/toHex.js\");\n  var _constantsNumberJs = require(_dependencyMap[1], \"../constants/number.js\");\n  var _assertEip712TransactionJs = require(_dependencyMap[2], \"./assertEip712Transaction.js\");\n  var _hashBytecodeJs = require(_dependencyMap[3], \"./hashBytecode.js\");\n  const getEip712Domain = transaction => {\n    (0, _assertEip712TransactionJs.assertEip712Transaction)(transaction);\n    const message = transactionToMessage(transaction);\n    return {\n      domain: {\n        name: 'zkSync',\n        version: '2',\n        chainId: transaction.chainId\n      },\n      types: {\n        Transaction: [{\n          name: 'txType',\n          type: 'uint256'\n        }, {\n          name: 'from',\n          type: 'uint256'\n        }, {\n          name: 'to',\n          type: 'uint256'\n        }, {\n          name: 'gasLimit',\n          type: 'uint256'\n        }, {\n          name: 'gasPerPubdataByteLimit',\n          type: 'uint256'\n        }, {\n          name: 'maxFeePerGas',\n          type: 'uint256'\n        }, {\n          name: 'maxPriorityFeePerGas',\n          type: 'uint256'\n        }, {\n          name: 'paymaster',\n          type: 'uint256'\n        }, {\n          name: 'nonce',\n          type: 'uint256'\n        }, {\n          name: 'value',\n          type: 'uint256'\n        }, {\n          name: 'data',\n          type: 'bytes'\n        }, {\n          name: 'factoryDeps',\n          type: 'bytes32[]'\n        }, {\n          name: 'paymasterInput',\n          type: 'bytes'\n        }]\n      },\n      primaryType: 'Transaction',\n      message: message\n    };\n  };\n  //////////////////////////////////////////////////////////////////////////////\n  // Utilities\n  function transactionToMessage(transaction) {\n    const {\n      gas,\n      nonce,\n      to,\n      from,\n      value,\n      maxFeePerGas,\n      maxPriorityFeePerGas,\n      factoryDeps,\n      paymaster,\n      paymasterInput,\n      gasPerPubdata,\n      data\n    } = transaction;\n    return {\n      txType: 113n,\n      from: BigInt(from),\n      to: to ? BigInt(to) : 0n,\n      gasLimit: gas ?? 0n,\n      gasPerPubdataByteLimit: gasPerPubdata ?? _constantsNumberJs.gasPerPubdataDefault,\n      maxFeePerGas: maxFeePerGas ?? 0n,\n      maxPriorityFeePerGas: maxPriorityFeePerGas ?? 0n,\n      paymaster: paymaster ? BigInt(paymaster) : 0n,\n      nonce: nonce ? BigInt(nonce) : 0n,\n      value: value ?? 0n,\n      data: data ?? '0x',\n      factoryDeps: factoryDeps?.map(dep => (0, _utilsEncodingToHexJs.toHex)((0, _hashBytecodeJs.hashBytecode)(dep))) ?? [],\n      paymasterInput: paymasterInput ? paymasterInput : '0x'\n    };\n  }\n});","lineCount":105,"map":[[7,2,5,0,"Object"],[7,8,5,0],[7,9,5,0,"defineProperty"],[7,23,5,0],[7,24,5,0,"exports"],[7,31,5,0],[8,4,5,0,"enumerable"],[8,14,5,0],[9,4,5,0,"get"],[9,7,5,0],[9,18,5,0,"get"],[9,19,5,0],[10,6,5,0],[10,13,5,0,"getEip712Domain"],[10,28,5,0],[11,4,5,0],[12,2,5,0],[13,2,1,0],[13,6,1,0,"_utilsEncodingToHexJs"],[13,27,1,0],[13,30,1,0,"require"],[13,37,1,0],[13,38,1,0,"_dependencyMap"],[13,52,1,0],[14,2,2,0],[14,6,2,0,"_constantsNumberJs"],[14,24,2,0],[14,27,2,0,"require"],[14,34,2,0],[14,35,2,0,"_dependencyMap"],[14,49,2,0],[15,2,3,0],[15,6,3,0,"_assertEip712TransactionJs"],[15,32,3,0],[15,35,3,0,"require"],[15,42,3,0],[15,43,3,0,"_dependencyMap"],[15,57,3,0],[16,2,4,0],[16,6,4,0,"_hashBytecodeJs"],[16,21,4,0],[16,24,4,0,"require"],[16,31,4,0],[16,32,4,0,"_dependencyMap"],[16,46,4,0],[17,2,5,7],[17,8,5,13,"getEip712Domain"],[17,23,5,28],[17,26,5,32,"transaction"],[17,37,5,43],[17,41,5,48],[18,4,6,4],[18,8,6,4,"assertEip712Transaction"],[18,34,6,27],[18,35,6,27,"assertEip712Transaction"],[18,58,6,27],[18,60,6,28,"transaction"],[18,71,6,39],[18,72,6,40],[19,4,7,4],[19,10,7,10,"message"],[19,17,7,17],[19,20,7,20,"transactionToMessage"],[19,40,7,40],[19,41,7,41,"transaction"],[19,52,7,52],[19,53,7,53],[20,4,8,4],[20,11,8,11],[21,6,9,8,"domain"],[21,12,9,14],[21,14,9,16],[22,8,10,12,"name"],[22,12,10,16],[22,14,10,18],[22,22,10,26],[23,8,11,12,"version"],[23,15,11,19],[23,17,11,21],[23,20,11,24],[24,8,12,12,"chainId"],[24,15,12,19],[24,17,12,21,"transaction"],[24,28,12,32],[24,29,12,33,"chainId"],[25,6,13,8],[25,7,13,9],[26,6,14,8,"types"],[26,11,14,13],[26,13,14,15],[27,8,15,12,"Transaction"],[27,19,15,23],[27,21,15,25],[27,22,16,16],[28,10,16,18,"name"],[28,14,16,22],[28,16,16,24],[28,24,16,32],[29,10,16,34,"type"],[29,14,16,38],[29,16,16,40],[30,8,16,50],[30,9,16,51],[30,11,17,16],[31,10,17,18,"name"],[31,14,17,22],[31,16,17,24],[31,22,17,30],[32,10,17,32,"type"],[32,14,17,36],[32,16,17,38],[33,8,17,48],[33,9,17,49],[33,11,18,16],[34,10,18,18,"name"],[34,14,18,22],[34,16,18,24],[34,20,18,28],[35,10,18,30,"type"],[35,14,18,34],[35,16,18,36],[36,8,18,46],[36,9,18,47],[36,11,19,16],[37,10,19,18,"name"],[37,14,19,22],[37,16,19,24],[37,26,19,34],[38,10,19,36,"type"],[38,14,19,40],[38,16,19,42],[39,8,19,52],[39,9,19,53],[39,11,20,16],[40,10,20,18,"name"],[40,14,20,22],[40,16,20,24],[40,40,20,48],[41,10,20,50,"type"],[41,14,20,54],[41,16,20,56],[42,8,20,66],[42,9,20,67],[42,11,21,16],[43,10,21,18,"name"],[43,14,21,22],[43,16,21,24],[43,30,21,38],[44,10,21,40,"type"],[44,14,21,44],[44,16,21,46],[45,8,21,56],[45,9,21,57],[45,11,22,16],[46,10,22,18,"name"],[46,14,22,22],[46,16,22,24],[46,38,22,46],[47,10,22,48,"type"],[47,14,22,52],[47,16,22,54],[48,8,22,64],[48,9,22,65],[48,11,23,16],[49,10,23,18,"name"],[49,14,23,22],[49,16,23,24],[49,27,23,35],[50,10,23,37,"type"],[50,14,23,41],[50,16,23,43],[51,8,23,53],[51,9,23,54],[51,11,24,16],[52,10,24,18,"name"],[52,14,24,22],[52,16,24,24],[52,23,24,31],[53,10,24,33,"type"],[53,14,24,37],[53,16,24,39],[54,8,24,49],[54,9,24,50],[54,11,25,16],[55,10,25,18,"name"],[55,14,25,22],[55,16,25,24],[55,23,25,31],[56,10,25,33,"type"],[56,14,25,37],[56,16,25,39],[57,8,25,49],[57,9,25,50],[57,11,26,16],[58,10,26,18,"name"],[58,14,26,22],[58,16,26,24],[58,22,26,30],[59,10,26,32,"type"],[59,14,26,36],[59,16,26,38],[60,8,26,46],[60,9,26,47],[60,11,27,16],[61,10,27,18,"name"],[61,14,27,22],[61,16,27,24],[61,29,27,37],[62,10,27,39,"type"],[62,14,27,43],[62,16,27,45],[63,8,27,57],[63,9,27,58],[63,11,28,16],[64,10,28,18,"name"],[64,14,28,22],[64,16,28,24],[64,32,28,40],[65,10,28,42,"type"],[65,14,28,46],[65,16,28,48],[66,8,28,56],[66,9,28,57],[67,6,30,8],[67,7,30,9],[68,6,31,8,"primaryType"],[68,17,31,19],[68,19,31,21],[68,32,31,34],[69,6,32,8,"message"],[69,13,32,15],[69,15,32,17,"message"],[70,4,33,4],[70,5,33,5],[71,2,34,0],[71,3,34,1],[72,2,35,0],[73,2,36,0],[74,2,37,0],[74,11,37,9,"transactionToMessage"],[74,31,37,29,"transactionToMessage"],[74,32,37,30,"transaction"],[74,43,37,41],[74,45,37,43],[75,4,38,4],[75,10,38,10],[76,6,38,12,"gas"],[76,9,38,15],[77,6,38,17,"nonce"],[77,11,38,22],[78,6,38,24,"to"],[78,8,38,26],[79,6,38,28,"from"],[79,10,38,32],[80,6,38,34,"value"],[80,11,38,39],[81,6,38,41,"maxFeePerGas"],[81,18,38,53],[82,6,38,55,"maxPriorityFeePerGas"],[82,26,38,75],[83,6,38,77,"factoryDeps"],[83,17,38,88],[84,6,38,90,"paymaster"],[84,15,38,99],[85,6,38,101,"paymasterInput"],[85,20,38,115],[86,6,38,117,"gasPerPubdata"],[86,19,38,130],[87,6,38,132,"data"],[88,4,38,138],[88,5,38,139],[88,8,38,142,"transaction"],[88,19,38,153],[89,4,39,4],[89,11,39,11],[90,6,40,8,"txType"],[90,12,40,14],[90,14,40,16],[90,18,40,20],[91,6,41,8,"from"],[91,10,41,12],[91,12,41,14,"BigInt"],[91,18,41,20],[91,19,41,21,"from"],[91,23,41,25],[91,24,41,26],[92,6,42,8,"to"],[92,8,42,10],[92,10,42,12,"to"],[92,12,42,14],[92,15,42,17,"BigInt"],[92,21,42,23],[92,22,42,24,"to"],[92,24,42,26],[92,25,42,27],[92,28,42,30],[92,30,42,32],[93,6,43,8,"gasLimit"],[93,14,43,16],[93,16,43,18,"gas"],[93,19,43,21],[93,23,43,25],[93,25,43,27],[94,6,44,8,"gasPerPubdataByteLimit"],[94,28,44,30],[94,30,44,32,"gasPerPubdata"],[94,43,44,45],[94,47,44,49,"gasPerPubdataDefault"],[94,65,44,69],[94,66,44,69,"gasPerPubdataDefault"],[94,86,44,69],[95,6,45,8,"maxFeePerGas"],[95,18,45,20],[95,20,45,22,"maxFeePerGas"],[95,32,45,34],[95,36,45,38],[95,38,45,40],[96,6,46,8,"maxPriorityFeePerGas"],[96,26,46,28],[96,28,46,30,"maxPriorityFeePerGas"],[96,48,46,50],[96,52,46,54],[96,54,46,56],[97,6,47,8,"paymaster"],[97,15,47,17],[97,17,47,19,"paymaster"],[97,26,47,28],[97,29,47,31,"BigInt"],[97,35,47,37],[97,36,47,38,"paymaster"],[97,45,47,47],[97,46,47,48],[97,49,47,51],[97,51,47,53],[98,6,48,8,"nonce"],[98,11,48,13],[98,13,48,15,"nonce"],[98,18,48,20],[98,21,48,23,"BigInt"],[98,27,48,29],[98,28,48,30,"nonce"],[98,33,48,35],[98,34,48,36],[98,37,48,39],[98,39,48,41],[99,6,49,8,"value"],[99,11,49,13],[99,13,49,15,"value"],[99,18,49,20],[99,22,49,24],[99,24,49,26],[100,6,50,8,"data"],[100,10,50,12],[100,12,50,14,"data"],[100,16,50,18],[100,20,50,22],[100,24,50,26],[101,6,51,8,"factoryDeps"],[101,17,51,19],[101,19,51,21,"factoryDeps"],[101,30,51,32],[101,32,51,34,"map"],[101,35,51,37],[101,36,51,39,"dep"],[101,39,51,42],[101,43,51,47],[101,47,51,47,"toHex"],[101,68,51,52],[101,69,51,52,"toHex"],[101,74,51,52],[101,76,51,53],[101,80,51,53,"hashBytecode"],[101,95,51,65],[101,96,51,65,"hashBytecode"],[101,108,51,65],[101,110,51,66,"dep"],[101,113,51,69],[101,114,51,70],[101,115,51,71],[101,116,51,72],[101,120,51,76],[101,122,51,78],[102,6,52,8,"paymasterInput"],[102,20,52,22],[102,22,52,24,"paymasterInput"],[102,36,52,38],[102,39,52,41,"paymasterInput"],[102,53,52,55],[102,56,52,58],[103,4,53,4],[103,5,53,5],[104,2,54,0],[105,0,54,1],[105,3]],"functionMap":{"names":["<global>","getEip712Domain","transactionToMessage","factoryDeps.map$argument_0"],"mappings":"AAA;+BCI;CD6B;AEG;sCCc,iCD;CFG"},"hasCjsExports":false},"type":"js/module"}]}