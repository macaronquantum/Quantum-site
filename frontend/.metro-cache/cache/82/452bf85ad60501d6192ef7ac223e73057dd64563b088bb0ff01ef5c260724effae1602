{"dependencies":[{"name":"../../utils/abi/parseEventLogs.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":67,"index":67}}],"key":"5J0jkxGljI3yvpLZrF+JQDpqGa4=","exportNames":["*"],"imports":1}},{"name":"../../utils/formatters/log.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":68},"end":{"line":2,"column":59,"index":127}}],"key":"Z0CbYPscFWJvOzDU0/CQsSb0bbA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.getFilterChanges = getFilterChanges;\n  var _utilsAbiParseEventLogsJs = require(_dependencyMap[0], \"../../utils/abi/parseEventLogs.js\");\n  var _utilsFormattersLogJs = require(_dependencyMap[1], \"../../utils/formatters/log.js\");\n  /**\n   * Returns a list of logs or hashes based on a [Filter](/docs/glossary/terms#filter) since the last time it was called.\n   *\n   * - Docs: https://viem.sh/docs/actions/public/getFilterChanges\n   * - JSON-RPC Methods: [`eth_getFilterChanges`](https://ethereum.org/en/developers/docs/apis/json-rpc/#eth_getfilterchanges)\n   *\n   * A Filter can be created from the following actions:\n   *\n   * - [`createBlockFilter`](https://viem.sh/docs/actions/public/createBlockFilter)\n   * - [`createContractEventFilter`](https://viem.sh/docs/contract/createContractEventFilter)\n   * - [`createEventFilter`](https://viem.sh/docs/actions/public/createEventFilter)\n   * - [`createPendingTransactionFilter`](https://viem.sh/docs/actions/public/createPendingTransactionFilter)\n   *\n   * Depending on the type of filter, the return value will be different:\n   *\n   * - If the filter was created with `createContractEventFilter` or `createEventFilter`, it returns a list of logs.\n   * - If the filter was created with `createPendingTransactionFilter`, it returns a list of transaction hashes.\n   * - If the filter was created with `createBlockFilter`, it returns a list of block hashes.\n   *\n   * @param client - Client to use\n   * @param parameters - {@link GetFilterChangesParameters}\n   * @returns Logs or hashes. {@link GetFilterChangesReturnType}\n   *\n   * @example\n   * // Blocks\n   * import { createPublicClient, http } from 'viem'\n   * import { mainnet } from 'viem/chains'\n   * import { createBlockFilter, getFilterChanges } from 'viem/public'\n   *\n   * const client = createPublicClient({\n   *   chain: mainnet,\n   *   transport: http(),\n   * })\n   * const filter = await createBlockFilter(client)\n   * const hashes = await getFilterChanges(client, { filter })\n   *\n   * @example\n   * // Contract Events\n   * import { createPublicClient, http, parseAbi } from 'viem'\n   * import { mainnet } from 'viem/chains'\n   * import { createContractEventFilter, getFilterChanges } from 'viem/public'\n   *\n   * const client = createPublicClient({\n   *   chain: mainnet,\n   *   transport: http(),\n   * })\n   * const filter = await createContractEventFilter(client, {\n   *   address: '0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48',\n   *   abi: parseAbi(['event Transfer(address indexed, address indexed, uint256)']),\n   *   eventName: 'Transfer',\n   * })\n   * const logs = await getFilterChanges(client, { filter })\n   *\n   * @example\n   * // Raw Events\n   * import { createPublicClient, http, parseAbiItem } from 'viem'\n   * import { mainnet } from 'viem/chains'\n   * import { createEventFilter, getFilterChanges } from 'viem/public'\n   *\n   * const client = createPublicClient({\n   *   chain: mainnet,\n   *   transport: http(),\n   * })\n   * const filter = await createEventFilter(client, {\n   *   address: '0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48',\n   *   event: parseAbiItem('event Transfer(address indexed, address indexed, uint256)'),\n   * })\n   * const logs = await getFilterChanges(client, { filter })\n   *\n   * @example\n   * // Transactions\n   * import { createPublicClient, http } from 'viem'\n   * import { mainnet } from 'viem/chains'\n   * import { createPendingTransactionFilter, getFilterChanges } from 'viem/public'\n   *\n   * const client = createPublicClient({\n   *   chain: mainnet,\n   *   transport: http(),\n   * })\n   * const filter = await createPendingTransactionFilter(client)\n   * const hashes = await getFilterChanges(client, { filter })\n   */\n  async function getFilterChanges(_client, {\n    filter\n  }) {\n    const strict = 'strict' in filter && filter.strict;\n    const logs = await filter.request({\n      method: 'eth_getFilterChanges',\n      params: [filter.id]\n    });\n    if (typeof logs[0] === 'string') return logs;\n    const formattedLogs = logs.map(log => (0, _utilsFormattersLogJs.formatLog)(log));\n    if (!('abi' in filter) || !filter.abi) return formattedLogs;\n    return (0, _utilsAbiParseEventLogsJs.parseEventLogs)({\n      abi: filter.abi,\n      logs: formattedLogs,\n      strict\n    });\n  }\n});","lineCount":109,"map":[[7,2,85,0,"exports"],[7,9,85,0],[7,10,85,0,"getFilterChanges"],[7,26,85,0],[7,29,85,0,"getFilterChanges"],[7,45,85,0],[8,2,1,0],[8,6,1,0,"_utilsAbiParseEventLogsJs"],[8,31,1,0],[8,34,1,0,"require"],[8,41,1,0],[8,42,1,0,"_dependencyMap"],[8,56,1,0],[9,2,2,0],[9,6,2,0,"_utilsFormattersLogJs"],[9,27,2,0],[9,30,2,0,"require"],[9,37,2,0],[9,38,2,0,"_dependencyMap"],[9,52,2,0],[10,2,3,0],[11,0,4,0],[12,0,5,0],[13,0,6,0],[14,0,7,0],[15,0,8,0],[16,0,9,0],[17,0,10,0],[18,0,11,0],[19,0,12,0],[20,0,13,0],[21,0,14,0],[22,0,15,0],[23,0,16,0],[24,0,17,0],[25,0,18,0],[26,0,19,0],[27,0,20,0],[28,0,21,0],[29,0,22,0],[30,0,23,0],[31,0,24,0],[32,0,25,0],[33,0,26,0],[34,0,27,0],[35,0,28,0],[36,0,29,0],[37,0,30,0],[38,0,31,0],[39,0,32,0],[40,0,33,0],[41,0,34,0],[42,0,35,0],[43,0,36,0],[44,0,37,0],[45,0,38,0],[46,0,39,0],[47,0,40,0],[48,0,41,0],[49,0,42,0],[50,0,43,0],[51,0,44,0],[52,0,45,0],[53,0,46,0],[54,0,47,0],[55,0,48,0],[56,0,49,0],[57,0,50,0],[58,0,51,0],[59,0,52,0],[60,0,53,0],[61,0,54,0],[62,0,55,0],[63,0,56,0],[64,0,57,0],[65,0,58,0],[66,0,59,0],[67,0,60,0],[68,0,61,0],[69,0,62,0],[70,0,63,0],[71,0,64,0],[72,0,65,0],[73,0,66,0],[74,0,67,0],[75,0,68,0],[76,0,69,0],[77,0,70,0],[78,0,71,0],[79,0,72,0],[80,0,73,0],[81,0,74,0],[82,0,75,0],[83,0,76,0],[84,0,77,0],[85,0,78,0],[86,0,79,0],[87,0,80,0],[88,0,81,0],[89,0,82,0],[90,0,83,0],[91,0,84,0],[92,2,85,7],[92,17,85,22,"getFilterChanges"],[92,33,85,38,"getFilterChanges"],[92,34,85,39,"_client"],[92,41,85,46],[92,43,85,48],[93,4,85,50,"filter"],[94,2,85,58],[94,3,85,59],[94,5,85,61],[95,4,86,4],[95,10,86,10,"strict"],[95,16,86,16],[95,19,86,19],[95,27,86,27],[95,31,86,31,"filter"],[95,37,86,37],[95,41,86,41,"filter"],[95,47,86,47],[95,48,86,48,"strict"],[95,54,86,54],[96,4,87,4],[96,10,87,10,"logs"],[96,14,87,14],[96,17,87,17],[96,23,87,23,"filter"],[96,29,87,29],[96,30,87,30,"request"],[96,37,87,37],[96,38,87,38],[97,6,88,8,"method"],[97,12,88,14],[97,14,88,16],[97,36,88,38],[98,6,89,8,"params"],[98,12,89,14],[98,14,89,16],[98,15,89,17,"filter"],[98,21,89,23],[98,22,89,24,"id"],[98,24,89,26],[99,4,90,4],[99,5,90,5],[99,6,90,6],[100,4,91,4],[100,8,91,8],[100,15,91,15,"logs"],[100,19,91,19],[100,20,91,20],[100,21,91,21],[100,22,91,22],[100,27,91,27],[100,35,91,35],[100,37,92,8],[100,44,92,15,"logs"],[100,48,92,19],[101,4,93,4],[101,10,93,10,"formattedLogs"],[101,23,93,23],[101,26,93,26,"logs"],[101,30,93,30],[101,31,93,31,"map"],[101,34,93,34],[101,35,93,36,"log"],[101,38,93,39],[101,42,93,44],[101,46,93,44,"formatLog"],[101,67,93,53],[101,68,93,53,"formatLog"],[101,77,93,53],[101,79,93,54,"log"],[101,82,93,57],[101,83,93,58],[101,84,93,59],[102,4,94,4],[102,8,94,8],[102,10,94,10],[102,15,94,15],[102,19,94,19,"filter"],[102,25,94,25],[102,26,94,26],[102,30,94,30],[102,31,94,31,"filter"],[102,37,94,37],[102,38,94,38,"abi"],[102,41,94,41],[102,43,95,8],[102,50,95,15,"formattedLogs"],[102,63,95,28],[103,4,96,4],[103,11,96,11],[103,15,96,11,"parseEventLogs"],[103,40,96,25],[103,41,96,25,"parseEventLogs"],[103,55,96,25],[103,57,96,26],[104,6,97,8,"abi"],[104,9,97,11],[104,11,97,13,"filter"],[104,17,97,19],[104,18,97,20,"abi"],[104,21,97,23],[105,6,98,8,"logs"],[105,10,98,12],[105,12,98,14,"formattedLogs"],[105,25,98,27],[106,6,99,8,"strict"],[107,4,100,4],[107,5,100,5],[107,6,100,6],[108,2,101,0],[109,0,101,1],[109,3]],"functionMap":{"names":["<global>","getFilterChanges","logs.map$argument_0"],"mappings":"AAA;OCoF;mCCQ,uBD;CDQ"},"hasCjsExports":false},"type":"js/module"}]}