{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getProvider = exports.fetchFromProvider = void 0;\n  /**\n   * Makes a simple RPC call to a remote Ethereum JSON-RPC provider and passes through the response.\n   * No parameter or response validation is done.\n   *\n   * @param url the URL for the JSON RPC provider\n   * @param params the parameters for the JSON-RPC method - refer to\n   * https://ethereum.org/en/developers/docs/apis/json-rpc/ for details on RPC methods\n   * @returns the `result` field from the JSON-RPC response\n   * @example\n   * ```ts\n   * const provider = 'https://mainnet.infura.io/v3/...'\n   * const params = {\n   *   method: 'eth_getBlockByNumber',\n   *   params: ['latest', false],\n   * }\n   * const block = await fetchFromProvider(provider, params)\n   * ```\n   */\n  const fetchFromProvider = async (url, params) => {\n    const data = JSON.stringify({\n      method: params.method,\n      params: params.params,\n      jsonrpc: '2.0',\n      id: 1\n    });\n    const res = await fetch(url, {\n      headers: {\n        'content-type': 'application/json'\n      },\n      method: 'POST',\n      body: data\n    });\n    if (!res.ok) {\n      throw new Error(`JSONRpcError: ${JSON.stringify({\n        method: params.method,\n        status: res.status,\n        message: await res.text().catch(() => {\n          return 'Could not parse error message likely because of a network error';\n        })\n      }, null, 2)}`);\n    }\n    const json = await res.json();\n    // TODO we should check json.error here\n    return json.result;\n  };\n  exports.fetchFromProvider = fetchFromProvider;\n  /**\n   *\n   * @param provider a URL string or {@link EthersProvider}\n   * @returns the extracted URL string for the JSON-RPC Provider\n   */\n  const getProvider = provider => {\n    if (typeof provider === 'string') {\n      return provider;\n    } else if (typeof provider === 'object' && provider._getConnection !== undefined) {\n      return provider._getConnection().url;\n    } else {\n      throw new Error('Must provide valid provider URL or Web3Provider');\n    }\n  };\n  exports.getProvider = getProvider;\n});","lineCount":69,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"getProvider"],[7,21,3,19],[7,24,3,22,"exports"],[7,31,3,29],[7,32,3,30,"fetchFromProvider"],[7,49,3,47],[7,52,3,50],[7,57,3,55],[7,58,3,56],[8,2,4,0],[9,0,5,0],[10,0,6,0],[11,0,7,0],[12,0,8,0],[13,0,9,0],[14,0,10,0],[15,0,11,0],[16,0,12,0],[17,0,13,0],[18,0,14,0],[19,0,15,0],[20,0,16,0],[21,0,17,0],[22,0,18,0],[23,0,19,0],[24,0,20,0],[25,0,21,0],[26,2,22,0],[26,8,22,6,"fetchFromProvider"],[26,25,22,23],[26,28,22,26],[26,34,22,26,"fetchFromProvider"],[26,35,22,33,"url"],[26,38,22,36],[26,40,22,38,"params"],[26,46,22,44],[26,51,22,49],[27,4,23,4],[27,10,23,10,"data"],[27,14,23,14],[27,17,23,17,"JSON"],[27,21,23,21],[27,22,23,22,"stringify"],[27,31,23,31],[27,32,23,32],[28,6,24,8,"method"],[28,12,24,14],[28,14,24,16,"params"],[28,20,24,22],[28,21,24,23,"method"],[28,27,24,29],[29,6,25,8,"params"],[29,12,25,14],[29,14,25,16,"params"],[29,20,25,22],[29,21,25,23,"params"],[29,27,25,29],[30,6,26,8,"jsonrpc"],[30,13,26,15],[30,15,26,17],[30,20,26,22],[31,6,27,8,"id"],[31,8,27,10],[31,10,27,12],[32,4,28,4],[32,5,28,5],[32,6,28,6],[33,4,29,4],[33,10,29,10,"res"],[33,13,29,13],[33,16,29,16],[33,22,29,22,"fetch"],[33,27,29,27],[33,28,29,28,"url"],[33,31,29,31],[33,33,29,33],[34,6,30,8,"headers"],[34,13,30,15],[34,15,30,17],[35,8,31,12],[35,22,31,26],[35,24,31,28],[36,6,32,8],[36,7,32,9],[37,6,33,8,"method"],[37,12,33,14],[37,14,33,16],[37,20,33,22],[38,6,34,8,"body"],[38,10,34,12],[38,12,34,14,"data"],[39,4,35,4],[39,5,35,5],[39,6,35,6],[40,4,36,4],[40,8,36,8],[40,9,36,9,"res"],[40,12,36,12],[40,13,36,13,"ok"],[40,15,36,15],[40,17,36,17],[41,6,37,8],[41,12,37,14],[41,16,37,18,"Error"],[41,21,37,23],[41,22,37,24],[41,39,37,41,"JSON"],[41,43,37,45],[41,44,37,46,"stringify"],[41,53,37,55],[41,54,37,56],[42,8,38,12,"method"],[42,14,38,18],[42,16,38,20,"params"],[42,22,38,26],[42,23,38,27,"method"],[42,29,38,33],[43,8,39,12,"status"],[43,14,39,18],[43,16,39,20,"res"],[43,19,39,23],[43,20,39,24,"status"],[43,26,39,30],[44,8,40,12,"message"],[44,15,40,19],[44,17,40,21],[44,23,40,27,"res"],[44,26,40,30],[44,27,40,31,"text"],[44,31,40,35],[44,32,40,36],[44,33,40,37],[44,34,40,38,"catch"],[44,39,40,43],[44,40,40,44],[44,46,40,50],[45,10,41,16],[45,17,41,23],[45,82,41,88],[46,8,42,12],[46,9,42,13],[47,6,43,8],[47,7,43,9],[47,9,43,11],[47,13,43,15],[47,15,43,17],[47,16,43,18],[47,17,43,19],[47,19,43,21],[47,20,43,22],[48,4,44,4],[49,4,45,4],[49,10,45,10,"json"],[49,14,45,14],[49,17,45,17],[49,23,45,23,"res"],[49,26,45,26],[49,27,45,27,"json"],[49,31,45,31],[49,32,45,32],[49,33,45,33],[50,4,46,4],[51,4,47,4],[51,11,47,11,"json"],[51,15,47,15],[51,16,47,16,"result"],[51,22,47,22],[52,2,48,0],[52,3,48,1],[53,2,49,0,"exports"],[53,9,49,7],[53,10,49,8,"fetchFromProvider"],[53,27,49,25],[53,30,49,28,"fetchFromProvider"],[53,47,49,45],[54,2,50,0],[55,0,51,0],[56,0,52,0],[57,0,53,0],[58,0,54,0],[59,2,55,0],[59,8,55,6,"getProvider"],[59,19,55,17],[59,22,55,21,"provider"],[59,30,55,29],[59,34,55,34],[60,4,56,4],[60,8,56,8],[60,15,56,15,"provider"],[60,23,56,23],[60,28,56,28],[60,36,56,36],[60,38,56,38],[61,6,57,8],[61,13,57,15,"provider"],[61,21,57,23],[62,4,58,4],[62,5,58,5],[62,11,59,9],[62,15,59,13],[62,22,59,20,"provider"],[62,30,59,28],[62,35,59,33],[62,43,59,41],[62,47,59,45,"provider"],[62,55,59,53],[62,56,59,54,"_getConnection"],[62,70,59,68],[62,75,59,73,"undefined"],[62,84,59,82],[62,86,59,84],[63,6,60,8],[63,13,60,15,"provider"],[63,21,60,23],[63,22,60,24,"_getConnection"],[63,36,60,38],[63,37,60,39],[63,38,60,40],[63,39,60,41,"url"],[63,42,60,44],[64,4,61,4],[64,5,61,5],[64,11,62,9],[65,6,63,8],[65,12,63,14],[65,16,63,18,"Error"],[65,21,63,23],[65,22,63,24],[65,71,63,73],[65,72,63,74],[66,4,64,4],[67,2,65,0],[67,3,65,1],[68,2,66,0,"exports"],[68,9,66,7],[68,10,66,8,"getProvider"],[68,21,66,19],[68,24,66,22,"getProvider"],[68,35,66,33],[69,0,66,34],[69,3]],"functionMap":{"names":["<global>","fetchFromProvider","res.text._catch$argument_0","getProvider"],"mappings":"AAA;0BCqB;4CCkB;aDE;CDM;oBGO;CHU"},"hasCjsExports":true},"type":"js/module"}]}