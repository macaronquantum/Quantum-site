{"dependencies":[{"name":"../util/Immediate","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":16,"column":18,"index":680},"end":{"line":16,"column":46,"index":708}}],"key":"O6P+PFE7fHucb6Y0lPuzKz18byM=","exportNames":["*"],"imports":1}},{"name":"./AsyncAction","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":17,"column":20,"index":730},"end":{"line":17,"column":44,"index":754}}],"key":"lKZce/gMiHRCu5UA5P63/pqSDiM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var __extends = this && this.__extends || function () {\n    var extendStatics = function (d, b) {\n      extendStatics = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n      } || function (d, b) {\n        for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n      };\n      return extendStatics(d, b);\n    };\n    return function (d, b) {\n      extendStatics(d, b);\n      function __() {\n        this.constructor = d;\n      }\n      d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n  }();\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  var Immediate_1 = require(_dependencyMap[0], \"../util/Immediate\");\n  var AsyncAction_1 = require(_dependencyMap[1], \"./AsyncAction\");\n  var AsapAction = function (_super) {\n    __extends(AsapAction, _super);\n    function AsapAction(scheduler, work) {\n      var _this = _super.call(this, scheduler, work) || this;\n      _this.scheduler = scheduler;\n      _this.work = work;\n      return _this;\n    }\n    AsapAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n      if (delay === void 0) {\n        delay = 0;\n      }\n      if (delay !== null && delay > 0) {\n        return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n      }\n      scheduler.actions.push(this);\n      return scheduler.scheduled || (scheduler.scheduled = Immediate_1.Immediate.setImmediate(scheduler.flush.bind(scheduler, null)));\n    };\n    AsapAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n      if (delay === void 0) {\n        delay = 0;\n      }\n      if (delay !== null && delay > 0 || delay === null && this.delay > 0) {\n        return _super.prototype.recycleAsyncId.call(this, scheduler, id, delay);\n      }\n      if (scheduler.actions.length === 0) {\n        Immediate_1.Immediate.clearImmediate(id);\n        scheduler.scheduled = undefined;\n      }\n      return undefined;\n    };\n    return AsapAction;\n  }(AsyncAction_1.AsyncAction);\n  exports.AsapAction = AsapAction;\n});","lineCount":62,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0],[4,6,2,4,"__extends"],[4,15,2,13],[4,18,2,17],[4,22,2,21],[4,26,2,25],[4,30,2,29],[4,31,2,30,"__extends"],[4,40,2,39],[4,44,2,45],[4,56,2,57],[5,4,3,4],[5,8,3,8,"extendStatics"],[5,21,3,21],[5,24,3,24],[5,33,3,24,"extendStatics"],[5,34,3,34,"d"],[5,35,3,35],[5,37,3,37,"b"],[5,38,3,38],[5,40,3,40],[6,6,4,8,"extendStatics"],[6,19,4,21],[6,22,4,24,"Object"],[6,28,4,30],[6,29,4,31,"setPrototypeOf"],[6,43,4,45],[6,47,5,13],[7,8,5,15,"__proto__"],[7,17,5,24],[7,19,5,26],[8,6,5,29],[8,7,5,30],[8,19,5,42,"Array"],[8,24,5,47],[8,28,5,51],[8,38,5,61,"d"],[8,39,5,62],[8,41,5,64,"b"],[8,42,5,65],[8,44,5,67],[9,8,5,69,"d"],[9,9,5,70],[9,10,5,71,"__proto__"],[9,19,5,80],[9,22,5,83,"b"],[9,23,5,84],[10,6,5,86],[10,7,5,88],[10,11,6,12],[10,21,6,22,"d"],[10,22,6,23],[10,24,6,25,"b"],[10,25,6,26],[10,27,6,28],[11,8,6,30],[11,13,6,35],[11,17,6,39,"p"],[11,18,6,40],[11,22,6,44,"b"],[11,23,6,45],[11,25,6,47],[11,29,6,51,"b"],[11,30,6,52],[11,31,6,53,"hasOwnProperty"],[11,45,6,67],[11,46,6,68,"p"],[11,47,6,69],[11,48,6,70],[11,50,6,72,"d"],[11,51,6,73],[11,52,6,74,"p"],[11,53,6,75],[11,54,6,76],[11,57,6,79,"b"],[11,58,6,80],[11,59,6,81,"p"],[11,60,6,82],[11,61,6,83],[12,6,6,85],[12,7,6,86],[13,6,7,8],[13,13,7,15,"extendStatics"],[13,26,7,28],[13,27,7,29,"d"],[13,28,7,30],[13,30,7,32,"b"],[13,31,7,33],[13,32,7,34],[14,4,8,4],[14,5,8,5],[15,4,9,4],[15,11,9,11],[15,21,9,21,"d"],[15,22,9,22],[15,24,9,24,"b"],[15,25,9,25],[15,27,9,27],[16,6,10,8,"extendStatics"],[16,19,10,21],[16,20,10,22,"d"],[16,21,10,23],[16,23,10,25,"b"],[16,24,10,26],[16,25,10,27],[17,6,11,8],[17,15,11,17,"__"],[17,17,11,19,"__"],[17,18,11,19],[17,20,11,22],[18,8,11,24],[18,12,11,28],[18,13,11,29,"constructor"],[18,24,11,40],[18,27,11,43,"d"],[18,28,11,44],[19,6,11,46],[20,6,12,8,"d"],[20,7,12,9],[20,8,12,10,"prototype"],[20,17,12,19],[20,20,12,22,"b"],[20,21,12,23],[20,26,12,28],[20,30,12,32],[20,33,12,35,"Object"],[20,39,12,41],[20,40,12,42,"create"],[20,46,12,48],[20,47,12,49,"b"],[20,48,12,50],[20,49,12,51],[20,53,12,55,"__"],[20,55,12,57],[20,56,12,58,"prototype"],[20,65,12,67],[20,68,12,70,"b"],[20,69,12,71],[20,70,12,72,"prototype"],[20,79,12,81],[20,81,12,83],[20,85,12,87,"__"],[20,87,12,89],[20,88,12,90],[20,89,12,91],[20,90,12,92],[21,4,13,4],[21,5,13,5],[22,2,14,0],[22,3,14,1],[22,4,14,3],[22,5,14,4],[23,2,15,0,"Object"],[23,8,15,6],[23,9,15,7,"defineProperty"],[23,23,15,21],[23,24,15,22,"exports"],[23,31,15,29],[23,33,15,31],[23,45,15,43],[23,47,15,45],[24,4,15,47,"value"],[24,9,15,52],[24,11,15,54],[25,2,15,59],[25,3,15,60],[25,4,15,61],[26,2,16,0],[26,6,16,4,"Immediate_1"],[26,17,16,15],[26,20,16,18,"require"],[26,27,16,25],[26,28,16,25,"_dependencyMap"],[26,42,16,25],[26,66,16,45],[26,67,16,46],[27,2,17,0],[27,6,17,4,"AsyncAction_1"],[27,19,17,17],[27,22,17,20,"require"],[27,29,17,27],[27,30,17,27,"_dependencyMap"],[27,44,17,27],[27,64,17,43],[27,65,17,44],[28,2,18,0],[28,6,18,4,"AsapAction"],[28,16,18,14],[28,19,18,18],[28,29,18,28,"_super"],[28,35,18,34],[28,37,18,36],[29,4,19,4,"__extends"],[29,13,19,13],[29,14,19,14,"AsapAction"],[29,24,19,24],[29,26,19,26,"_super"],[29,32,19,32],[29,33,19,33],[30,4,20,4],[30,13,20,13,"AsapAction"],[30,23,20,23,"AsapAction"],[30,24,20,24,"scheduler"],[30,33,20,33],[30,35,20,35,"work"],[30,39,20,39],[30,41,20,41],[31,6,21,8],[31,10,21,12,"_this"],[31,15,21,17],[31,18,21,20,"_super"],[31,24,21,26],[31,25,21,27,"call"],[31,29,21,31],[31,30,21,32],[31,34,21,36],[31,36,21,38,"scheduler"],[31,45,21,47],[31,47,21,49,"work"],[31,51,21,53],[31,52,21,54],[31,56,21,58],[31,60,21,62],[32,6,22,8,"_this"],[32,11,22,13],[32,12,22,14,"scheduler"],[32,21,22,23],[32,24,22,26,"scheduler"],[32,33,22,35],[33,6,23,8,"_this"],[33,11,23,13],[33,12,23,14,"work"],[33,16,23,18],[33,19,23,21,"work"],[33,23,23,25],[34,6,24,8],[34,13,24,15,"_this"],[34,18,24,20],[35,4,25,4],[36,4,26,4,"AsapAction"],[36,14,26,14],[36,15,26,15,"prototype"],[36,24,26,24],[36,25,26,25,"requestAsyncId"],[36,39,26,39],[36,42,26,42],[36,52,26,52,"scheduler"],[36,61,26,61],[36,63,26,63,"id"],[36,65,26,65],[36,67,26,67,"delay"],[36,72,26,72],[36,74,26,74],[37,6,27,8],[37,10,27,12,"delay"],[37,15,27,17],[37,20,27,22],[37,25,27,27],[37,26,27,28],[37,28,27,30],[38,8,27,32,"delay"],[38,13,27,37],[38,16,27,40],[38,17,27,41],[39,6,27,43],[40,6,28,8],[40,10,28,12,"delay"],[40,15,28,17],[40,20,28,22],[40,24,28,26],[40,28,28,30,"delay"],[40,33,28,35],[40,36,28,38],[40,37,28,39],[40,39,28,41],[41,8,29,12],[41,15,29,19,"_super"],[41,21,29,25],[41,22,29,26,"prototype"],[41,31,29,35],[41,32,29,36,"requestAsyncId"],[41,46,29,50],[41,47,29,51,"call"],[41,51,29,55],[41,52,29,56],[41,56,29,60],[41,58,29,62,"scheduler"],[41,67,29,71],[41,69,29,73,"id"],[41,71,29,75],[41,73,29,77,"delay"],[41,78,29,82],[41,79,29,83],[42,6,30,8],[43,6,31,8,"scheduler"],[43,15,31,17],[43,16,31,18,"actions"],[43,23,31,25],[43,24,31,26,"push"],[43,28,31,30],[43,29,31,31],[43,33,31,35],[43,34,31,36],[44,6,32,8],[44,13,32,15,"scheduler"],[44,22,32,24],[44,23,32,25,"scheduled"],[44,32,32,34],[44,37,32,39,"scheduler"],[44,46,32,48],[44,47,32,49,"scheduled"],[44,56,32,58],[44,59,32,61,"Immediate_1"],[44,70,32,72],[44,71,32,73,"Immediate"],[44,80,32,82],[44,81,32,83,"setImmediate"],[44,93,32,95],[44,94,32,96,"scheduler"],[44,103,32,105],[44,104,32,106,"flush"],[44,109,32,111],[44,110,32,112,"bind"],[44,114,32,116],[44,115,32,117,"scheduler"],[44,124,32,126],[44,126,32,128],[44,130,32,132],[44,131,32,133],[44,132,32,134],[44,133,32,135],[45,4,33,4],[45,5,33,5],[46,4,34,4,"AsapAction"],[46,14,34,14],[46,15,34,15,"prototype"],[46,24,34,24],[46,25,34,25,"recycleAsyncId"],[46,39,34,39],[46,42,34,42],[46,52,34,52,"scheduler"],[46,61,34,61],[46,63,34,63,"id"],[46,65,34,65],[46,67,34,67,"delay"],[46,72,34,72],[46,74,34,74],[47,6,35,8],[47,10,35,12,"delay"],[47,15,35,17],[47,20,35,22],[47,25,35,27],[47,26,35,28],[47,28,35,30],[48,8,35,32,"delay"],[48,13,35,37],[48,16,35,40],[48,17,35,41],[49,6,35,43],[50,6,36,8],[50,10,36,13,"delay"],[50,15,36,18],[50,20,36,23],[50,24,36,27],[50,28,36,31,"delay"],[50,33,36,36],[50,36,36,39],[50,37,36,40],[50,41,36,46,"delay"],[50,46,36,51],[50,51,36,56],[50,55,36,60],[50,59,36,64],[50,63,36,68],[50,64,36,69,"delay"],[50,69,36,74],[50,72,36,77],[50,73,36,79],[50,75,36,81],[51,8,37,12],[51,15,37,19,"_super"],[51,21,37,25],[51,22,37,26,"prototype"],[51,31,37,35],[51,32,37,36,"recycleAsyncId"],[51,46,37,50],[51,47,37,51,"call"],[51,51,37,55],[51,52,37,56],[51,56,37,60],[51,58,37,62,"scheduler"],[51,67,37,71],[51,69,37,73,"id"],[51,71,37,75],[51,73,37,77,"delay"],[51,78,37,82],[51,79,37,83],[52,6,38,8],[53,6,39,8],[53,10,39,12,"scheduler"],[53,19,39,21],[53,20,39,22,"actions"],[53,27,39,29],[53,28,39,30,"length"],[53,34,39,36],[53,39,39,41],[53,40,39,42],[53,42,39,44],[54,8,40,12,"Immediate_1"],[54,19,40,23],[54,20,40,24,"Immediate"],[54,29,40,33],[54,30,40,34,"clearImmediate"],[54,44,40,48],[54,45,40,49,"id"],[54,47,40,51],[54,48,40,52],[55,8,41,12,"scheduler"],[55,17,41,21],[55,18,41,22,"scheduled"],[55,27,41,31],[55,30,41,34,"undefined"],[55,39,41,43],[56,6,42,8],[57,6,43,8],[57,13,43,15,"undefined"],[57,22,43,24],[58,4,44,4],[58,5,44,5],[59,4,45,4],[59,11,45,11,"AsapAction"],[59,21,45,21],[60,2,46,0],[60,3,46,1],[60,4,46,2,"AsyncAction_1"],[60,17,46,15],[60,18,46,16,"AsyncAction"],[60,29,46,27],[60,30,46,29],[61,2,47,0,"exports"],[61,9,47,7],[61,10,47,8,"AsapAction"],[61,20,47,18],[61,23,47,21,"AsapAction"],[61,33,47,31],[62,0,47,32],[62,3]],"functionMap":{"names":["<global>","<anonymous>","extendStatics","__","AsapAction","prototype.requestAsyncId","prototype.recycleAsyncId"],"mappings":"AAA;6CCC;wBCC;mDDE,oCC;YDC,0EC;KDE;QEG,uCF;CDG;kBCI;IGE;KHK;0CIC;KJO;0CKC;KLU;CDE"},"hasCjsExports":true},"type":"js/module"}]}