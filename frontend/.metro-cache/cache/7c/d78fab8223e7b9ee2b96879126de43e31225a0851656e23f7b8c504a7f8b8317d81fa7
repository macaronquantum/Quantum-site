{"dependencies":[{"name":"../../constants/abis.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":91,"index":91}}],"key":"LZvwvaZmwAX6SyAqVHRt5iP6qx8=","exportNames":["*"],"imports":1}},{"name":"../../utils/abi/decodeFunctionResult.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":92},"end":{"line":2,"column":80,"index":172}}],"key":"kTyTrS0/fV5/YN79eeV1YCQApII=","exportNames":["*"],"imports":1}},{"name":"../../utils/abi/encodeFunctionData.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":173},"end":{"line":3,"column":76,"index":249}}],"key":"OuSySdoC0ezpBCAwaIZplowPkvk=","exportNames":["*"],"imports":1}},{"name":"../../utils/chain/getChainContractAddress.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":250},"end":{"line":4,"column":88,"index":338}}],"key":"8qS5kCcV3GKt7vxDZBWLzJuplRM=","exportNames":["*"],"imports":1}},{"name":"../../utils/data/trim.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":339},"end":{"line":5,"column":48,"index":387}}],"key":"7bfEyUNAIOlzMN/tm0Ol8ZXCaIc=","exportNames":["*"],"imports":1}},{"name":"../../utils/encoding/toHex.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":388},"end":{"line":6,"column":54,"index":442}}],"key":"U2IsyW1seIe5m4FUbe8axrr/0FQ=","exportNames":["*"],"imports":1}},{"name":"../../utils/ens/errors.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":443},"end":{"line":7,"column":73,"index":516}}],"key":"PnlrScciUN4PT5dk7YYfSZS8dDA=","exportNames":["*"],"imports":1}},{"name":"../../utils/ens/localBatchGatewayRequest.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":517},"end":{"line":8,"column":83,"index":600}}],"key":"SupR2cuuwa1DBj8CyDwtc1ZTkCg=","exportNames":["*"],"imports":1}},{"name":"../../utils/ens/namehash.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":601},"end":{"line":9,"column":55,"index":656}}],"key":"LrLJ4tMmO+bDUw+6voQwj4+mN5E=","exportNames":["*"],"imports":1}},{"name":"../../utils/ens/packetToBytes.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":657},"end":{"line":10,"column":66,"index":723}}],"key":"vy6lnJxRhohVWN+VTecRsVVoAi0=","exportNames":["*"],"imports":1}},{"name":"../../utils/getAction.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":724},"end":{"line":11,"column":53,"index":777}}],"key":"vt4scbNyA2t/tyY0oQJI6AZPJS4=","exportNames":["*"],"imports":1}},{"name":"../public/readContract.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":12,"column":0,"index":778},"end":{"line":12,"column":58,"index":836}}],"key":"duxLiRpfja/POd/F8+OKH9hCagk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.getEnsAddress = getEnsAddress;\n  var _constantsAbisJs = require(_dependencyMap[0], \"../../constants/abis.js\");\n  var _utilsAbiDecodeFunctionResultJs = require(_dependencyMap[1], \"../../utils/abi/decodeFunctionResult.js\");\n  var _utilsAbiEncodeFunctionDataJs = require(_dependencyMap[2], \"../../utils/abi/encodeFunctionData.js\");\n  var _utilsChainGetChainContractAddressJs = require(_dependencyMap[3], \"../../utils/chain/getChainContractAddress.js\");\n  var _utilsDataTrimJs = require(_dependencyMap[4], \"../../utils/data/trim.js\");\n  var _utilsEncodingToHexJs = require(_dependencyMap[5], \"../../utils/encoding/toHex.js\");\n  var _utilsEnsErrorsJs = require(_dependencyMap[6], \"../../utils/ens/errors.js\");\n  var _utilsEnsLocalBatchGatewayRequestJs = require(_dependencyMap[7], \"../../utils/ens/localBatchGatewayRequest.js\");\n  var _utilsEnsNamehashJs = require(_dependencyMap[8], \"../../utils/ens/namehash.js\");\n  var _utilsEnsPacketToBytesJs = require(_dependencyMap[9], \"../../utils/ens/packetToBytes.js\");\n  var _utilsGetActionJs = require(_dependencyMap[10], \"../../utils/getAction.js\");\n  var _publicReadContractJs = require(_dependencyMap[11], \"../public/readContract.js\");\n  /**\n   * Gets address for ENS name.\n   *\n   * - Docs: https://viem.sh/docs/ens/actions/getEnsAddress\n   * - Examples: https://stackblitz.com/github/wevm/viem/tree/main/examples/ens\n   *\n   * Calls `resolve(bytes, bytes)` on ENS Universal Resolver Contract.\n   *\n   * Since ENS names prohibit certain forbidden characters (e.g. underscore) and have other validation rules, you likely want to [normalize ENS names](https://docs.ens.domains/contract-api-reference/name-processing#normalising-names) with [UTS-46 normalization](https://unicode.org/reports/tr46) before passing them to `getEnsAddress`. You can use the built-in [`normalize`](https://viem.sh/docs/ens/utilities/normalize) function for this.\n   *\n   * @param client - Client to use\n   * @param parameters - {@link GetEnsAddressParameters}\n   * @returns Address for ENS name or `null` if not found. {@link GetEnsAddressReturnType}\n   *\n   * @example\n   * import { createPublicClient, http } from 'viem'\n   * import { mainnet } from 'viem/chains'\n   * import { getEnsAddress, normalize } from 'viem/ens'\n   *\n   * const client = createPublicClient({\n   *   chain: mainnet,\n   *   transport: http(),\n   * })\n   * const ensAddress = await getEnsAddress(client, {\n   *   name: normalize('wevm.eth'),\n   * })\n   * // '0xd2135CfB216b74109775236E36d4b433F1DF507B'\n   */\n  async function getEnsAddress(client, parameters) {\n    const {\n      blockNumber,\n      blockTag,\n      coinType,\n      name,\n      gatewayUrls,\n      strict\n    } = parameters;\n    const {\n      chain\n    } = client;\n    const universalResolverAddress = (() => {\n      if (parameters.universalResolverAddress) return parameters.universalResolverAddress;\n      if (!chain) throw new Error('client chain not configured. universalResolverAddress is required.');\n      return (0, _utilsChainGetChainContractAddressJs.getChainContractAddress)({\n        blockNumber,\n        chain,\n        contract: 'ensUniversalResolver'\n      });\n    })();\n    const tlds = chain?.ensTlds;\n    if (tlds && !tlds.some(tld => name.endsWith(tld))) return null;\n    const args = (() => {\n      if (coinType != null) return [(0, _utilsEnsNamehashJs.namehash)(name), BigInt(coinType)];\n      return [(0, _utilsEnsNamehashJs.namehash)(name)];\n    })();\n    try {\n      const functionData = (0, _utilsAbiEncodeFunctionDataJs.encodeFunctionData)({\n        abi: _constantsAbisJs.addressResolverAbi,\n        functionName: 'addr',\n        args\n      });\n      const readContractParameters = {\n        address: universalResolverAddress,\n        abi: _constantsAbisJs.universalResolverResolveAbi,\n        functionName: 'resolveWithGateways',\n        args: [(0, _utilsEncodingToHexJs.toHex)((0, _utilsEnsPacketToBytesJs.packetToBytes)(name)), functionData, gatewayUrls ?? [_utilsEnsLocalBatchGatewayRequestJs.localBatchGatewayUrl]],\n        blockNumber,\n        blockTag\n      };\n      const readContractAction = (0, _utilsGetActionJs.getAction)(client, _publicReadContractJs.readContract, 'readContract');\n      const res = await readContractAction(readContractParameters);\n      if (res[0] === '0x') return null;\n      const address = (0, _utilsAbiDecodeFunctionResultJs.decodeFunctionResult)({\n        abi: _constantsAbisJs.addressResolverAbi,\n        args,\n        functionName: 'addr',\n        data: res[0]\n      });\n      if (address === '0x') return null;\n      if ((0, _utilsDataTrimJs.trim)(address) === '0x00') return null;\n      return address;\n    } catch (err) {\n      if (strict) throw err;\n      if ((0, _utilsEnsErrorsJs.isNullUniversalResolverError)(err)) return null;\n      throw err;\n    }\n  }\n});","lineCount":107,"map":[[7,2,41,0,"exports"],[7,9,41,0],[7,10,41,0,"getEnsAddress"],[7,23,41,0],[7,26,41,0,"getEnsAddress"],[7,39,41,0],[8,2,1,0],[8,6,1,0,"_constantsAbisJs"],[8,22,1,0],[8,25,1,0,"require"],[8,32,1,0],[8,33,1,0,"_dependencyMap"],[8,47,1,0],[9,2,2,0],[9,6,2,0,"_utilsAbiDecodeFunctionResultJs"],[9,37,2,0],[9,40,2,0,"require"],[9,47,2,0],[9,48,2,0,"_dependencyMap"],[9,62,2,0],[10,2,3,0],[10,6,3,0,"_utilsAbiEncodeFunctionDataJs"],[10,35,3,0],[10,38,3,0,"require"],[10,45,3,0],[10,46,3,0,"_dependencyMap"],[10,60,3,0],[11,2,4,0],[11,6,4,0,"_utilsChainGetChainContractAddressJs"],[11,42,4,0],[11,45,4,0,"require"],[11,52,4,0],[11,53,4,0,"_dependencyMap"],[11,67,4,0],[12,2,5,0],[12,6,5,0,"_utilsDataTrimJs"],[12,22,5,0],[12,25,5,0,"require"],[12,32,5,0],[12,33,5,0,"_dependencyMap"],[12,47,5,0],[13,2,6,0],[13,6,6,0,"_utilsEncodingToHexJs"],[13,27,6,0],[13,30,6,0,"require"],[13,37,6,0],[13,38,6,0,"_dependencyMap"],[13,52,6,0],[14,2,7,0],[14,6,7,0,"_utilsEnsErrorsJs"],[14,23,7,0],[14,26,7,0,"require"],[14,33,7,0],[14,34,7,0,"_dependencyMap"],[14,48,7,0],[15,2,8,0],[15,6,8,0,"_utilsEnsLocalBatchGatewayRequestJs"],[15,41,8,0],[15,44,8,0,"require"],[15,51,8,0],[15,52,8,0,"_dependencyMap"],[15,66,8,0],[16,2,9,0],[16,6,9,0,"_utilsEnsNamehashJs"],[16,25,9,0],[16,28,9,0,"require"],[16,35,9,0],[16,36,9,0,"_dependencyMap"],[16,50,9,0],[17,2,10,0],[17,6,10,0,"_utilsEnsPacketToBytesJs"],[17,30,10,0],[17,33,10,0,"require"],[17,40,10,0],[17,41,10,0,"_dependencyMap"],[17,55,10,0],[18,2,11,0],[18,6,11,0,"_utilsGetActionJs"],[18,23,11,0],[18,26,11,0,"require"],[18,33,11,0],[18,34,11,0,"_dependencyMap"],[18,48,11,0],[19,2,12,0],[19,6,12,0,"_publicReadContractJs"],[19,27,12,0],[19,30,12,0,"require"],[19,37,12,0],[19,38,12,0,"_dependencyMap"],[19,52,12,0],[20,2,13,0],[21,0,14,0],[22,0,15,0],[23,0,16,0],[24,0,17,0],[25,0,18,0],[26,0,19,0],[27,0,20,0],[28,0,21,0],[29,0,22,0],[30,0,23,0],[31,0,24,0],[32,0,25,0],[33,0,26,0],[34,0,27,0],[35,0,28,0],[36,0,29,0],[37,0,30,0],[38,0,31,0],[39,0,32,0],[40,0,33,0],[41,0,34,0],[42,0,35,0],[43,0,36,0],[44,0,37,0],[45,0,38,0],[46,0,39,0],[47,0,40,0],[48,2,41,7],[48,17,41,22,"getEnsAddress"],[48,30,41,35,"getEnsAddress"],[48,31,41,36,"client"],[48,37,41,42],[48,39,41,44,"parameters"],[48,49,41,54],[48,51,41,56],[49,4,42,4],[49,10,42,10],[50,6,42,12,"blockNumber"],[50,17,42,23],[51,6,42,25,"blockTag"],[51,14,42,33],[52,6,42,35,"coinType"],[52,14,42,43],[53,6,42,45,"name"],[53,10,42,49],[54,6,42,51,"gatewayUrls"],[54,17,42,62],[55,6,42,64,"strict"],[56,4,42,71],[56,5,42,72],[56,8,42,75,"parameters"],[56,18,42,85],[57,4,43,4],[57,10,43,10],[58,6,43,12,"chain"],[59,4,43,18],[59,5,43,19],[59,8,43,22,"client"],[59,14,43,28],[60,4,44,4],[60,10,44,10,"universalResolverAddress"],[60,34,44,34],[60,37,44,37],[60,38,44,38],[60,44,44,44],[61,6,45,8],[61,10,45,12,"parameters"],[61,20,45,22],[61,21,45,23,"universalResolverAddress"],[61,45,45,47],[61,47,46,12],[61,54,46,19,"parameters"],[61,64,46,29],[61,65,46,30,"universalResolverAddress"],[61,89,46,54],[62,6,47,8],[62,10,47,12],[62,11,47,13,"chain"],[62,16,47,18],[62,18,48,12],[62,24,48,18],[62,28,48,22,"Error"],[62,33,48,27],[62,34,48,28],[62,102,48,96],[62,103,48,97],[63,6,49,8],[63,13,49,15],[63,17,49,15,"getChainContractAddress"],[63,53,49,38],[63,54,49,38,"getChainContractAddress"],[63,77,49,38],[63,79,49,39],[64,8,50,12,"blockNumber"],[64,19,50,23],[65,8,51,12,"chain"],[65,13,51,17],[66,8,52,12,"contract"],[66,16,52,20],[66,18,52,22],[67,6,53,8],[67,7,53,9],[67,8,53,10],[68,4,54,4],[68,5,54,5],[68,7,54,7],[68,8,54,8],[69,4,55,4],[69,10,55,10,"tlds"],[69,14,55,14],[69,17,55,17,"chain"],[69,22,55,22],[69,24,55,24,"ensTlds"],[69,31,55,31],[70,4,56,4],[70,8,56,8,"tlds"],[70,12,56,12],[70,16,56,16],[70,17,56,17,"tlds"],[70,21,56,21],[70,22,56,22,"some"],[70,26,56,26],[70,27,56,28,"tld"],[70,30,56,31],[70,34,56,36,"name"],[70,38,56,40],[70,39,56,41,"endsWith"],[70,47,56,49],[70,48,56,50,"tld"],[70,51,56,53],[70,52,56,54],[70,53,56,55],[70,55,57,8],[70,62,57,15],[70,66,57,19],[71,4,58,4],[71,10,58,10,"args"],[71,14,58,14],[71,17,58,17],[71,18,58,18],[71,24,58,24],[72,6,59,8],[72,10,59,12,"coinType"],[72,18,59,20],[72,22,59,24],[72,26,59,28],[72,28,60,12],[72,35,60,19],[72,36,60,20],[72,40,60,20,"namehash"],[72,59,60,28],[72,60,60,28,"namehash"],[72,68,60,28],[72,70,60,29,"name"],[72,74,60,33],[72,75,60,34],[72,77,60,36,"BigInt"],[72,83,60,42],[72,84,60,43,"coinType"],[72,92,60,51],[72,93,60,52],[72,94,60,53],[73,6,61,8],[73,13,61,15],[73,14,61,16],[73,18,61,16,"namehash"],[73,37,61,24],[73,38,61,24,"namehash"],[73,46,61,24],[73,48,61,25,"name"],[73,52,61,29],[73,53,61,30],[73,54,61,31],[74,4,62,4],[74,5,62,5],[74,7,62,7],[74,8,62,8],[75,4,63,4],[75,8,63,8],[76,6,64,8],[76,12,64,14,"functionData"],[76,24,64,26],[76,27,64,29],[76,31,64,29,"encodeFunctionData"],[76,60,64,47],[76,61,64,47,"encodeFunctionData"],[76,79,64,47],[76,81,64,48],[77,8,65,12,"abi"],[77,11,65,15],[77,13,65,17,"addressResolverAbi"],[77,29,65,35],[77,30,65,35,"addressResolverAbi"],[77,48,65,35],[78,8,66,12,"functionName"],[78,20,66,24],[78,22,66,26],[78,28,66,32],[79,8,67,12,"args"],[80,6,68,8],[80,7,68,9],[80,8,68,10],[81,6,69,8],[81,12,69,14,"readContractParameters"],[81,34,69,36],[81,37,69,39],[82,8,70,12,"address"],[82,15,70,19],[82,17,70,21,"universalResolverAddress"],[82,41,70,45],[83,8,71,12,"abi"],[83,11,71,15],[83,13,71,17,"universalResolverResolveAbi"],[83,29,71,44],[83,30,71,44,"universalResolverResolveAbi"],[83,57,71,44],[84,8,72,12,"functionName"],[84,20,72,24],[84,22,72,26],[84,43,72,47],[85,8,73,12,"args"],[85,12,73,16],[85,14,73,18],[85,15,74,16],[85,19,74,16,"toHex"],[85,40,74,21],[85,41,74,21,"toHex"],[85,46,74,21],[85,48,74,22],[85,52,74,22,"packetToBytes"],[85,76,74,35],[85,77,74,35,"packetToBytes"],[85,90,74,35],[85,92,74,36,"name"],[85,96,74,40],[85,97,74,41],[85,98,74,42],[85,100,75,16,"functionData"],[85,112,75,28],[85,114,76,16,"gatewayUrls"],[85,125,76,27],[85,129,76,31],[85,130,76,32,"localBatchGatewayUrl"],[85,165,76,52],[85,166,76,52,"localBatchGatewayUrl"],[85,186,76,52],[85,187,76,53],[85,188,77,13],[86,8,78,12,"blockNumber"],[86,19,78,23],[87,8,79,12,"blockTag"],[88,6,80,8],[88,7,80,9],[89,6,81,8],[89,12,81,14,"readContractAction"],[89,30,81,32],[89,33,81,35],[89,37,81,35,"getAction"],[89,54,81,44],[89,55,81,44,"getAction"],[89,64,81,44],[89,66,81,45,"client"],[89,72,81,51],[89,74,81,53,"readContract"],[89,95,81,65],[89,96,81,65,"readContract"],[89,108,81,65],[89,110,81,67],[89,124,81,81],[89,125,81,82],[90,6,82,8],[90,12,82,14,"res"],[90,15,82,17],[90,18,82,20],[90,24,82,26,"readContractAction"],[90,42,82,44],[90,43,82,45,"readContractParameters"],[90,65,82,67],[90,66,82,68],[91,6,83,8],[91,10,83,12,"res"],[91,13,83,15],[91,14,83,16],[91,15,83,17],[91,16,83,18],[91,21,83,23],[91,25,83,27],[91,27,84,12],[91,34,84,19],[91,38,84,23],[92,6,85,8],[92,12,85,14,"address"],[92,19,85,21],[92,22,85,24],[92,26,85,24,"decodeFunctionResult"],[92,57,85,44],[92,58,85,44,"decodeFunctionResult"],[92,78,85,44],[92,80,85,45],[93,8,86,12,"abi"],[93,11,86,15],[93,13,86,17,"addressResolverAbi"],[93,29,86,35],[93,30,86,35,"addressResolverAbi"],[93,48,86,35],[94,8,87,12,"args"],[94,12,87,16],[95,8,88,12,"functionName"],[95,20,88,24],[95,22,88,26],[95,28,88,32],[96,8,89,12,"data"],[96,12,89,16],[96,14,89,18,"res"],[96,17,89,21],[96,18,89,22],[96,19,89,23],[97,6,90,8],[97,7,90,9],[97,8,90,10],[98,6,91,8],[98,10,91,12,"address"],[98,17,91,19],[98,22,91,24],[98,26,91,28],[98,28,92,12],[98,35,92,19],[98,39,92,23],[99,6,93,8],[99,10,93,12],[99,14,93,12,"trim"],[99,30,93,16],[99,31,93,16,"trim"],[99,35,93,16],[99,37,93,17,"address"],[99,44,93,24],[99,45,93,25],[99,50,93,30],[99,56,93,36],[99,58,94,12],[99,65,94,19],[99,69,94,23],[100,6,95,8],[100,13,95,15,"address"],[100,20,95,22],[101,4,96,4],[101,5,96,5],[101,6,97,4],[101,13,97,11,"err"],[101,16,97,14],[101,18,97,16],[102,6,98,8],[102,10,98,12,"strict"],[102,16,98,18],[102,18,99,12],[102,24,99,18,"err"],[102,27,99,21],[103,6,100,8],[103,10,100,12],[103,14,100,12,"isNullUniversalResolverError"],[103,31,100,40],[103,32,100,40,"isNullUniversalResolverError"],[103,60,100,40],[103,62,100,41,"err"],[103,65,100,44],[103,66,100,45],[103,68,101,12],[103,75,101,19],[103,79,101,23],[104,6,102,8],[104,12,102,14,"err"],[104,15,102,17],[105,4,103,4],[106,2,104,0],[107,0,104,1],[107,3]],"functionMap":{"names":["<global>","getEnsAddress","<anonymous>","tlds.some$argument_0"],"mappings":"AAA;OCwC;sCCG;KDU;2BEE,2BF;kBCE;KDI;CD0C"},"hasCjsExports":false},"type":"js/module"}]}