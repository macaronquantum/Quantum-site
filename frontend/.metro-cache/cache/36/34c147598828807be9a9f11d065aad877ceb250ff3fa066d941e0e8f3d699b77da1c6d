{"dependencies":[{"name":"../Address.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":16,"index":224},"end":{"line":6,"column":40,"index":248}}],"key":"9KioR3BU+Rv4QEt1Epldhc8vnlM=","exportNames":["*"],"imports":1}},{"name":"../Errors.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":15,"index":265},"end":{"line":7,"column":38,"index":288}}],"key":"09eXiVit310+wN557fFNmduY2lQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.normalizeSignature = normalizeSignature;\n  exports.isArgOfType = isArgOfType;\n  exports.getAmbiguousTypes = getAmbiguousTypes;\n  const Address = require(_dependencyMap[0], \"../Address.js\");\n  const Errors = require(_dependencyMap[1], \"../Errors.js\");\n  function normalizeSignature(signature) {\n    let active = true;\n    let current = '';\n    let level = 0;\n    let result = '';\n    let valid = false;\n    for (let i = 0; i < signature.length; i++) {\n      const char = signature[i];\n      if (['(', ')', ','].includes(char)) active = true;\n      if (char === '(') level++;\n      if (char === ')') level--;\n      if (!active) continue;\n      if (level === 0) {\n        if (char === ' ' && ['event', 'function', 'error', ''].includes(result)) result = '';else {\n          result += char;\n          if (char === ')') {\n            valid = true;\n            break;\n          }\n        }\n        continue;\n      }\n      if (char === ' ') {\n        if (signature[i - 1] !== ',' && current !== ',' && current !== ',(') {\n          current = '';\n          active = false;\n        }\n        continue;\n      }\n      result += char;\n      current += char;\n    }\n    if (!valid) throw new Errors.BaseError('Unable to normalize signature.');\n    return result;\n  }\n  function isArgOfType(arg, abiParameter) {\n    const argType = typeof arg;\n    const abiParameterType = abiParameter.type;\n    switch (abiParameterType) {\n      case 'address':\n        return Address.validate(arg, {\n          strict: false\n        });\n      case 'bool':\n        return argType === 'boolean';\n      case 'function':\n        return argType === 'string';\n      case 'string':\n        return argType === 'string';\n      default:\n        {\n          if (abiParameterType === 'tuple' && 'components' in abiParameter) return Object.values(abiParameter.components).every((component, index) => {\n            return isArgOfType(Object.values(arg)[index], component);\n          });\n          if (/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(abiParameterType)) return argType === 'number' || argType === 'bigint';\n          if (/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(abiParameterType)) return argType === 'string' || arg instanceof Uint8Array;\n          if (/[a-z]+[1-9]{0,3}(\\[[0-9]{0,}\\])+$/.test(abiParameterType)) {\n            return Array.isArray(arg) && arg.every(x => isArgOfType(x, {\n              ...abiParameter,\n              type: abiParameterType.replace(/(\\[[0-9]{0,}\\])$/, '')\n            }));\n          }\n          return false;\n        }\n    }\n  }\n  function getAmbiguousTypes(sourceParameters, targetParameters, args) {\n    for (const parameterIndex in sourceParameters) {\n      const sourceParameter = sourceParameters[parameterIndex];\n      const targetParameter = targetParameters[parameterIndex];\n      if (sourceParameter.type === 'tuple' && targetParameter.type === 'tuple' && 'components' in sourceParameter && 'components' in targetParameter) return getAmbiguousTypes(sourceParameter.components, targetParameter.components, args[parameterIndex]);\n      const types = [sourceParameter.type, targetParameter.type];\n      const ambiguous = (() => {\n        if (types.includes('address') && types.includes('bytes20')) return true;\n        if (types.includes('address') && types.includes('string')) return Address.validate(args[parameterIndex], {\n          strict: false\n        });\n        if (types.includes('address') && types.includes('bytes')) return Address.validate(args[parameterIndex], {\n          strict: false\n        });\n        return false;\n      })();\n      if (ambiguous) return types;\n    }\n    return;\n  }\n});","lineCount":98,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"normalizeSignature"],[7,28,3,26],[7,31,3,29,"normalizeSignature"],[7,49,3,47],[8,2,4,0,"exports"],[8,9,4,7],[8,10,4,8,"isArgOfType"],[8,21,4,19],[8,24,4,22,"isArgOfType"],[8,35,4,33],[9,2,5,0,"exports"],[9,9,5,7],[9,10,5,8,"getAmbiguousTypes"],[9,27,5,25],[9,30,5,28,"getAmbiguousTypes"],[9,47,5,45],[10,2,6,0],[10,8,6,6,"Address"],[10,15,6,13],[10,18,6,16,"require"],[10,25,6,23],[10,26,6,23,"_dependencyMap"],[10,40,6,23],[10,60,6,39],[10,61,6,40],[11,2,7,0],[11,8,7,6,"Errors"],[11,14,7,12],[11,17,7,15,"require"],[11,24,7,22],[11,25,7,22,"_dependencyMap"],[11,39,7,22],[11,58,7,37],[11,59,7,38],[12,2,8,0],[12,11,8,9,"normalizeSignature"],[12,29,8,27,"normalizeSignature"],[12,30,8,28,"signature"],[12,39,8,37],[12,41,8,39],[13,4,9,4],[13,8,9,8,"active"],[13,14,9,14],[13,17,9,17],[13,21,9,21],[14,4,10,4],[14,8,10,8,"current"],[14,15,10,15],[14,18,10,18],[14,20,10,20],[15,4,11,4],[15,8,11,8,"level"],[15,13,11,13],[15,16,11,16],[15,17,11,17],[16,4,12,4],[16,8,12,8,"result"],[16,14,12,14],[16,17,12,17],[16,19,12,19],[17,4,13,4],[17,8,13,8,"valid"],[17,13,13,13],[17,16,13,16],[17,21,13,21],[18,4,14,4],[18,9,14,9],[18,13,14,13,"i"],[18,14,14,14],[18,17,14,17],[18,18,14,18],[18,20,14,20,"i"],[18,21,14,21],[18,24,14,24,"signature"],[18,33,14,33],[18,34,14,34,"length"],[18,40,14,40],[18,42,14,42,"i"],[18,43,14,43],[18,45,14,45],[18,47,14,47],[19,6,15,8],[19,12,15,14,"char"],[19,16,15,18],[19,19,15,21,"signature"],[19,28,15,30],[19,29,15,31,"i"],[19,30,15,32],[19,31,15,33],[20,6,16,8],[20,10,16,12],[20,11,16,13],[20,14,16,16],[20,16,16,18],[20,19,16,21],[20,21,16,23],[20,24,16,26],[20,25,16,27],[20,26,16,28,"includes"],[20,34,16,36],[20,35,16,37,"char"],[20,39,16,41],[20,40,16,42],[20,42,17,12,"active"],[20,48,17,18],[20,51,17,21],[20,55,17,25],[21,6,18,8],[21,10,18,12,"char"],[21,14,18,16],[21,19,18,21],[21,22,18,24],[21,24,19,12,"level"],[21,29,19,17],[21,31,19,19],[22,6,20,8],[22,10,20,12,"char"],[22,14,20,16],[22,19,20,21],[22,22,20,24],[22,24,21,12,"level"],[22,29,21,17],[22,31,21,19],[23,6,22,8],[23,10,22,12],[23,11,22,13,"active"],[23,17,22,19],[23,19,23,12],[24,6,24,8],[24,10,24,12,"level"],[24,15,24,17],[24,20,24,22],[24,21,24,23],[24,23,24,25],[25,8,25,12],[25,12,25,16,"char"],[25,16,25,20],[25,21,25,25],[25,24,25,28],[25,28,25,32],[25,29,25,33],[25,36,25,40],[25,38,25,42],[25,48,25,52],[25,50,25,54],[25,57,25,61],[25,59,25,63],[25,61,25,65],[25,62,25,66],[25,63,25,67,"includes"],[25,71,25,75],[25,72,25,76,"result"],[25,78,25,82],[25,79,25,83],[25,81,26,16,"result"],[25,87,26,22],[25,90,26,25],[25,92,26,27],[25,93,26,28],[25,98,27,17],[26,10,28,16,"result"],[26,16,28,22],[26,20,28,26,"char"],[26,24,28,30],[27,10,29,16],[27,14,29,20,"char"],[27,18,29,24],[27,23,29,29],[27,26,29,32],[27,28,29,34],[28,12,30,20,"valid"],[28,17,30,25],[28,20,30,28],[28,24,30,32],[29,12,31,20],[30,10,32,16],[31,8,33,12],[32,8,34,12],[33,6,35,8],[34,6,36,8],[34,10,36,12,"char"],[34,14,36,16],[34,19,36,21],[34,22,36,24],[34,24,36,26],[35,8,37,12],[35,12,37,16,"signature"],[35,21,37,25],[35,22,37,26,"i"],[35,23,37,27],[35,26,37,30],[35,27,37,31],[35,28,37,32],[35,33,37,37],[35,36,37,40],[35,40,37,44,"current"],[35,47,37,51],[35,52,37,56],[35,55,37,59],[35,59,37,63,"current"],[35,66,37,70],[35,71,37,75],[35,75,37,79],[35,77,37,81],[36,10,38,16,"current"],[36,17,38,23],[36,20,38,26],[36,22,38,28],[37,10,39,16,"active"],[37,16,39,22],[37,19,39,25],[37,24,39,30],[38,8,40,12],[39,8,41,12],[40,6,42,8],[41,6,43,8,"result"],[41,12,43,14],[41,16,43,18,"char"],[41,20,43,22],[42,6,44,8,"current"],[42,13,44,15],[42,17,44,19,"char"],[42,21,44,23],[43,4,45,4],[44,4,46,4],[44,8,46,8],[44,9,46,9,"valid"],[44,14,46,14],[44,16,47,8],[44,22,47,14],[44,26,47,18,"Errors"],[44,32,47,24],[44,33,47,25,"BaseError"],[44,42,47,34],[44,43,47,35],[44,75,47,67],[44,76,47,68],[45,4,48,4],[45,11,48,11,"result"],[45,17,48,17],[46,2,49,0],[47,2,50,0],[47,11,50,9,"isArgOfType"],[47,22,50,20,"isArgOfType"],[47,23,50,21,"arg"],[47,26,50,24],[47,28,50,26,"abiParameter"],[47,40,50,38],[47,42,50,40],[48,4,51,4],[48,10,51,10,"argType"],[48,17,51,17],[48,20,51,20],[48,27,51,27,"arg"],[48,30,51,30],[49,4,52,4],[49,10,52,10,"abiParameterType"],[49,26,52,26],[49,29,52,29,"abiParameter"],[49,41,52,41],[49,42,52,42,"type"],[49,46,52,46],[50,4,53,4],[50,12,53,12,"abiParameterType"],[50,28,53,28],[51,6,54,8],[51,11,54,13],[51,20,54,22],[52,8,55,12],[52,15,55,19,"Address"],[52,22,55,26],[52,23,55,27,"validate"],[52,31,55,35],[52,32,55,36,"arg"],[52,35,55,39],[52,37,55,41],[53,10,55,43,"strict"],[53,16,55,49],[53,18,55,51],[54,8,55,57],[54,9,55,58],[54,10,55,59],[55,6,56,8],[55,11,56,13],[55,17,56,19],[56,8,57,12],[56,15,57,19,"argType"],[56,22,57,26],[56,27,57,31],[56,36,57,40],[57,6,58,8],[57,11,58,13],[57,21,58,23],[58,8,59,12],[58,15,59,19,"argType"],[58,22,59,26],[58,27,59,31],[58,35,59,39],[59,6,60,8],[59,11,60,13],[59,19,60,21],[60,8,61,12],[60,15,61,19,"argType"],[60,22,61,26],[60,27,61,31],[60,35,61,39],[61,6,62,8],[62,8,62,17],[63,10,63,12],[63,14,63,16,"abiParameterType"],[63,30,63,32],[63,35,63,37],[63,42,63,44],[63,46,63,48],[63,58,63,60],[63,62,63,64,"abiParameter"],[63,74,63,76],[63,76,64,16],[63,83,64,23,"Object"],[63,89,64,29],[63,90,64,30,"values"],[63,96,64,36],[63,97,64,37,"abiParameter"],[63,109,64,49],[63,110,64,50,"components"],[63,120,64,60],[63,121,64,61],[63,122,64,62,"every"],[63,127,64,67],[63,128,64,68],[63,129,64,69,"component"],[63,138,64,78],[63,140,64,80,"index"],[63,145,64,85],[63,150,64,90],[64,12,65,20],[64,19,65,27,"isArgOfType"],[64,30,65,38],[64,31,65,39,"Object"],[64,37,65,45],[64,38,65,46,"values"],[64,44,65,52],[64,45,65,53,"arg"],[64,48,65,56],[64,49,65,57],[64,50,65,58,"index"],[64,55,65,63],[64,56,65,64],[64,58,65,66,"component"],[64,67,65,75],[64,68,65,76],[65,10,66,16],[65,11,66,17],[65,12,66,18],[66,10,67,12],[66,14,67,16],[66,140,67,142],[66,141,67,143,"test"],[66,145,67,147],[66,146,67,148,"abiParameterType"],[66,162,67,164],[66,163,67,165],[66,165,68,16],[66,172,68,23,"argType"],[66,179,68,30],[66,184,68,35],[66,192,68,43],[66,196,68,47,"argType"],[66,203,68,54],[66,208,68,59],[66,216,68,67],[67,10,69,12],[67,14,69,16],[67,52,69,54],[67,53,69,55,"test"],[67,57,69,59],[67,58,69,60,"abiParameterType"],[67,74,69,76],[67,75,69,77],[67,77,70,16],[67,84,70,23,"argType"],[67,91,70,30],[67,96,70,35],[67,104,70,43],[67,108,70,47,"arg"],[67,111,70,50],[67,123,70,62,"Uint8Array"],[67,133,70,72],[68,10,71,12],[68,14,71,16],[68,49,71,51],[68,50,71,52,"test"],[68,54,71,56],[68,55,71,57,"abiParameterType"],[68,71,71,73],[68,72,71,74],[68,74,71,76],[69,12,72,16],[69,19,72,24,"Array"],[69,24,72,29],[69,25,72,30,"isArray"],[69,32,72,37],[69,33,72,38,"arg"],[69,36,72,41],[69,37,72,42],[69,41,73,20,"arg"],[69,44,73,23],[69,45,73,24,"every"],[69,50,73,29],[69,51,73,31,"x"],[69,52,73,32],[69,56,73,37,"isArgOfType"],[69,67,73,48],[69,68,73,49,"x"],[69,69,73,50],[69,71,73,52],[70,14,74,24],[70,17,74,27,"abiParameter"],[70,29,74,39],[71,14,75,24,"type"],[71,18,75,28],[71,20,75,30,"abiParameterType"],[71,36,75,46],[71,37,75,47,"replace"],[71,44,75,54],[71,45,75,55],[71,63,75,73],[71,65,75,75],[71,67,75,77],[72,12,76,20],[72,13,76,21],[72,14,76,22],[72,15,76,23],[73,10,77,12],[74,10,78,12],[74,17,78,19],[74,22,78,24],[75,8,79,8],[76,4,80,4],[77,2,81,0],[78,2,82,0],[78,11,82,9,"getAmbiguousTypes"],[78,28,82,26,"getAmbiguousTypes"],[78,29,82,27,"sourceParameters"],[78,45,82,43],[78,47,82,45,"targetParameters"],[78,63,82,61],[78,65,82,63,"args"],[78,69,82,67],[78,71,82,69],[79,4,83,4],[79,9,83,9],[79,15,83,15,"parameterIndex"],[79,29,83,29],[79,33,83,33,"sourceParameters"],[79,49,83,49],[79,51,83,51],[80,6,84,8],[80,12,84,14,"sourceParameter"],[80,27,84,29],[80,30,84,32,"sourceParameters"],[80,46,84,48],[80,47,84,49,"parameterIndex"],[80,61,84,63],[80,62,84,64],[81,6,85,8],[81,12,85,14,"targetParameter"],[81,27,85,29],[81,30,85,32,"targetParameters"],[81,46,85,48],[81,47,85,49,"parameterIndex"],[81,61,85,63],[81,62,85,64],[82,6,86,8],[82,10,86,12,"sourceParameter"],[82,25,86,27],[82,26,86,28,"type"],[82,30,86,32],[82,35,86,37],[82,42,86,44],[82,46,87,12,"targetParameter"],[82,61,87,27],[82,62,87,28,"type"],[82,66,87,32],[82,71,87,37],[82,78,87,44],[82,82,88,12],[82,94,88,24],[82,98,88,28,"sourceParameter"],[82,113,88,43],[82,117,89,12],[82,129,89,24],[82,133,89,28,"targetParameter"],[82,148,89,43],[82,150,90,12],[82,157,90,19,"getAmbiguousTypes"],[82,174,90,36],[82,175,90,37,"sourceParameter"],[82,190,90,52],[82,191,90,53,"components"],[82,201,90,63],[82,203,90,65,"targetParameter"],[82,218,90,80],[82,219,90,81,"components"],[82,229,90,91],[82,231,90,93,"args"],[82,235,90,97],[82,236,90,98,"parameterIndex"],[82,250,90,112],[82,251,90,113],[82,252,90,114],[83,6,91,8],[83,12,91,14,"types"],[83,17,91,19],[83,20,91,22],[83,21,91,23,"sourceParameter"],[83,36,91,38],[83,37,91,39,"type"],[83,41,91,43],[83,43,91,45,"targetParameter"],[83,58,91,60],[83,59,91,61,"type"],[83,63,91,65],[83,64,91,66],[84,6,92,8],[84,12,92,14,"ambiguous"],[84,21,92,23],[84,24,92,26],[84,25,92,27],[84,31,92,33],[85,8,93,12],[85,12,93,16,"types"],[85,17,93,21],[85,18,93,22,"includes"],[85,26,93,30],[85,27,93,31],[85,36,93,40],[85,37,93,41],[85,41,93,45,"types"],[85,46,93,50],[85,47,93,51,"includes"],[85,55,93,59],[85,56,93,60],[85,65,93,69],[85,66,93,70],[85,68,94,16],[85,75,94,23],[85,79,94,27],[86,8,95,12],[86,12,95,16,"types"],[86,17,95,21],[86,18,95,22,"includes"],[86,26,95,30],[86,27,95,31],[86,36,95,40],[86,37,95,41],[86,41,95,45,"types"],[86,46,95,50],[86,47,95,51,"includes"],[86,55,95,59],[86,56,95,60],[86,64,95,68],[86,65,95,69],[86,67,96,16],[86,74,96,23,"Address"],[86,81,96,30],[86,82,96,31,"validate"],[86,90,96,39],[86,91,96,40,"args"],[86,95,96,44],[86,96,96,45,"parameterIndex"],[86,110,96,59],[86,111,96,60],[86,113,96,62],[87,10,97,20,"strict"],[87,16,97,26],[87,18,97,28],[88,8,98,16],[88,9,98,17],[88,10,98,18],[89,8,99,12],[89,12,99,16,"types"],[89,17,99,21],[89,18,99,22,"includes"],[89,26,99,30],[89,27,99,31],[89,36,99,40],[89,37,99,41],[89,41,99,45,"types"],[89,46,99,50],[89,47,99,51,"includes"],[89,55,99,59],[89,56,99,60],[89,63,99,67],[89,64,99,68],[89,66,100,16],[89,73,100,23,"Address"],[89,80,100,30],[89,81,100,31,"validate"],[89,89,100,39],[89,90,100,40,"args"],[89,94,100,44],[89,95,100,45,"parameterIndex"],[89,109,100,59],[89,110,100,60],[89,112,100,62],[90,10,101,20,"strict"],[90,16,101,26],[90,18,101,28],[91,8,102,16],[91,9,102,17],[91,10,102,18],[92,8,103,12],[92,15,103,19],[92,20,103,24],[93,6,104,8],[93,7,104,9],[93,9,104,11],[93,10,104,12],[94,6,105,8],[94,10,105,12,"ambiguous"],[94,19,105,21],[94,21,106,12],[94,28,106,19,"types"],[94,33,106,24],[95,4,107,4],[96,4,108,4],[97,2,109,0],[98,0,109,1],[98,3]],"functionMap":{"names":["<global>","normalizeSignature","isArgOfType","Object.values.every$argument_0","arg.every$argument_0","getAmbiguousTypes","<anonymous>"],"mappings":"AAA;ACO;CDyC;AEC;oECc;iBDE;8BEO;sBFG;CFK;AKC;2BCU;SDY;CLK"},"hasCjsExports":true},"type":"js/module"}]}