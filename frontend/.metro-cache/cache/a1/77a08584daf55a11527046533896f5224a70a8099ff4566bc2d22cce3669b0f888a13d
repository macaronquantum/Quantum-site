{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  /**\n   * Initialize backoff timer with `opts`.\n   *\n   * - `min` initial timeout in milliseconds [100]\n   * - `max` max timeout [10000]\n   * - `jitter` [0]\n   * - `factor` [2]\n   *\n   * @param {Object} opts\n   * @api public\n   */\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.Backoff = Backoff;\n  function Backoff(opts) {\n    opts = opts || {};\n    this.ms = opts.min || 100;\n    this.max = opts.max || 10000;\n    this.factor = opts.factor || 2;\n    this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n    this.attempts = 0;\n  }\n  /**\n   * Return the backoff duration.\n   *\n   * @return {Number}\n   * @api public\n   */\n  Backoff.prototype.duration = function () {\n    var ms = this.ms * Math.pow(this.factor, this.attempts++);\n    if (this.jitter) {\n      var rand = Math.random();\n      var deviation = Math.floor(rand * this.jitter * ms);\n      ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n    }\n    return Math.min(ms, this.max) | 0;\n  };\n  /**\n   * Reset the number of attempts.\n   *\n   * @api public\n   */\n  Backoff.prototype.reset = function () {\n    this.attempts = 0;\n  };\n  /**\n   * Set the minimum duration\n   *\n   * @api public\n   */\n  Backoff.prototype.setMin = function (min) {\n    this.ms = min;\n  };\n  /**\n   * Set the maximum duration\n   *\n   * @api public\n   */\n  Backoff.prototype.setMax = function (max) {\n    this.max = max;\n  };\n  /**\n   * Set the jitter\n   *\n   * @api public\n   */\n  Backoff.prototype.setJitter = function (jitter) {\n    this.jitter = jitter;\n  };\n});","lineCount":74,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0],[5,0,3,0],[6,0,4,0],[7,0,5,0],[8,0,6,0],[9,0,7,0],[10,0,8,0],[11,0,9,0],[12,0,10,0],[13,0,11,0],[14,0,12,0],[15,2,13,0,"Object"],[15,8,13,6],[15,9,13,7,"defineProperty"],[15,23,13,21],[15,24,13,22,"exports"],[15,31,13,29],[15,33,13,31],[15,45,13,43],[15,47,13,45],[16,4,13,47,"value"],[16,9,13,52],[16,11,13,54],[17,2,13,59],[17,3,13,60],[17,4,13,61],[18,2,14,0,"exports"],[18,9,14,7],[18,10,14,8,"Backoff"],[18,17,14,15],[18,20,14,18,"Backoff"],[18,27,14,25],[19,2,15,0],[19,11,15,9,"Backoff"],[19,18,15,16,"Backoff"],[19,19,15,17,"opts"],[19,23,15,21],[19,25,15,23],[20,4,16,4,"opts"],[20,8,16,8],[20,11,16,11,"opts"],[20,15,16,15],[20,19,16,19],[20,20,16,20],[20,21,16,21],[21,4,17,4],[21,8,17,8],[21,9,17,9,"ms"],[21,11,17,11],[21,14,17,14,"opts"],[21,18,17,18],[21,19,17,19,"min"],[21,22,17,22],[21,26,17,26],[21,29,17,29],[22,4,18,4],[22,8,18,8],[22,9,18,9,"max"],[22,12,18,12],[22,15,18,15,"opts"],[22,19,18,19],[22,20,18,20,"max"],[22,23,18,23],[22,27,18,27],[22,32,18,32],[23,4,19,4],[23,8,19,8],[23,9,19,9,"factor"],[23,15,19,15],[23,18,19,18,"opts"],[23,22,19,22],[23,23,19,23,"factor"],[23,29,19,29],[23,33,19,33],[23,34,19,34],[24,4,20,4],[24,8,20,8],[24,9,20,9,"jitter"],[24,15,20,15],[24,18,20,18,"opts"],[24,22,20,22],[24,23,20,23,"jitter"],[24,29,20,29],[24,32,20,32],[24,33,20,33],[24,37,20,37,"opts"],[24,41,20,41],[24,42,20,42,"jitter"],[24,48,20,48],[24,52,20,52],[24,53,20,53],[24,56,20,56,"opts"],[24,60,20,60],[24,61,20,61,"jitter"],[24,67,20,67],[24,70,20,70],[24,71,20,71],[25,4,21,4],[25,8,21,8],[25,9,21,9,"attempts"],[25,17,21,17],[25,20,21,20],[25,21,21,21],[26,2,22,0],[27,2,23,0],[28,0,24,0],[29,0,25,0],[30,0,26,0],[31,0,27,0],[32,0,28,0],[33,2,29,0,"Backoff"],[33,9,29,7],[33,10,29,8,"prototype"],[33,19,29,17],[33,20,29,18,"duration"],[33,28,29,26],[33,31,29,29],[33,43,29,41],[34,4,30,4],[34,8,30,8,"ms"],[34,10,30,10],[34,13,30,13],[34,17,30,17],[34,18,30,18,"ms"],[34,20,30,20],[34,23,30,23,"Math"],[34,27,30,27],[34,28,30,28,"pow"],[34,31,30,31],[34,32,30,32],[34,36,30,36],[34,37,30,37,"factor"],[34,43,30,43],[34,45,30,45],[34,49,30,49],[34,50,30,50,"attempts"],[34,58,30,58],[34,60,30,60],[34,61,30,61],[35,4,31,4],[35,8,31,8],[35,12,31,12],[35,13,31,13,"jitter"],[35,19,31,19],[35,21,31,21],[36,6,32,8],[36,10,32,12,"rand"],[36,14,32,16],[36,17,32,19,"Math"],[36,21,32,23],[36,22,32,24,"random"],[36,28,32,30],[36,29,32,31],[36,30,32,32],[37,6,33,8],[37,10,33,12,"deviation"],[37,19,33,21],[37,22,33,24,"Math"],[37,26,33,28],[37,27,33,29,"floor"],[37,32,33,34],[37,33,33,35,"rand"],[37,37,33,39],[37,40,33,42],[37,44,33,46],[37,45,33,47,"jitter"],[37,51,33,53],[37,54,33,56,"ms"],[37,56,33,58],[37,57,33,59],[38,6,34,8,"ms"],[38,8,34,10],[38,11,34,13],[38,12,34,14,"Math"],[38,16,34,18],[38,17,34,19,"floor"],[38,22,34,24],[38,23,34,25,"rand"],[38,27,34,29],[38,30,34,32],[38,32,34,34],[38,33,34,35],[38,36,34,38],[38,37,34,39],[38,42,34,44],[38,43,34,45],[38,46,34,48,"ms"],[38,48,34,50],[38,51,34,53,"deviation"],[38,60,34,62],[38,63,34,65,"ms"],[38,65,34,67],[38,68,34,70,"deviation"],[38,77,34,79],[39,4,35,4],[40,4,36,4],[40,11,36,11,"Math"],[40,15,36,15],[40,16,36,16,"min"],[40,19,36,19],[40,20,36,20,"ms"],[40,22,36,22],[40,24,36,24],[40,28,36,28],[40,29,36,29,"max"],[40,32,36,32],[40,33,36,33],[40,36,36,36],[40,37,36,37],[41,2,37,0],[41,3,37,1],[42,2,38,0],[43,0,39,0],[44,0,40,0],[45,0,41,0],[46,0,42,0],[47,2,43,0,"Backoff"],[47,9,43,7],[47,10,43,8,"prototype"],[47,19,43,17],[47,20,43,18,"reset"],[47,25,43,23],[47,28,43,26],[47,40,43,38],[48,4,44,4],[48,8,44,8],[48,9,44,9,"attempts"],[48,17,44,17],[48,20,44,20],[48,21,44,21],[49,2,45,0],[49,3,45,1],[50,2,46,0],[51,0,47,0],[52,0,48,0],[53,0,49,0],[54,0,50,0],[55,2,51,0,"Backoff"],[55,9,51,7],[55,10,51,8,"prototype"],[55,19,51,17],[55,20,51,18,"setMin"],[55,26,51,24],[55,29,51,27],[55,39,51,37,"min"],[55,42,51,40],[55,44,51,42],[56,4,52,4],[56,8,52,8],[56,9,52,9,"ms"],[56,11,52,11],[56,14,52,14,"min"],[56,17,52,17],[57,2,53,0],[57,3,53,1],[58,2,54,0],[59,0,55,0],[60,0,56,0],[61,0,57,0],[62,0,58,0],[63,2,59,0,"Backoff"],[63,9,59,7],[63,10,59,8,"prototype"],[63,19,59,17],[63,20,59,18,"setMax"],[63,26,59,24],[63,29,59,27],[63,39,59,37,"max"],[63,42,59,40],[63,44,59,42],[64,4,60,4],[64,8,60,8],[64,9,60,9,"max"],[64,12,60,12],[64,15,60,15,"max"],[64,18,60,18],[65,2,61,0],[65,3,61,1],[66,2,62,0],[67,0,63,0],[68,0,64,0],[69,0,65,0],[70,0,66,0],[71,2,67,0,"Backoff"],[71,9,67,7],[71,10,67,8,"prototype"],[71,19,67,17],[71,20,67,18,"setJitter"],[71,29,67,27],[71,32,67,30],[71,42,67,40,"jitter"],[71,48,67,46],[71,50,67,48],[72,4,68,4],[72,8,68,8],[72,9,68,9,"jitter"],[72,15,68,15],[72,18,68,18,"jitter"],[72,24,68,24],[73,2,69,0],[73,3,69,1],[74,0,69,2],[74,3]],"functionMap":{"names":["<global>","Backoff","Backoff.prototype.duration","Backoff.prototype.reset","Backoff.prototype.setMin","Backoff.prototype.setMax","Backoff.prototype.setJitter"],"mappings":"AAA;ACc;CDO;6BEO;CFQ;0BGM;CHE;2BIM;CJE;2BKM;CLE;8BMM;CNE"},"hasCjsExports":true},"type":"js/module"}]}