{"dependencies":[{"name":"../../utils/getAction.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":53,"index":53}}],"key":"vt4scbNyA2t/tyY0oQJI6AZPJS4=","exportNames":["*"],"imports":1}},{"name":"./getBlockNumber.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":54},"end":{"line":2,"column":54,"index":108}}],"key":"vkmLol6zSAC8PjrcpHPHKsNs0ws=","exportNames":["*"],"imports":1}},{"name":"./getTransaction.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":109},"end":{"line":3,"column":54,"index":163}}],"key":"W/lfdUUzX/2edPD9UlYhQDCvpVo=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.getTransactionConfirmations = getTransactionConfirmations;\n  var _utilsGetActionJs = require(_dependencyMap[0], \"../../utils/getAction.js\");\n  var _getBlockNumberJs = require(_dependencyMap[1], \"./getBlockNumber.js\");\n  var _getTransactionJs = require(_dependencyMap[2], \"./getTransaction.js\");\n  /**\n   * Returns the number of blocks passed (confirmations) since the transaction was processed on a block.\n   *\n   * - Docs: https://viem.sh/docs/actions/public/getTransactionConfirmations\n   * - Example: https://stackblitz.com/github/wevm/viem/tree/main/examples/transactions_fetching-transactions\n   * - JSON-RPC Methods: [`eth_getTransactionConfirmations`](https://ethereum.org/en/developers/docs/apis/json-rpc/#eth_getTransactionConfirmations)\n   *\n   * @param client - Client to use\n   * @param parameters - {@link GetTransactionConfirmationsParameters}\n   * @returns The number of blocks passed since the transaction was processed. If confirmations is 0, then the Transaction has not been confirmed & processed yet. {@link GetTransactionConfirmationsReturnType}\n   *\n   * @example\n   * import { createPublicClient, http } from 'viem'\n   * import { mainnet } from 'viem/chains'\n   * import { getTransactionConfirmations } from 'viem/public'\n   *\n   * const client = createPublicClient({\n   *   chain: mainnet,\n   *   transport: http(),\n   * })\n   * const confirmations = await getTransactionConfirmations(client, {\n   *   hash: '0x4ca7ee652d57678f26e887c149ab0735f41de37bcad58c9f6d3ed5824f15b74d',\n   * })\n   */\n  async function getTransactionConfirmations(client, {\n    hash,\n    transactionReceipt\n  }) {\n    const [blockNumber, transaction] = await Promise.all([(0, _utilsGetActionJs.getAction)(client, _getBlockNumberJs.getBlockNumber, 'getBlockNumber')({}), hash ? (0, _utilsGetActionJs.getAction)(client, _getTransactionJs.getTransaction, 'getTransaction')({\n      hash\n    }) : undefined]);\n    const transactionBlockNumber = transactionReceipt?.blockNumber || transaction?.blockNumber;\n    if (!transactionBlockNumber) return 0n;\n    return blockNumber - transactionBlockNumber + 1n;\n  }\n});","lineCount":46,"map":[[7,2,28,0,"exports"],[7,9,28,0],[7,10,28,0,"getTransactionConfirmations"],[7,37,28,0],[7,40,28,0,"getTransactionConfirmations"],[7,67,28,0],[8,2,1,0],[8,6,1,0,"_utilsGetActionJs"],[8,23,1,0],[8,26,1,0,"require"],[8,33,1,0],[8,34,1,0,"_dependencyMap"],[8,48,1,0],[9,2,2,0],[9,6,2,0,"_getBlockNumberJs"],[9,23,2,0],[9,26,2,0,"require"],[9,33,2,0],[9,34,2,0,"_dependencyMap"],[9,48,2,0],[10,2,3,0],[10,6,3,0,"_getTransactionJs"],[10,23,3,0],[10,26,3,0,"require"],[10,33,3,0],[10,34,3,0,"_dependencyMap"],[10,48,3,0],[11,2,4,0],[12,0,5,0],[13,0,6,0],[14,0,7,0],[15,0,8,0],[16,0,9,0],[17,0,10,0],[18,0,11,0],[19,0,12,0],[20,0,13,0],[21,0,14,0],[22,0,15,0],[23,0,16,0],[24,0,17,0],[25,0,18,0],[26,0,19,0],[27,0,20,0],[28,0,21,0],[29,0,22,0],[30,0,23,0],[31,0,24,0],[32,0,25,0],[33,0,26,0],[34,0,27,0],[35,2,28,7],[35,17,28,22,"getTransactionConfirmations"],[35,44,28,49,"getTransactionConfirmations"],[35,45,28,50,"client"],[35,51,28,56],[35,53,28,58],[36,4,28,60,"hash"],[36,8,28,64],[37,4,28,66,"transactionReceipt"],[38,2,28,85],[38,3,28,86],[38,5,28,88],[39,4,29,4],[39,10,29,10],[39,11,29,11,"blockNumber"],[39,22,29,22],[39,24,29,24,"transaction"],[39,35,29,35],[39,36,29,36],[39,39,29,39],[39,45,29,45,"Promise"],[39,52,29,52],[39,53,29,53,"all"],[39,56,29,56],[39,57,29,57],[39,58,30,8],[39,62,30,8,"getAction"],[39,79,30,17],[39,80,30,17,"getAction"],[39,89,30,17],[39,91,30,18,"client"],[39,97,30,24],[39,99,30,26,"getBlockNumber"],[39,116,30,40],[39,117,30,40,"getBlockNumber"],[39,131,30,40],[39,133,30,42],[39,149,30,58],[39,150,30,59],[39,151,30,60],[39,152,30,61],[39,153,30,62],[39,154,30,63],[39,156,31,8,"hash"],[39,160,31,12],[39,163,32,14],[39,167,32,14,"getAction"],[39,184,32,23],[39,185,32,23,"getAction"],[39,194,32,23],[39,196,32,24,"client"],[39,202,32,30],[39,204,32,32,"getTransaction"],[39,221,32,46],[39,222,32,46,"getTransaction"],[39,236,32,46],[39,238,32,48],[39,254,32,64],[39,255,32,65],[39,256,32,66],[40,6,32,68,"hash"],[41,4,32,73],[41,5,32,74],[41,6,32,75],[41,9,33,14,"undefined"],[41,18,33,23],[41,19,34,5],[41,20,34,6],[42,4,35,4],[42,10,35,10,"transactionBlockNumber"],[42,32,35,32],[42,35,35,35,"transactionReceipt"],[42,53,35,53],[42,55,35,55,"blockNumber"],[42,66,35,66],[42,70,35,70,"transaction"],[42,81,35,81],[42,83,35,83,"blockNumber"],[42,94,35,94],[43,4,36,4],[43,8,36,8],[43,9,36,9,"transactionBlockNumber"],[43,31,36,31],[43,33,37,8],[43,40,37,15],[43,42,37,17],[44,4,38,4],[44,11,38,11,"blockNumber"],[44,22,38,22],[44,25,38,25,"transactionBlockNumber"],[44,47,38,47],[44,50,38,50],[44,52,38,52],[45,2,39,0],[46,0,39,1],[46,3]],"functionMap":{"names":["<global>","getTransactionConfirmations"],"mappings":"AAA;OC2B;CDW"},"hasCjsExports":false},"type":"js/module"}]}