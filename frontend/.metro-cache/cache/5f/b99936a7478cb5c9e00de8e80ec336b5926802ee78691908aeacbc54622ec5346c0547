{"dependencies":[{"name":"../../ours/primordials","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":39,"index":53},"end":{"line":3,"column":72,"index":86}}],"key":"NYjhRIk1YfVwfaQSeITMV+mboSc=","exportNames":["*"],"imports":1}},{"name":"../validators","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":28,"index":115},"end":{"line":4,"column":52,"index":139}}],"key":"Q/gJtROA6VLBoh1+RtmyBJzth0E=","exportNames":["*"],"imports":1}},{"name":"../../ours/errors","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":34,"index":174},"end":{"line":5,"column":62,"index":202}}],"key":"1gsl/vMwrKGa5aYfNtCHl6fAfek=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  const {\n    MathFloor,\n    NumberIsInteger\n  } = require(_dependencyMap[0], \"../../ours/primordials\");\n  const {\n    validateInteger\n  } = require(_dependencyMap[1], \"../validators\");\n  const {\n    ERR_INVALID_ARG_VALUE\n  } = require(_dependencyMap[2], \"../../ours/errors\").codes;\n  let defaultHighWaterMarkBytes = 16 * 1024;\n  let defaultHighWaterMarkObjectMode = 16;\n  function highWaterMarkFrom(options, isDuplex, duplexKey) {\n    return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null;\n  }\n  function getDefaultHighWaterMark(objectMode) {\n    return objectMode ? defaultHighWaterMarkObjectMode : defaultHighWaterMarkBytes;\n  }\n  function setDefaultHighWaterMark(objectMode, value) {\n    validateInteger(value, 'value', 0);\n    if (objectMode) {\n      defaultHighWaterMarkObjectMode = value;\n    } else {\n      defaultHighWaterMarkBytes = value;\n    }\n  }\n  function getHighWaterMark(state, options, duplexKey, isDuplex) {\n    const hwm = highWaterMarkFrom(options, isDuplex, duplexKey);\n    if (hwm != null) {\n      if (!NumberIsInteger(hwm) || hwm < 0) {\n        const name = isDuplex ? `options.${duplexKey}` : 'options.highWaterMark';\n        throw new ERR_INVALID_ARG_VALUE(name, hwm);\n      }\n      return MathFloor(hwm);\n    }\n\n    // Default value\n    return getDefaultHighWaterMark(state.objectMode);\n  }\n  module.exports = {\n    getHighWaterMark,\n    getDefaultHighWaterMark,\n    setDefaultHighWaterMark\n  };\n});","lineCount":48,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0],[4,8,3,6],[5,4,3,8,"MathFloor"],[5,13,3,17],[6,4,3,19,"NumberIsInteger"],[7,2,3,35],[7,3,3,36],[7,6,3,39,"require"],[7,13,3,46],[7,14,3,46,"_dependencyMap"],[7,28,3,46],[7,57,3,71],[7,58,3,72],[8,2,4,0],[8,8,4,6],[9,4,4,8,"validateInteger"],[10,2,4,24],[10,3,4,25],[10,6,4,28,"require"],[10,13,4,35],[10,14,4,35,"_dependencyMap"],[10,28,4,35],[10,48,4,51],[10,49,4,52],[11,2,5,0],[11,8,5,6],[12,4,5,8,"ERR_INVALID_ARG_VALUE"],[13,2,5,30],[13,3,5,31],[13,6,5,34,"require"],[13,13,5,41],[13,14,5,41,"_dependencyMap"],[13,28,5,41],[13,52,5,61],[13,53,5,62],[13,54,5,63,"codes"],[13,59,5,68],[14,2,6,0],[14,6,6,4,"defaultHighWaterMarkBytes"],[14,31,6,29],[14,34,6,32],[14,36,6,34],[14,39,6,37],[14,43,6,41],[15,2,7,0],[15,6,7,4,"defaultHighWaterMarkObjectMode"],[15,36,7,34],[15,39,7,37],[15,41,7,39],[16,2,8,0],[16,11,8,9,"highWaterMarkFrom"],[16,28,8,26,"highWaterMarkFrom"],[16,29,8,27,"options"],[16,36,8,34],[16,38,8,36,"isDuplex"],[16,46,8,44],[16,48,8,46,"duplexKey"],[16,57,8,55],[16,59,8,57],[17,4,9,2],[17,11,9,9,"options"],[17,18,9,16],[17,19,9,17,"highWaterMark"],[17,32,9,30],[17,36,9,34],[17,40,9,38],[17,43,9,41,"options"],[17,50,9,48],[17,51,9,49,"highWaterMark"],[17,64,9,62],[17,67,9,65,"isDuplex"],[17,75,9,73],[17,78,9,76,"options"],[17,85,9,83],[17,86,9,84,"duplexKey"],[17,95,9,93],[17,96,9,94],[17,99,9,97],[17,103,9,101],[18,2,10,0],[19,2,11,0],[19,11,11,9,"getDefaultHighWaterMark"],[19,34,11,32,"getDefaultHighWaterMark"],[19,35,11,33,"objectMode"],[19,45,11,43],[19,47,11,45],[20,4,12,2],[20,11,12,9,"objectMode"],[20,21,12,19],[20,24,12,22,"defaultHighWaterMarkObjectMode"],[20,54,12,52],[20,57,12,55,"defaultHighWaterMarkBytes"],[20,82,12,80],[21,2,13,0],[22,2,14,0],[22,11,14,9,"setDefaultHighWaterMark"],[22,34,14,32,"setDefaultHighWaterMark"],[22,35,14,33,"objectMode"],[22,45,14,43],[22,47,14,45,"value"],[22,52,14,50],[22,54,14,52],[23,4,15,2,"validateInteger"],[23,19,15,17],[23,20,15,18,"value"],[23,25,15,23],[23,27,15,25],[23,34,15,32],[23,36,15,34],[23,37,15,35],[23,38,15,36],[24,4,16,2],[24,8,16,6,"objectMode"],[24,18,16,16],[24,20,16,18],[25,6,17,4,"defaultHighWaterMarkObjectMode"],[25,36,17,34],[25,39,17,37,"value"],[25,44,17,42],[26,4,18,2],[26,5,18,3],[26,11,18,9],[27,6,19,4,"defaultHighWaterMarkBytes"],[27,31,19,29],[27,34,19,32,"value"],[27,39,19,37],[28,4,20,2],[29,2,21,0],[30,2,22,0],[30,11,22,9,"getHighWaterMark"],[30,27,22,25,"getHighWaterMark"],[30,28,22,26,"state"],[30,33,22,31],[30,35,22,33,"options"],[30,42,22,40],[30,44,22,42,"duplexKey"],[30,53,22,51],[30,55,22,53,"isDuplex"],[30,63,22,61],[30,65,22,63],[31,4,23,2],[31,10,23,8,"hwm"],[31,13,23,11],[31,16,23,14,"highWaterMarkFrom"],[31,33,23,31],[31,34,23,32,"options"],[31,41,23,39],[31,43,23,41,"isDuplex"],[31,51,23,49],[31,53,23,51,"duplexKey"],[31,62,23,60],[31,63,23,61],[32,4,24,2],[32,8,24,6,"hwm"],[32,11,24,9],[32,15,24,13],[32,19,24,17],[32,21,24,19],[33,6,25,4],[33,10,25,8],[33,11,25,9,"NumberIsInteger"],[33,26,25,24],[33,27,25,25,"hwm"],[33,30,25,28],[33,31,25,29],[33,35,25,33,"hwm"],[33,38,25,36],[33,41,25,39],[33,42,25,40],[33,44,25,42],[34,8,26,6],[34,14,26,12,"name"],[34,18,26,16],[34,21,26,19,"isDuplex"],[34,29,26,27],[34,32,26,30],[34,43,26,41,"duplexKey"],[34,52,26,50],[34,54,26,52],[34,57,26,55],[34,80,26,78],[35,8,27,6],[35,14,27,12],[35,18,27,16,"ERR_INVALID_ARG_VALUE"],[35,39,27,37],[35,40,27,38,"name"],[35,44,27,42],[35,46,27,44,"hwm"],[35,49,27,47],[35,50,27,48],[36,6,28,4],[37,6,29,4],[37,13,29,11,"MathFloor"],[37,22,29,20],[37,23,29,21,"hwm"],[37,26,29,24],[37,27,29,25],[38,4,30,2],[40,4,32,2],[41,4,33,2],[41,11,33,9,"getDefaultHighWaterMark"],[41,34,33,32],[41,35,33,33,"state"],[41,40,33,38],[41,41,33,39,"objectMode"],[41,51,33,49],[41,52,33,50],[42,2,34,0],[43,2,35,0,"module"],[43,8,35,6],[43,9,35,7,"exports"],[43,16,35,14],[43,19,35,17],[44,4,36,2,"getHighWaterMark"],[44,20,36,18],[45,4,37,2,"getDefaultHighWaterMark"],[45,27,37,25],[46,4,38,2,"setDefaultHighWaterMark"],[47,2,39,0],[47,3,39,1],[48,0,39,1],[48,3]],"functionMap":{"names":["<global>","highWaterMarkFrom","getDefaultHighWaterMark","setDefaultHighWaterMark","getHighWaterMark"],"mappings":"AAA;ACO;CDE;AEC;CFE;AGC;CHO;AIC;CJY"},"hasCjsExports":true},"type":"js/module"}]}