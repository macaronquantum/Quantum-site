{"dependencies":[{"name":"./utils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":16,"index":131},"end":{"line":4,"column":34,"index":149}}],"key":"Arg6QRuIuy5D/jfcnxX1qJiHjX8=","exportNames":["*"],"imports":1}},{"name":"./fountainUtils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":24,"index":175},"end":{"line":5,"column":50,"index":201}}],"key":"MM4T9KPS6t3kff0JmAdPdrFfz+8=","exportNames":["*"],"imports":1}},{"name":"./errors","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":17,"index":220},"end":{"line":6,"column":36,"index":239}}],"key":"GlkDztMSsNRYmp31iO+V/Albin8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.FountainDecoderPart = void 0;\n  const utils_1 = require(_dependencyMap[0], \"./utils\");\n  const fountainUtils_1 = require(_dependencyMap[1], \"./fountainUtils\");\n  const errors_1 = require(_dependencyMap[2], \"./errors\");\n  class FountainDecoderPart {\n    constructor(_indexes, _fragment) {\n      this._indexes = _indexes;\n      this._fragment = _fragment;\n    }\n    get indexes() {\n      return this._indexes;\n    }\n    get fragment() {\n      return this._fragment;\n    }\n    static fromEncoderPart(encoderPart) {\n      const indexes = fountainUtils_1.chooseFragments(encoderPart.seqNum, encoderPart.seqLength, encoderPart.checksum);\n      const fragment = encoderPart.fragment;\n      return new FountainDecoderPart(indexes, fragment);\n    }\n    isSimple() {\n      return this.indexes.length === 1;\n    }\n  }\n  exports.FountainDecoderPart = FountainDecoderPart;\n  class FountainDecoder {\n    constructor() {\n      this.result = undefined;\n      this.expectedMessageLength = 0;\n      this.expectedChecksum = 0;\n      this.expectedFragmentLength = 0;\n      this.processedPartsCount = 0;\n      this.expectedPartIndexes = [];\n      this.lastPartIndexes = [];\n      this.queuedParts = [];\n      this.receivedPartIndexes = [];\n      this.mixedParts = [];\n      this.simpleParts = [];\n    }\n    validatePart(part) {\n      // If this is the first part we've seen\n      if (this.expectedPartIndexes.length === 0) {\n        // Record the things that all the other parts we see will have to match to be valid.\n        [...new Array(part.seqLength)].forEach((_, index) => this.expectedPartIndexes.push(index));\n        this.expectedMessageLength = part.messageLength;\n        this.expectedChecksum = part.checksum;\n        this.expectedFragmentLength = part.fragment.length;\n      } else {\n        // If this part's values don't match the first part's values, throw away the part\n        if (this.expectedPartIndexes.length !== part.seqLength) {\n          return false;\n        }\n        if (this.expectedMessageLength !== part.messageLength) {\n          return false;\n        }\n        if (this.expectedChecksum !== part.checksum) {\n          return false;\n        }\n        if (this.expectedFragmentLength !== part.fragment.length) {\n          return false;\n        }\n      }\n      // This part should be processed\n      return true;\n    }\n    reducePartByPart(a, b) {\n      // If the fragments mixed into `b` are a strict (proper) subset of those in `a`...\n      if (utils_1.arrayContains(a.indexes, b.indexes)) {\n        const newIndexes = utils_1.setDifference(a.indexes, b.indexes);\n        const newFragment = utils_1.bufferXOR(a.fragment, b.fragment);\n        return new FountainDecoderPart(newIndexes, newFragment);\n      } else {\n        // `a` is not reducable by `b`, so return a\n        return a;\n      }\n    }\n    reduceMixedBy(part) {\n      const newMixed = [];\n      this.mixedParts.map(({\n        value: mixedPart\n      }) => this.reducePartByPart(mixedPart, part)).forEach(reducedPart => {\n        if (reducedPart.isSimple()) {\n          this.queuedParts.push(reducedPart);\n        } else {\n          newMixed.push({\n            key: reducedPart.indexes,\n            value: reducedPart\n          });\n        }\n      });\n      this.mixedParts = newMixed;\n    }\n    processSimplePart(part) {\n      // Don't process duplicate parts\n      const fragmentIndex = part.indexes[0];\n      if (this.receivedPartIndexes.includes(fragmentIndex)) {\n        return;\n      }\n      this.simpleParts.push({\n        key: part.indexes,\n        value: part\n      });\n      this.receivedPartIndexes.push(fragmentIndex);\n      // If we've received all the parts\n      if (utils_1.arraysEqual(this.receivedPartIndexes, this.expectedPartIndexes)) {\n        // Reassemble the message from its fragments\n        const sortedParts = this.simpleParts.map(({\n          value\n        }) => value).sort((a, b) => a.indexes[0] - b.indexes[0]);\n        const message = FountainDecoder.joinFragments(sortedParts.map(part => part.fragment), this.expectedMessageLength);\n        const checksum = utils_1.getCRC(message);\n        if (checksum === this.expectedChecksum) {\n          this.result = message;\n        } else {\n          this.error = new errors_1.InvalidChecksumError();\n        }\n      } else {\n        this.reduceMixedBy(part);\n      }\n    }\n    processMixedPart(part) {\n      // Don't process duplicate parts\n      if (this.mixedParts.some(({\n        key: indexes\n      }) => utils_1.arraysEqual(indexes, part.indexes))) {\n        return;\n      }\n      // Reduce this part by all the others\n      let p2 = this.simpleParts.reduce((acc, {\n        value: p\n      }) => this.reducePartByPart(acc, p), part);\n      p2 = this.mixedParts.reduce((acc, {\n        value: p\n      }) => this.reducePartByPart(acc, p), p2);\n      // If the part is now simple\n      if (p2.isSimple()) {\n        // Add it to the queue\n        this.queuedParts.push(p2);\n      } else {\n        this.reduceMixedBy(p2);\n        this.mixedParts.push({\n          key: p2.indexes,\n          value: p2\n        });\n      }\n    }\n    processQueuedItem() {\n      if (this.queuedParts.length === 0) {\n        return;\n      }\n      const part = this.queuedParts.shift();\n      if (part.isSimple()) {\n        this.processSimplePart(part);\n      } else {\n        this.processMixedPart(part);\n      }\n    }\n    receivePart(encoderPart) {\n      if (this.isComplete()) {\n        return false;\n      }\n      if (!this.validatePart(encoderPart)) {\n        return false;\n      }\n      const decoderPart = FountainDecoderPart.fromEncoderPart(encoderPart);\n      this.lastPartIndexes = decoderPart.indexes;\n      this.queuedParts.push(decoderPart);\n      while (!this.isComplete() && this.queuedParts.length > 0) {\n        this.processQueuedItem();\n      }\n      ;\n      this.processedPartsCount += 1;\n      return true;\n    }\n    isComplete() {\n      return Boolean(this.result !== undefined && this.result.length > 0);\n    }\n    isSuccess() {\n      return Boolean(this.error === undefined && this.isComplete());\n    }\n    resultMessage() {\n      return this.isSuccess() ? this.result : Buffer.from([]);\n    }\n    isFailure() {\n      return this.error !== undefined;\n    }\n    resultError() {\n      return this.error ? this.error.message : '';\n    }\n    expectedPartCount() {\n      return this.expectedPartIndexes.length;\n    }\n    getExpectedPartIndexes() {\n      return [...this.expectedPartIndexes];\n    }\n    getReceivedPartIndexes() {\n      return [...this.receivedPartIndexes];\n    }\n    getLastPartIndexes() {\n      return [...this.lastPartIndexes];\n    }\n    estimatedPercentComplete() {\n      if (this.isComplete()) {\n        return 1;\n      }\n      const expectedPartCount = this.expectedPartCount();\n      if (expectedPartCount === 0) {\n        return 0;\n      }\n      // We multiply the expectedPartCount by `1.75` as a way to compensate for the facet\n      // that `this.processedPartsCount` also tracks the duplicate parts that have been\n      // processeed.\n      return Math.min(0.99, this.processedPartsCount / (expectedPartCount * 1.75));\n    }\n    getProgress() {\n      if (this.isComplete()) {\n        return 1;\n      }\n      const expectedPartCount = this.expectedPartCount();\n      if (expectedPartCount === 0) {\n        return 0;\n      }\n      return this.receivedPartIndexes.length / expectedPartCount;\n    }\n  }\n  exports.default = FountainDecoder;\n  FountainDecoder.joinFragments = (fragments, messageLength) => {\n    return Buffer.concat(fragments).slice(0, messageLength);\n  };\n});","lineCount":236,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"FountainDecoderPart"],[7,29,3,27],[7,32,3,30],[7,37,3,35],[7,38,3,36],[8,2,4,0],[8,8,4,6,"utils_1"],[8,15,4,13],[8,18,4,16,"require"],[8,25,4,23],[8,26,4,23,"_dependencyMap"],[8,40,4,23],[8,54,4,33],[8,55,4,34],[9,2,5,0],[9,8,5,6,"fountainUtils_1"],[9,23,5,21],[9,26,5,24,"require"],[9,33,5,31],[9,34,5,31,"_dependencyMap"],[9,48,5,31],[9,70,5,49],[9,71,5,50],[10,2,6,0],[10,8,6,6,"errors_1"],[10,16,6,14],[10,19,6,17,"require"],[10,26,6,24],[10,27,6,24,"_dependencyMap"],[10,41,6,24],[10,56,6,35],[10,57,6,36],[11,2,7,0],[11,8,7,6,"FountainDecoderPart"],[11,27,7,25],[11,28,7,26],[12,4,8,4,"constructor"],[12,15,8,15,"constructor"],[12,16,8,16,"_indexes"],[12,24,8,24],[12,26,8,26,"_fragment"],[12,35,8,35],[12,37,8,37],[13,6,9,8],[13,10,9,12],[13,11,9,13,"_indexes"],[13,19,9,21],[13,22,9,24,"_indexes"],[13,30,9,32],[14,6,10,8],[14,10,10,12],[14,11,10,13,"_fragment"],[14,20,10,22],[14,23,10,25,"_fragment"],[14,32,10,34],[15,4,11,4],[16,4,12,4],[16,8,12,8,"indexes"],[16,15,12,15,"indexes"],[16,16,12,15],[16,18,12,18],[17,6,12,20],[17,13,12,27],[17,17,12,31],[17,18,12,32,"_indexes"],[17,26,12,40],[18,4,12,42],[19,4,13,4],[19,8,13,8,"fragment"],[19,16,13,16,"fragment"],[19,17,13,16],[19,19,13,19],[20,6,13,21],[20,13,13,28],[20,17,13,32],[20,18,13,33,"_fragment"],[20,27,13,42],[21,4,13,44],[22,4,14,4],[22,11,14,11,"fromEncoderPart"],[22,26,14,26,"fromEncoderPart"],[22,27,14,27,"encoderPart"],[22,38,14,38],[22,40,14,40],[23,6,15,8],[23,12,15,14,"indexes"],[23,19,15,21],[23,22,15,24,"fountainUtils_1"],[23,37,15,39],[23,38,15,40,"chooseFragments"],[23,53,15,55],[23,54,15,56,"encoderPart"],[23,65,15,67],[23,66,15,68,"seqNum"],[23,72,15,74],[23,74,15,76,"encoderPart"],[23,85,15,87],[23,86,15,88,"seqLength"],[23,95,15,97],[23,97,15,99,"encoderPart"],[23,108,15,110],[23,109,15,111,"checksum"],[23,117,15,119],[23,118,15,120],[24,6,16,8],[24,12,16,14,"fragment"],[24,20,16,22],[24,23,16,25,"encoderPart"],[24,34,16,36],[24,35,16,37,"fragment"],[24,43,16,45],[25,6,17,8],[25,13,17,15],[25,17,17,19,"FountainDecoderPart"],[25,36,17,38],[25,37,17,39,"indexes"],[25,44,17,46],[25,46,17,48,"fragment"],[25,54,17,56],[25,55,17,57],[26,4,18,4],[27,4,19,4,"isSimple"],[27,12,19,12,"isSimple"],[27,13,19,12],[27,15,19,15],[28,6,20,8],[28,13,20,15],[28,17,20,19],[28,18,20,20,"indexes"],[28,25,20,27],[28,26,20,28,"length"],[28,32,20,34],[28,37,20,39],[28,38,20,40],[29,4,21,4],[30,2,22,0],[31,2,23,0,"exports"],[31,9,23,7],[31,10,23,8,"FountainDecoderPart"],[31,29,23,27],[31,32,23,30,"FountainDecoderPart"],[31,51,23,49],[32,2,24,0],[32,8,24,6,"FountainDecoder"],[32,23,24,21],[32,24,24,22],[33,4,25,4,"constructor"],[33,15,25,15,"constructor"],[33,16,25,15],[33,18,25,18],[34,6,26,8],[34,10,26,12],[34,11,26,13,"result"],[34,17,26,19],[34,20,26,22,"undefined"],[34,29,26,31],[35,6,27,8],[35,10,27,12],[35,11,27,13,"expectedMessageLength"],[35,32,27,34],[35,35,27,37],[35,36,27,38],[36,6,28,8],[36,10,28,12],[36,11,28,13,"expectedChecksum"],[36,27,28,29],[36,30,28,32],[36,31,28,33],[37,6,29,8],[37,10,29,12],[37,11,29,13,"expectedFragmentLength"],[37,33,29,35],[37,36,29,38],[37,37,29,39],[38,6,30,8],[38,10,30,12],[38,11,30,13,"processedPartsCount"],[38,30,30,32],[38,33,30,35],[38,34,30,36],[39,6,31,8],[39,10,31,12],[39,11,31,13,"expectedPartIndexes"],[39,30,31,32],[39,33,31,35],[39,35,31,37],[40,6,32,8],[40,10,32,12],[40,11,32,13,"lastPartIndexes"],[40,26,32,28],[40,29,32,31],[40,31,32,33],[41,6,33,8],[41,10,33,12],[41,11,33,13,"queuedParts"],[41,22,33,24],[41,25,33,27],[41,27,33,29],[42,6,34,8],[42,10,34,12],[42,11,34,13,"receivedPartIndexes"],[42,30,34,32],[42,33,34,35],[42,35,34,37],[43,6,35,8],[43,10,35,12],[43,11,35,13,"mixedParts"],[43,21,35,23],[43,24,35,26],[43,26,35,28],[44,6,36,8],[44,10,36,12],[44,11,36,13,"simpleParts"],[44,22,36,24],[44,25,36,27],[44,27,36,29],[45,4,37,4],[46,4,38,4,"validatePart"],[46,16,38,16,"validatePart"],[46,17,38,17,"part"],[46,21,38,21],[46,23,38,23],[47,6,39,8],[48,6,40,8],[48,10,40,12],[48,14,40,16],[48,15,40,17,"expectedPartIndexes"],[48,34,40,36],[48,35,40,37,"length"],[48,41,40,43],[48,46,40,48],[48,47,40,49],[48,49,40,51],[49,8,41,12],[50,8,42,12],[50,9,42,13],[50,12,42,16],[50,16,42,20,"Array"],[50,21,42,25],[50,22,42,26,"part"],[50,26,42,30],[50,27,42,31,"seqLength"],[50,36,42,40],[50,37,42,41],[50,38,42,42],[50,39,43,17,"forEach"],[50,46,43,24],[50,47,43,25],[50,48,43,26,"_"],[50,49,43,27],[50,51,43,29,"index"],[50,56,43,34],[50,61,43,39],[50,65,43,43],[50,66,43,44,"expectedPartIndexes"],[50,85,43,63],[50,86,43,64,"push"],[50,90,43,68],[50,91,43,69,"index"],[50,96,43,74],[50,97,43,75],[50,98,43,76],[51,8,44,12],[51,12,44,16],[51,13,44,17,"expectedMessageLength"],[51,34,44,38],[51,37,44,41,"part"],[51,41,44,45],[51,42,44,46,"messageLength"],[51,55,44,59],[52,8,45,12],[52,12,45,16],[52,13,45,17,"expectedChecksum"],[52,29,45,33],[52,32,45,36,"part"],[52,36,45,40],[52,37,45,41,"checksum"],[52,45,45,49],[53,8,46,12],[53,12,46,16],[53,13,46,17,"expectedFragmentLength"],[53,35,46,39],[53,38,46,42,"part"],[53,42,46,46],[53,43,46,47,"fragment"],[53,51,46,55],[53,52,46,56,"length"],[53,58,46,62],[54,6,47,8],[54,7,47,9],[54,13,48,13],[55,8,49,12],[56,8,50,12],[56,12,50,16],[56,16,50,20],[56,17,50,21,"expectedPartIndexes"],[56,36,50,40],[56,37,50,41,"length"],[56,43,50,47],[56,48,50,52,"part"],[56,52,50,56],[56,53,50,57,"seqLength"],[56,62,50,66],[56,64,50,68],[57,10,51,16],[57,17,51,23],[57,22,51,28],[58,8,52,12],[59,8,53,12],[59,12,53,16],[59,16,53,20],[59,17,53,21,"expectedMessageLength"],[59,38,53,42],[59,43,53,47,"part"],[59,47,53,51],[59,48,53,52,"messageLength"],[59,61,53,65],[59,63,53,67],[60,10,54,16],[60,17,54,23],[60,22,54,28],[61,8,55,12],[62,8,56,12],[62,12,56,16],[62,16,56,20],[62,17,56,21,"expectedChecksum"],[62,33,56,37],[62,38,56,42,"part"],[62,42,56,46],[62,43,56,47,"checksum"],[62,51,56,55],[62,53,56,57],[63,10,57,16],[63,17,57,23],[63,22,57,28],[64,8,58,12],[65,8,59,12],[65,12,59,16],[65,16,59,20],[65,17,59,21,"expectedFragmentLength"],[65,39,59,43],[65,44,59,48,"part"],[65,48,59,52],[65,49,59,53,"fragment"],[65,57,59,61],[65,58,59,62,"length"],[65,64,59,68],[65,66,59,70],[66,10,60,16],[66,17,60,23],[66,22,60,28],[67,8,61,12],[68,6,62,8],[69,6,63,8],[70,6,64,8],[70,13,64,15],[70,17,64,19],[71,4,65,4],[72,4,66,4,"reducePartByPart"],[72,20,66,20,"reducePartByPart"],[72,21,66,21,"a"],[72,22,66,22],[72,24,66,24,"b"],[72,25,66,25],[72,27,66,27],[73,6,67,8],[74,6,68,8],[74,10,68,12,"utils_1"],[74,17,68,19],[74,18,68,20,"arrayContains"],[74,31,68,33],[74,32,68,34,"a"],[74,33,68,35],[74,34,68,36,"indexes"],[74,41,68,43],[74,43,68,45,"b"],[74,44,68,46],[74,45,68,47,"indexes"],[74,52,68,54],[74,53,68,55],[74,55,68,57],[75,8,69,12],[75,14,69,18,"newIndexes"],[75,24,69,28],[75,27,69,31,"utils_1"],[75,34,69,38],[75,35,69,39,"setDifference"],[75,48,69,52],[75,49,69,53,"a"],[75,50,69,54],[75,51,69,55,"indexes"],[75,58,69,62],[75,60,69,64,"b"],[75,61,69,65],[75,62,69,66,"indexes"],[75,69,69,73],[75,70,69,74],[76,8,70,12],[76,14,70,18,"newFragment"],[76,25,70,29],[76,28,70,32,"utils_1"],[76,35,70,39],[76,36,70,40,"bufferXOR"],[76,45,70,49],[76,46,70,50,"a"],[76,47,70,51],[76,48,70,52,"fragment"],[76,56,70,60],[76,58,70,62,"b"],[76,59,70,63],[76,60,70,64,"fragment"],[76,68,70,72],[76,69,70,73],[77,8,71,12],[77,15,71,19],[77,19,71,23,"FountainDecoderPart"],[77,38,71,42],[77,39,71,43,"newIndexes"],[77,49,71,53],[77,51,71,55,"newFragment"],[77,62,71,66],[77,63,71,67],[78,6,72,8],[78,7,72,9],[78,13,73,13],[79,8,74,12],[80,8,75,12],[80,15,75,19,"a"],[80,16,75,20],[81,6,76,8],[82,4,77,4],[83,4,78,4,"reduceMixedBy"],[83,17,78,17,"reduceMixedBy"],[83,18,78,18,"part"],[83,22,78,22],[83,24,78,24],[84,6,79,8],[84,12,79,14,"newMixed"],[84,20,79,22],[84,23,79,25],[84,25,79,27],[85,6,80,8],[85,10,80,12],[85,11,80,13,"mixedParts"],[85,21,80,23],[85,22,81,13,"map"],[85,25,81,16],[85,26,81,17],[85,27,81,18],[86,8,81,20,"value"],[86,13,81,25],[86,15,81,27,"mixedPart"],[87,6,81,37],[87,7,81,38],[87,12,81,43],[87,16,81,47],[87,17,81,48,"reducePartByPart"],[87,33,81,64],[87,34,81,65,"mixedPart"],[87,43,81,74],[87,45,81,76,"part"],[87,49,81,80],[87,50,81,81],[87,51,81,82],[87,52,82,13,"forEach"],[87,59,82,20],[87,60,82,21,"reducedPart"],[87,71,82,32],[87,75,82,36],[88,8,83,12],[88,12,83,16,"reducedPart"],[88,23,83,27],[88,24,83,28,"isSimple"],[88,32,83,36],[88,33,83,37],[88,34,83,38],[88,36,83,40],[89,10,84,16],[89,14,84,20],[89,15,84,21,"queuedParts"],[89,26,84,32],[89,27,84,33,"push"],[89,31,84,37],[89,32,84,38,"reducedPart"],[89,43,84,49],[89,44,84,50],[90,8,85,12],[90,9,85,13],[90,15,86,17],[91,10,87,16,"newMixed"],[91,18,87,24],[91,19,87,25,"push"],[91,23,87,29],[91,24,87,30],[92,12,87,32,"key"],[92,15,87,35],[92,17,87,37,"reducedPart"],[92,28,87,48],[92,29,87,49,"indexes"],[92,36,87,56],[93,12,87,58,"value"],[93,17,87,63],[93,19,87,65,"reducedPart"],[94,10,87,77],[94,11,87,78],[94,12,87,79],[95,8,88,12],[96,6,89,8],[96,7,89,9],[96,8,89,10],[97,6,90,8],[97,10,90,12],[97,11,90,13,"mixedParts"],[97,21,90,23],[97,24,90,26,"newMixed"],[97,32,90,34],[98,4,91,4],[99,4,92,4,"processSimplePart"],[99,21,92,21,"processSimplePart"],[99,22,92,22,"part"],[99,26,92,26],[99,28,92,28],[100,6,93,8],[101,6,94,8],[101,12,94,14,"fragmentIndex"],[101,25,94,27],[101,28,94,30,"part"],[101,32,94,34],[101,33,94,35,"indexes"],[101,40,94,42],[101,41,94,43],[101,42,94,44],[101,43,94,45],[102,6,95,8],[102,10,95,12],[102,14,95,16],[102,15,95,17,"receivedPartIndexes"],[102,34,95,36],[102,35,95,37,"includes"],[102,43,95,45],[102,44,95,46,"fragmentIndex"],[102,57,95,59],[102,58,95,60],[102,60,95,62],[103,8,96,12],[104,6,97,8],[105,6,98,8],[105,10,98,12],[105,11,98,13,"simpleParts"],[105,22,98,24],[105,23,98,25,"push"],[105,27,98,29],[105,28,98,30],[106,8,98,32,"key"],[106,11,98,35],[106,13,98,37,"part"],[106,17,98,41],[106,18,98,42,"indexes"],[106,25,98,49],[107,8,98,51,"value"],[107,13,98,56],[107,15,98,58,"part"],[108,6,98,63],[108,7,98,64],[108,8,98,65],[109,6,99,8],[109,10,99,12],[109,11,99,13,"receivedPartIndexes"],[109,30,99,32],[109,31,99,33,"push"],[109,35,99,37],[109,36,99,38,"fragmentIndex"],[109,49,99,51],[109,50,99,52],[110,6,100,8],[111,6,101,8],[111,10,101,12,"utils_1"],[111,17,101,19],[111,18,101,20,"arraysEqual"],[111,29,101,31],[111,30,101,32],[111,34,101,36],[111,35,101,37,"receivedPartIndexes"],[111,54,101,56],[111,56,101,58],[111,60,101,62],[111,61,101,63,"expectedPartIndexes"],[111,80,101,82],[111,81,101,83],[111,83,101,85],[112,8,102,12],[113,8,103,12],[113,14,103,18,"sortedParts"],[113,25,103,29],[113,28,103,32],[113,32,103,36],[113,33,103,37,"simpleParts"],[113,44,103,48],[113,45,104,17,"map"],[113,48,104,20],[113,49,104,21],[113,50,104,22],[114,10,104,24,"value"],[115,8,104,30],[115,9,104,31],[115,14,104,36,"value"],[115,19,104,41],[115,20,104,42],[115,21,105,17,"sort"],[115,25,105,21],[115,26,105,22],[115,27,105,23,"a"],[115,28,105,24],[115,30,105,26,"b"],[115,31,105,27],[115,36,105,33,"a"],[115,37,105,34],[115,38,105,35,"indexes"],[115,45,105,42],[115,46,105,43],[115,47,105,44],[115,48,105,45],[115,51,105,48,"b"],[115,52,105,49],[115,53,105,50,"indexes"],[115,60,105,57],[115,61,105,58],[115,62,105,59],[115,63,105,61],[115,64,105,62],[116,8,106,12],[116,14,106,18,"message"],[116,21,106,25],[116,24,106,28,"FountainDecoder"],[116,39,106,43],[116,40,106,44,"joinFragments"],[116,53,106,57],[116,54,106,58,"sortedParts"],[116,65,106,69],[116,66,106,70,"map"],[116,69,106,73],[116,70,106,74,"part"],[116,74,106,78],[116,78,106,82,"part"],[116,82,106,86],[116,83,106,87,"fragment"],[116,91,106,95],[116,92,106,96],[116,94,106,98],[116,98,106,102],[116,99,106,103,"expectedMessageLength"],[116,120,106,124],[116,121,106,125],[117,8,107,12],[117,14,107,18,"checksum"],[117,22,107,26],[117,25,107,29,"utils_1"],[117,32,107,36],[117,33,107,37,"getCRC"],[117,39,107,43],[117,40,107,44,"message"],[117,47,107,51],[117,48,107,52],[118,8,108,12],[118,12,108,16,"checksum"],[118,20,108,24],[118,25,108,29],[118,29,108,33],[118,30,108,34,"expectedChecksum"],[118,46,108,50],[118,48,108,52],[119,10,109,16],[119,14,109,20],[119,15,109,21,"result"],[119,21,109,27],[119,24,109,30,"message"],[119,31,109,37],[120,8,110,12],[120,9,110,13],[120,15,111,17],[121,10,112,16],[121,14,112,20],[121,15,112,21,"error"],[121,20,112,26],[121,23,112,29],[121,27,112,33,"errors_1"],[121,35,112,41],[121,36,112,42,"InvalidChecksumError"],[121,56,112,62],[121,57,112,63],[121,58,112,64],[122,8,113,12],[123,6,114,8],[123,7,114,9],[123,13,115,13],[124,8,116,12],[124,12,116,16],[124,13,116,17,"reduceMixedBy"],[124,26,116,30],[124,27,116,31,"part"],[124,31,116,35],[124,32,116,36],[125,6,117,8],[126,4,118,4],[127,4,119,4,"processMixedPart"],[127,20,119,20,"processMixedPart"],[127,21,119,21,"part"],[127,25,119,25],[127,27,119,27],[128,6,120,8],[129,6,121,8],[129,10,121,12],[129,14,121,16],[129,15,121,17,"mixedParts"],[129,25,121,27],[129,26,121,28,"some"],[129,30,121,32],[129,31,121,33],[129,32,121,34],[130,8,121,36,"key"],[130,11,121,39],[130,13,121,41,"indexes"],[131,6,121,49],[131,7,121,50],[131,12,121,55,"utils_1"],[131,19,121,62],[131,20,121,63,"arraysEqual"],[131,31,121,74],[131,32,121,75,"indexes"],[131,39,121,82],[131,41,121,84,"part"],[131,45,121,88],[131,46,121,89,"indexes"],[131,53,121,96],[131,54,121,97],[131,55,121,98],[131,57,121,100],[132,8,122,12],[133,6,123,8],[134,6,124,8],[135,6,125,8],[135,10,125,12,"p2"],[135,12,125,14],[135,15,125,17],[135,19,125,21],[135,20,125,22,"simpleParts"],[135,31,125,33],[135,32,125,34,"reduce"],[135,38,125,40],[135,39,125,41],[135,40,125,42,"acc"],[135,43,125,45],[135,45,125,47],[136,8,125,49,"value"],[136,13,125,54],[136,15,125,56,"p"],[137,6,125,58],[137,7,125,59],[137,12,125,64],[137,16,125,68],[137,17,125,69,"reducePartByPart"],[137,33,125,85],[137,34,125,86,"acc"],[137,37,125,89],[137,39,125,91,"p"],[137,40,125,92],[137,41,125,93],[137,43,125,95,"part"],[137,47,125,99],[137,48,125,100],[138,6,126,8,"p2"],[138,8,126,10],[138,11,126,13],[138,15,126,17],[138,16,126,18,"mixedParts"],[138,26,126,28],[138,27,126,29,"reduce"],[138,33,126,35],[138,34,126,36],[138,35,126,37,"acc"],[138,38,126,40],[138,40,126,42],[139,8,126,44,"value"],[139,13,126,49],[139,15,126,51,"p"],[140,6,126,53],[140,7,126,54],[140,12,126,59],[140,16,126,63],[140,17,126,64,"reducePartByPart"],[140,33,126,80],[140,34,126,81,"acc"],[140,37,126,84],[140,39,126,86,"p"],[140,40,126,87],[140,41,126,88],[140,43,126,90,"p2"],[140,45,126,92],[140,46,126,93],[141,6,127,8],[142,6,128,8],[142,10,128,12,"p2"],[142,12,128,14],[142,13,128,15,"isSimple"],[142,21,128,23],[142,22,128,24],[142,23,128,25],[142,25,128,27],[143,8,129,12],[144,8,130,12],[144,12,130,16],[144,13,130,17,"queuedParts"],[144,24,130,28],[144,25,130,29,"push"],[144,29,130,33],[144,30,130,34,"p2"],[144,32,130,36],[144,33,130,37],[145,6,131,8],[145,7,131,9],[145,13,132,13],[146,8,133,12],[146,12,133,16],[146,13,133,17,"reduceMixedBy"],[146,26,133,30],[146,27,133,31,"p2"],[146,29,133,33],[146,30,133,34],[147,8,134,12],[147,12,134,16],[147,13,134,17,"mixedParts"],[147,23,134,27],[147,24,134,28,"push"],[147,28,134,32],[147,29,134,33],[148,10,134,35,"key"],[148,13,134,38],[148,15,134,40,"p2"],[148,17,134,42],[148,18,134,43,"indexes"],[148,25,134,50],[149,10,134,52,"value"],[149,15,134,57],[149,17,134,59,"p2"],[150,8,134,62],[150,9,134,63],[150,10,134,64],[151,6,135,8],[152,4,136,4],[153,4,137,4,"processQueuedItem"],[153,21,137,21,"processQueuedItem"],[153,22,137,21],[153,24,137,24],[154,6,138,8],[154,10,138,12],[154,14,138,16],[154,15,138,17,"queuedParts"],[154,26,138,28],[154,27,138,29,"length"],[154,33,138,35],[154,38,138,40],[154,39,138,41],[154,41,138,43],[155,8,139,12],[156,6,140,8],[157,6,141,8],[157,12,141,14,"part"],[157,16,141,18],[157,19,141,21],[157,23,141,25],[157,24,141,26,"queuedParts"],[157,35,141,37],[157,36,141,38,"shift"],[157,41,141,43],[157,42,141,44],[157,43,141,45],[158,6,142,8],[158,10,142,12,"part"],[158,14,142,16],[158,15,142,17,"isSimple"],[158,23,142,25],[158,24,142,26],[158,25,142,27],[158,27,142,29],[159,8,143,12],[159,12,143,16],[159,13,143,17,"processSimplePart"],[159,30,143,34],[159,31,143,35,"part"],[159,35,143,39],[159,36,143,40],[160,6,144,8],[160,7,144,9],[160,13,145,13],[161,8,146,12],[161,12,146,16],[161,13,146,17,"processMixedPart"],[161,29,146,33],[161,30,146,34,"part"],[161,34,146,38],[161,35,146,39],[162,6,147,8],[163,4,148,4],[164,4,149,4,"receivePart"],[164,15,149,15,"receivePart"],[164,16,149,16,"encoderPart"],[164,27,149,27],[164,29,149,29],[165,6,150,8],[165,10,150,12],[165,14,150,16],[165,15,150,17,"isComplete"],[165,25,150,27],[165,26,150,28],[165,27,150,29],[165,29,150,31],[166,8,151,12],[166,15,151,19],[166,20,151,24],[167,6,152,8],[168,6,153,8],[168,10,153,12],[168,11,153,13],[168,15,153,17],[168,16,153,18,"validatePart"],[168,28,153,30],[168,29,153,31,"encoderPart"],[168,40,153,42],[168,41,153,43],[168,43,153,45],[169,8,154,12],[169,15,154,19],[169,20,154,24],[170,6,155,8],[171,6,156,8],[171,12,156,14,"decoderPart"],[171,23,156,25],[171,26,156,28,"FountainDecoderPart"],[171,45,156,47],[171,46,156,48,"fromEncoderPart"],[171,61,156,63],[171,62,156,64,"encoderPart"],[171,73,156,75],[171,74,156,76],[172,6,157,8],[172,10,157,12],[172,11,157,13,"lastPartIndexes"],[172,26,157,28],[172,29,157,31,"decoderPart"],[172,40,157,42],[172,41,157,43,"indexes"],[172,48,157,50],[173,6,158,8],[173,10,158,12],[173,11,158,13,"queuedParts"],[173,22,158,24],[173,23,158,25,"push"],[173,27,158,29],[173,28,158,30,"decoderPart"],[173,39,158,41],[173,40,158,42],[174,6,159,8],[174,13,159,15],[174,14,159,16],[174,18,159,20],[174,19,159,21,"isComplete"],[174,29,159,31],[174,30,159,32],[174,31,159,33],[174,35,159,37],[174,39,159,41],[174,40,159,42,"queuedParts"],[174,51,159,53],[174,52,159,54,"length"],[174,58,159,60],[174,61,159,63],[174,62,159,64],[174,64,159,66],[175,8,160,12],[175,12,160,16],[175,13,160,17,"processQueuedItem"],[175,30,160,34],[175,31,160,35],[175,32,160,36],[176,6,161,8],[177,6,162,8],[178,6,163,8],[178,10,163,12],[178,11,163,13,"processedPartsCount"],[178,30,163,32],[178,34,163,36],[178,35,163,37],[179,6,164,8],[179,13,164,15],[179,17,164,19],[180,4,165,4],[181,4,166,4,"isComplete"],[181,14,166,14,"isComplete"],[181,15,166,14],[181,17,166,17],[182,6,167,8],[182,13,167,15,"Boolean"],[182,20,167,22],[182,21,167,23],[182,25,167,27],[182,26,167,28,"result"],[182,32,167,34],[182,37,167,39,"undefined"],[182,46,167,48],[182,50,167,52],[182,54,167,56],[182,55,167,57,"result"],[182,61,167,63],[182,62,167,64,"length"],[182,68,167,70],[182,71,167,73],[182,72,167,74],[182,73,167,75],[183,4,168,4],[184,4,169,4,"isSuccess"],[184,13,169,13,"isSuccess"],[184,14,169,13],[184,16,169,16],[185,6,170,8],[185,13,170,15,"Boolean"],[185,20,170,22],[185,21,170,23],[185,25,170,27],[185,26,170,28,"error"],[185,31,170,33],[185,36,170,38,"undefined"],[185,45,170,47],[185,49,170,51],[185,53,170,55],[185,54,170,56,"isComplete"],[185,64,170,66],[185,65,170,67],[185,66,170,68],[185,67,170,69],[186,4,171,4],[187,4,172,4,"resultMessage"],[187,17,172,17,"resultMessage"],[187,18,172,17],[187,20,172,20],[188,6,173,8],[188,13,173,15],[188,17,173,19],[188,18,173,20,"isSuccess"],[188,27,173,29],[188,28,173,30],[188,29,173,31],[188,32,173,34],[188,36,173,38],[188,37,173,39,"result"],[188,43,173,45],[188,46,173,48,"Buffer"],[188,52,173,54],[188,53,173,55,"from"],[188,57,173,59],[188,58,173,60],[188,60,173,62],[188,61,173,63],[189,4,174,4],[190,4,175,4,"isFailure"],[190,13,175,13,"isFailure"],[190,14,175,13],[190,16,175,16],[191,6,176,8],[191,13,176,15],[191,17,176,19],[191,18,176,20,"error"],[191,23,176,25],[191,28,176,30,"undefined"],[191,37,176,39],[192,4,177,4],[193,4,178,4,"resultError"],[193,15,178,15,"resultError"],[193,16,178,15],[193,18,178,18],[194,6,179,8],[194,13,179,15],[194,17,179,19],[194,18,179,20,"error"],[194,23,179,25],[194,26,179,28],[194,30,179,32],[194,31,179,33,"error"],[194,36,179,38],[194,37,179,39,"message"],[194,44,179,46],[194,47,179,49],[194,49,179,51],[195,4,180,4],[196,4,181,4,"expectedPartCount"],[196,21,181,21,"expectedPartCount"],[196,22,181,21],[196,24,181,24],[197,6,182,8],[197,13,182,15],[197,17,182,19],[197,18,182,20,"expectedPartIndexes"],[197,37,182,39],[197,38,182,40,"length"],[197,44,182,46],[198,4,183,4],[199,4,184,4,"getExpectedPartIndexes"],[199,26,184,26,"getExpectedPartIndexes"],[199,27,184,26],[199,29,184,29],[200,6,185,8],[200,13,185,15],[200,14,185,16],[200,17,185,19],[200,21,185,23],[200,22,185,24,"expectedPartIndexes"],[200,41,185,43],[200,42,185,44],[201,4,186,4],[202,4,187,4,"getReceivedPartIndexes"],[202,26,187,26,"getReceivedPartIndexes"],[202,27,187,26],[202,29,187,29],[203,6,188,8],[203,13,188,15],[203,14,188,16],[203,17,188,19],[203,21,188,23],[203,22,188,24,"receivedPartIndexes"],[203,41,188,43],[203,42,188,44],[204,4,189,4],[205,4,190,4,"getLastPartIndexes"],[205,22,190,22,"getLastPartIndexes"],[205,23,190,22],[205,25,190,25],[206,6,191,8],[206,13,191,15],[206,14,191,16],[206,17,191,19],[206,21,191,23],[206,22,191,24,"lastPartIndexes"],[206,37,191,39],[206,38,191,40],[207,4,192,4],[208,4,193,4,"estimatedPercentComplete"],[208,28,193,28,"estimatedPercentComplete"],[208,29,193,28],[208,31,193,31],[209,6,194,8],[209,10,194,12],[209,14,194,16],[209,15,194,17,"isComplete"],[209,25,194,27],[209,26,194,28],[209,27,194,29],[209,29,194,31],[210,8,195,12],[210,15,195,19],[210,16,195,20],[211,6,196,8],[212,6,197,8],[212,12,197,14,"expectedPartCount"],[212,29,197,31],[212,32,197,34],[212,36,197,38],[212,37,197,39,"expectedPartCount"],[212,54,197,56],[212,55,197,57],[212,56,197,58],[213,6,198,8],[213,10,198,12,"expectedPartCount"],[213,27,198,29],[213,32,198,34],[213,33,198,35],[213,35,198,37],[214,8,199,12],[214,15,199,19],[214,16,199,20],[215,6,200,8],[216,6,201,8],[217,6,202,8],[218,6,203,8],[219,6,204,8],[219,13,204,15,"Math"],[219,17,204,19],[219,18,204,20,"min"],[219,21,204,23],[219,22,204,24],[219,26,204,28],[219,28,204,30],[219,32,204,34],[219,33,204,35,"processedPartsCount"],[219,52,204,54],[219,56,204,58,"expectedPartCount"],[219,73,204,75],[219,76,204,78],[219,80,204,82],[219,81,204,83],[219,82,204,84],[220,4,205,4],[221,4,206,4,"getProgress"],[221,15,206,15,"getProgress"],[221,16,206,15],[221,18,206,18],[222,6,207,8],[222,10,207,12],[222,14,207,16],[222,15,207,17,"isComplete"],[222,25,207,27],[222,26,207,28],[222,27,207,29],[222,29,207,31],[223,8,208,12],[223,15,208,19],[223,16,208,20],[224,6,209,8],[225,6,210,8],[225,12,210,14,"expectedPartCount"],[225,29,210,31],[225,32,210,34],[225,36,210,38],[225,37,210,39,"expectedPartCount"],[225,54,210,56],[225,55,210,57],[225,56,210,58],[226,6,211,8],[226,10,211,12,"expectedPartCount"],[226,27,211,29],[226,32,211,34],[226,33,211,35],[226,35,211,37],[227,8,212,12],[227,15,212,19],[227,16,212,20],[228,6,213,8],[229,6,214,8],[229,13,214,15],[229,17,214,19],[229,18,214,20,"receivedPartIndexes"],[229,37,214,39],[229,38,214,40,"length"],[229,44,214,46],[229,47,214,49,"expectedPartCount"],[229,64,214,66],[230,4,215,4],[231,2,216,0],[232,2,217,0,"exports"],[232,9,217,7],[232,10,217,8,"default"],[232,17,217,15],[232,20,217,18,"FountainDecoder"],[232,35,217,33],[233,2,218,0,"FountainDecoder"],[233,17,218,15],[233,18,218,16,"joinFragments"],[233,31,218,29],[233,34,218,32],[233,35,218,33,"fragments"],[233,44,218,42],[233,46,218,44,"messageLength"],[233,59,218,57],[233,64,218,62],[234,4,219,4],[234,11,219,11,"Buffer"],[234,17,219,17],[234,18,219,18,"concat"],[234,24,219,24],[234,25,219,25,"fragments"],[234,34,219,34],[234,35,219,35],[234,36,219,36,"slice"],[234,41,219,41],[234,42,219,42],[234,43,219,43],[234,45,219,45,"messageLength"],[234,58,219,58],[234,59,219,59],[235,2,220,0],[235,3,220,1],[236,0,220,2],[236,3]],"functionMap":{"names":["<global>","FountainDecoderPart","FountainDecoderPart#constructor","FountainDecoderPart#get__indexes","FountainDecoderPart#get__fragment","FountainDecoderPart.fromEncoderPart","FountainDecoderPart#isSimple","FountainDecoder","FountainDecoder#constructor","FountainDecoder#validatePart","forEach$argument_0","FountainDecoder#reducePartByPart","FountainDecoder#reduceMixedBy","mixedParts.map$argument_0","mixedParts.map.forEach$argument_0","FountainDecoder#processSimplePart","simpleParts.map$argument_0","simpleParts.map.sort$argument_0","sortedParts.map$argument_0","FountainDecoder#processMixedPart","mixedParts.some$argument_0","simpleParts.reduce$argument_0","mixedParts.reduce$argument_0","FountainDecoder#processQueuedItem","FountainDecoder#receivePart","FountainDecoder#isComplete","FountainDecoder#isSuccess","FountainDecoder#resultMessage","FountainDecoder#isFailure","FountainDecoder#resultError","FountainDecoder#expectedPartCount","FountainDecoder#getExpectedPartIndexes","FountainDecoder#getReceivedPartIndexes","FountainDecoder#getLastPartIndexes","FountainDecoder#estimatedPercentComplete","FountainDecoder#getProgress","FountainDecoder.joinFragments"],"mappings":"AAA;ACM;ICC;KDG;IEC,uCF;IGC,yCH;IIC;KJI;IKC;KLE;CDC;AOE;ICC;KDY;IEC;yBCK,kDD;KFsB;IIC;KJW;IKC;iBCG,gED;qBEC;SFO;KLE;IQC;qBCY,oBD;sBEC,uCF;0EGC,qBH;KRY;IYC;iCCE,gED;yCEI,oDF;oCGC,oDH;KZU;IgBC;KhBW;IiBC;KjBgB;IkBC;KlBE;ImBC;KnBE;IoBC;KpBE;IqBC;KrBE;IsBC;KtBE;IuBC;KvBE;IwBC;KxBE;IyBC;KzBE;I0BC;K1BE;I2BC;K3BY;I4BC;K5BS;CPC;gCoCE;CpCE"},"hasCjsExports":true},"type":"js/module"}]}