{"dependencies":[{"name":"@reown/appkit-common","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":61},"end":{"line":2,"column":50,"index":111}}],"key":"tGGAqs+Kmq4FPGRdYmE3fbQVe1Q=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"SwapCalculationUtil\", {\n    enumerable: true,\n    get: function () {\n      return SwapCalculationUtil;\n    }\n  });\n  var _reownAppkitCommon = require(_dependencyMap[0], \"@reown/appkit-common\");\n  // -- Types --------------------------------------------- //\n\n  // -- Util ---------------------------------------- //\n  const SwapCalculationUtil = {\n    getGasPriceInEther(gas, gasPrice) {\n      const totalGasCostInWei = gasPrice * gas;\n      const totalGasCostInEther = Number(totalGasCostInWei) / 1e18;\n      return totalGasCostInEther;\n    },\n    getGasPriceInUSD(networkPrice, gas, gasPrice) {\n      const totalGasCostInEther = SwapCalculationUtil.getGasPriceInEther(gas, gasPrice);\n      const networkPriceInUSD = _reownAppkitCommon.NumberUtil.bigNumber(networkPrice);\n      const gasCostInUSD = networkPriceInUSD.times(totalGasCostInEther);\n      return gasCostInUSD.toNumber();\n    },\n    getPriceImpact({\n      sourceTokenAmount,\n      sourceTokenPriceInUSD,\n      toTokenPriceInUSD,\n      toTokenAmount\n    }) {\n      const inputValue = _reownAppkitCommon.NumberUtil.bigNumber(sourceTokenAmount).times(sourceTokenPriceInUSD);\n      const outputValue = _reownAppkitCommon.NumberUtil.bigNumber(toTokenAmount).times(toTokenPriceInUSD);\n      const priceImpact = inputValue.minus(outputValue).div(inputValue).times(100);\n      return priceImpact.toNumber();\n    },\n    getMaxSlippage(slippage, toTokenAmount) {\n      const slippageToleranceDecimal = _reownAppkitCommon.NumberUtil.bigNumber(slippage).div(100);\n      const maxSlippageAmount = _reownAppkitCommon.NumberUtil.multiply(toTokenAmount, slippageToleranceDecimal);\n      return maxSlippageAmount.toNumber();\n    },\n    getProviderFee(sourceTokenAmount, feePercentage = 0.0085) {\n      const providerFee = _reownAppkitCommon.NumberUtil.bigNumber(sourceTokenAmount).times(feePercentage);\n      return providerFee.toString();\n    },\n    isInsufficientNetworkTokenForGas(networkBalanceInUSD, gasPriceInUSD) {\n      const gasPrice = gasPriceInUSD || '0';\n      if (_reownAppkitCommon.NumberUtil.bigNumber(networkBalanceInUSD).eq(0)) {\n        return true;\n      }\n      return _reownAppkitCommon.NumberUtil.bigNumber(_reownAppkitCommon.NumberUtil.bigNumber(gasPrice)).gt(networkBalanceInUSD);\n    },\n    isInsufficientSourceTokenForSwap(sourceTokenAmount, sourceTokenAddress, balance) {\n      const sourceTokenBalance = balance?.find(token => token.address === sourceTokenAddress)?.quantity?.numeric;\n      const isInSufficientBalance = _reownAppkitCommon.NumberUtil.bigNumber(sourceTokenBalance || '0').lt(sourceTokenAmount);\n      return isInSufficientBalance;\n    },\n    getToTokenAmount({\n      sourceToken,\n      toToken,\n      sourceTokenPrice,\n      toTokenPrice,\n      sourceTokenAmount\n    }) {\n      if (sourceTokenAmount === '0') {\n        return '0';\n      }\n      if (!sourceToken || !toToken) {\n        return '0';\n      }\n      const sourceTokenDecimals = sourceToken.decimals;\n      const sourceTokenPriceInUSD = sourceTokenPrice;\n      const toTokenDecimals = toToken.decimals;\n      const toTokenPriceInUSD = toTokenPrice;\n      if (toTokenPriceInUSD <= 0) {\n        return '0';\n      }\n      // Calculate the provider fee (0.85% of the source token amount)\n      const providerFee = _reownAppkitCommon.NumberUtil.bigNumber(sourceTokenAmount).times(0.0085);\n      // Adjust the source token amount by subtracting the provider fee\n      const adjustedSourceTokenAmount = _reownAppkitCommon.NumberUtil.bigNumber(sourceTokenAmount).minus(providerFee);\n      // Proceed with conversion using the adjusted source token amount\n      const sourceAmountInSmallestUnit = adjustedSourceTokenAmount.times(_reownAppkitCommon.NumberUtil.bigNumber(10).pow(sourceTokenDecimals));\n      const priceRatio = _reownAppkitCommon.NumberUtil.bigNumber(sourceTokenPriceInUSD).div(toTokenPriceInUSD);\n      const decimalDifference = sourceTokenDecimals - toTokenDecimals;\n      const toTokenAmountInSmallestUnit = sourceAmountInSmallestUnit.times(priceRatio).div(_reownAppkitCommon.NumberUtil.bigNumber(10).pow(decimalDifference));\n      const toTokenAmount = toTokenAmountInSmallestUnit.div(_reownAppkitCommon.NumberUtil.bigNumber(10).pow(toTokenDecimals));\n      const amount = toTokenAmount.toFixed(toTokenDecimals).toString();\n      return amount;\n    }\n  };\n});","lineCount":95,"map":[[7,2,4,0,"Object"],[7,8,4,0],[7,9,4,0,"defineProperty"],[7,23,4,0],[7,24,4,0,"exports"],[7,31,4,0],[8,4,4,0,"enumerable"],[8,14,4,0],[9,4,4,0,"get"],[9,7,4,0],[9,18,4,0,"get"],[9,19,4,0],[10,6,4,0],[10,13,4,0,"SwapCalculationUtil"],[10,32,4,0],[11,4,4,0],[12,2,4,0],[13,2,2,0],[13,6,2,0,"_reownAppkitCommon"],[13,24,2,0],[13,27,2,0,"require"],[13,34,2,0],[13,35,2,0,"_dependencyMap"],[13,49,2,0],[14,2,1,0],[16,2,3,0],[17,2,4,7],[17,8,4,13,"SwapCalculationUtil"],[17,27,4,32],[17,30,4,35],[18,4,5,4,"getGasPriceInEther"],[18,22,5,22,"getGasPriceInEther"],[18,23,5,23,"gas"],[18,26,5,26],[18,28,5,28,"gasPrice"],[18,36,5,36],[18,38,5,38],[19,6,6,8],[19,12,6,14,"totalGasCostInWei"],[19,29,6,31],[19,32,6,34,"gasPrice"],[19,40,6,42],[19,43,6,45,"gas"],[19,46,6,48],[20,6,7,8],[20,12,7,14,"totalGasCostInEther"],[20,31,7,33],[20,34,7,36,"Number"],[20,40,7,42],[20,41,7,43,"totalGasCostInWei"],[20,58,7,60],[20,59,7,61],[20,62,7,64],[20,66,7,68],[21,6,8,8],[21,13,8,15,"totalGasCostInEther"],[21,32,8,34],[22,4,9,4],[22,5,9,5],[23,4,10,4,"getGasPriceInUSD"],[23,20,10,20,"getGasPriceInUSD"],[23,21,10,21,"networkPrice"],[23,33,10,33],[23,35,10,35,"gas"],[23,38,10,38],[23,40,10,40,"gasPrice"],[23,48,10,48],[23,50,10,50],[24,6,11,8],[24,12,11,14,"totalGasCostInEther"],[24,31,11,33],[24,34,11,36,"SwapCalculationUtil"],[24,53,11,55],[24,54,11,56,"getGasPriceInEther"],[24,72,11,74],[24,73,11,75,"gas"],[24,76,11,78],[24,78,11,80,"gasPrice"],[24,86,11,88],[24,87,11,89],[25,6,12,8],[25,12,12,14,"networkPriceInUSD"],[25,29,12,31],[25,32,12,34,"NumberUtil"],[25,50,12,44],[25,51,12,44,"NumberUtil"],[25,61,12,44],[25,62,12,45,"bigNumber"],[25,71,12,54],[25,72,12,55,"networkPrice"],[25,84,12,67],[25,85,12,68],[26,6,13,8],[26,12,13,14,"gasCostInUSD"],[26,24,13,26],[26,27,13,29,"networkPriceInUSD"],[26,44,13,46],[26,45,13,47,"times"],[26,50,13,52],[26,51,13,53,"totalGasCostInEther"],[26,70,13,72],[26,71,13,73],[27,6,14,8],[27,13,14,15,"gasCostInUSD"],[27,25,14,27],[27,26,14,28,"toNumber"],[27,34,14,36],[27,35,14,37],[27,36,14,38],[28,4,15,4],[28,5,15,5],[29,4,16,4,"getPriceImpact"],[29,18,16,18,"getPriceImpact"],[29,19,16,19],[30,6,16,21,"sourceTokenAmount"],[30,23,16,38],[31,6,16,40,"sourceTokenPriceInUSD"],[31,27,16,61],[32,6,16,63,"toTokenPriceInUSD"],[32,23,16,80],[33,6,16,82,"toTokenAmount"],[34,4,16,96],[34,5,16,97],[34,7,16,99],[35,6,17,8],[35,12,17,14,"inputValue"],[35,22,17,24],[35,25,17,27,"NumberUtil"],[35,43,17,37],[35,44,17,37,"NumberUtil"],[35,54,17,37],[35,55,17,38,"bigNumber"],[35,64,17,47],[35,65,17,48,"sourceTokenAmount"],[35,82,17,65],[35,83,17,66],[35,84,17,67,"times"],[35,89,17,72],[35,90,17,73,"sourceTokenPriceInUSD"],[35,111,17,94],[35,112,17,95],[36,6,18,8],[36,12,18,14,"outputValue"],[36,23,18,25],[36,26,18,28,"NumberUtil"],[36,44,18,38],[36,45,18,38,"NumberUtil"],[36,55,18,38],[36,56,18,39,"bigNumber"],[36,65,18,48],[36,66,18,49,"toTokenAmount"],[36,79,18,62],[36,80,18,63],[36,81,18,64,"times"],[36,86,18,69],[36,87,18,70,"toTokenPriceInUSD"],[36,104,18,87],[36,105,18,88],[37,6,19,8],[37,12,19,14,"priceImpact"],[37,23,19,25],[37,26,19,28,"inputValue"],[37,36,19,38],[37,37,19,39,"minus"],[37,42,19,44],[37,43,19,45,"outputValue"],[37,54,19,56],[37,55,19,57],[37,56,19,58,"div"],[37,59,19,61],[37,60,19,62,"inputValue"],[37,70,19,72],[37,71,19,73],[37,72,19,74,"times"],[37,77,19,79],[37,78,19,80],[37,81,19,83],[37,82,19,84],[38,6,20,8],[38,13,20,15,"priceImpact"],[38,24,20,26],[38,25,20,27,"toNumber"],[38,33,20,35],[38,34,20,36],[38,35,20,37],[39,4,21,4],[39,5,21,5],[40,4,22,4,"getMaxSlippage"],[40,18,22,18,"getMaxSlippage"],[40,19,22,19,"slippage"],[40,27,22,27],[40,29,22,29,"toTokenAmount"],[40,42,22,42],[40,44,22,44],[41,6,23,8],[41,12,23,14,"slippageToleranceDecimal"],[41,36,23,38],[41,39,23,41,"NumberUtil"],[41,57,23,51],[41,58,23,51,"NumberUtil"],[41,68,23,51],[41,69,23,52,"bigNumber"],[41,78,23,61],[41,79,23,62,"slippage"],[41,87,23,70],[41,88,23,71],[41,89,23,72,"div"],[41,92,23,75],[41,93,23,76],[41,96,23,79],[41,97,23,80],[42,6,24,8],[42,12,24,14,"maxSlippageAmount"],[42,29,24,31],[42,32,24,34,"NumberUtil"],[42,50,24,44],[42,51,24,44,"NumberUtil"],[42,61,24,44],[42,62,24,45,"multiply"],[42,70,24,53],[42,71,24,54,"toTokenAmount"],[42,84,24,67],[42,86,24,69,"slippageToleranceDecimal"],[42,110,24,93],[42,111,24,94],[43,6,25,8],[43,13,25,15,"maxSlippageAmount"],[43,30,25,32],[43,31,25,33,"toNumber"],[43,39,25,41],[43,40,25,42],[43,41,25,43],[44,4,26,4],[44,5,26,5],[45,4,27,4,"getProviderFee"],[45,18,27,18,"getProviderFee"],[45,19,27,19,"sourceTokenAmount"],[45,36,27,36],[45,38,27,38,"feePercentage"],[45,51,27,51],[45,54,27,54],[45,60,27,60],[45,62,27,62],[46,6,28,8],[46,12,28,14,"providerFee"],[46,23,28,25],[46,26,28,28,"NumberUtil"],[46,44,28,38],[46,45,28,38,"NumberUtil"],[46,55,28,38],[46,56,28,39,"bigNumber"],[46,65,28,48],[46,66,28,49,"sourceTokenAmount"],[46,83,28,66],[46,84,28,67],[46,85,28,68,"times"],[46,90,28,73],[46,91,28,74,"feePercentage"],[46,104,28,87],[46,105,28,88],[47,6,29,8],[47,13,29,15,"providerFee"],[47,24,29,26],[47,25,29,27,"toString"],[47,33,29,35],[47,34,29,36],[47,35,29,37],[48,4,30,4],[48,5,30,5],[49,4,31,4,"isInsufficientNetworkTokenForGas"],[49,36,31,36,"isInsufficientNetworkTokenForGas"],[49,37,31,37,"networkBalanceInUSD"],[49,56,31,56],[49,58,31,58,"gasPriceInUSD"],[49,71,31,71],[49,73,31,73],[50,6,32,8],[50,12,32,14,"gasPrice"],[50,20,32,22],[50,23,32,25,"gasPriceInUSD"],[50,36,32,38],[50,40,32,42],[50,43,32,45],[51,6,33,8],[51,10,33,12,"NumberUtil"],[51,28,33,22],[51,29,33,22,"NumberUtil"],[51,39,33,22],[51,40,33,23,"bigNumber"],[51,49,33,32],[51,50,33,33,"networkBalanceInUSD"],[51,69,33,52],[51,70,33,53],[51,71,33,54,"eq"],[51,73,33,56],[51,74,33,57],[51,75,33,58],[51,76,33,59],[51,78,33,61],[52,8,34,12],[52,15,34,19],[52,19,34,23],[53,6,35,8],[54,6,36,8],[54,13,36,15,"NumberUtil"],[54,31,36,25],[54,32,36,25,"NumberUtil"],[54,42,36,25],[54,43,36,26,"bigNumber"],[54,52,36,35],[54,53,36,36,"NumberUtil"],[54,71,36,46],[54,72,36,46,"NumberUtil"],[54,82,36,46],[54,83,36,47,"bigNumber"],[54,92,36,56],[54,93,36,57,"gasPrice"],[54,101,36,65],[54,102,36,66],[54,103,36,67],[54,104,36,68,"gt"],[54,106,36,70],[54,107,36,71,"networkBalanceInUSD"],[54,126,36,90],[54,127,36,91],[55,4,37,4],[55,5,37,5],[56,4,38,4,"isInsufficientSourceTokenForSwap"],[56,36,38,36,"isInsufficientSourceTokenForSwap"],[56,37,38,37,"sourceTokenAmount"],[56,54,38,54],[56,56,38,56,"sourceTokenAddress"],[56,74,38,74],[56,76,38,76,"balance"],[56,83,38,83],[56,85,38,85],[57,6,39,8],[57,12,39,14,"sourceTokenBalance"],[57,30,39,32],[57,33,39,35,"balance"],[57,40,39,42],[57,42,39,44,"find"],[57,46,39,48],[57,47,39,49,"token"],[57,52,39,54],[57,56,39,58,"token"],[57,61,39,63],[57,62,39,64,"address"],[57,69,39,71],[57,74,39,76,"sourceTokenAddress"],[57,92,39,94],[57,93,39,95],[57,95,40,14,"quantity"],[57,103,40,22],[57,105,40,24,"numeric"],[57,112,40,31],[58,6,41,8],[58,12,41,14,"isInSufficientBalance"],[58,33,41,35],[58,36,41,38,"NumberUtil"],[58,54,41,48],[58,55,41,48,"NumberUtil"],[58,65,41,48],[58,66,41,49,"bigNumber"],[58,75,41,58],[58,76,41,59,"sourceTokenBalance"],[58,94,41,77],[58,98,41,81],[58,101,41,84],[58,102,41,85],[58,103,41,86,"lt"],[58,105,41,88],[58,106,41,89,"sourceTokenAmount"],[58,123,41,106],[58,124,41,107],[59,6,42,8],[59,13,42,15,"isInSufficientBalance"],[59,34,42,36],[60,4,43,4],[60,5,43,5],[61,4,44,4,"getToTokenAmount"],[61,20,44,20,"getToTokenAmount"],[61,21,44,21],[62,6,44,23,"sourceToken"],[62,17,44,34],[63,6,44,36,"toToken"],[63,13,44,43],[64,6,44,45,"sourceTokenPrice"],[64,22,44,61],[65,6,44,63,"toTokenPrice"],[65,18,44,75],[66,6,44,77,"sourceTokenAmount"],[67,4,44,95],[67,5,44,96],[67,7,44,98],[68,6,45,8],[68,10,45,12,"sourceTokenAmount"],[68,27,45,29],[68,32,45,34],[68,35,45,37],[68,37,45,39],[69,8,46,12],[69,15,46,19],[69,18,46,22],[70,6,47,8],[71,6,48,8],[71,10,48,12],[71,11,48,13,"sourceToken"],[71,22,48,24],[71,26,48,28],[71,27,48,29,"toToken"],[71,34,48,36],[71,36,48,38],[72,8,49,12],[72,15,49,19],[72,18,49,22],[73,6,50,8],[74,6,51,8],[74,12,51,14,"sourceTokenDecimals"],[74,31,51,33],[74,34,51,36,"sourceToken"],[74,45,51,47],[74,46,51,48,"decimals"],[74,54,51,56],[75,6,52,8],[75,12,52,14,"sourceTokenPriceInUSD"],[75,33,52,35],[75,36,52,38,"sourceTokenPrice"],[75,52,52,54],[76,6,53,8],[76,12,53,14,"toTokenDecimals"],[76,27,53,29],[76,30,53,32,"toToken"],[76,37,53,39],[76,38,53,40,"decimals"],[76,46,53,48],[77,6,54,8],[77,12,54,14,"toTokenPriceInUSD"],[77,29,54,31],[77,32,54,34,"toTokenPrice"],[77,44,54,46],[78,6,55,8],[78,10,55,12,"toTokenPriceInUSD"],[78,27,55,29],[78,31,55,33],[78,32,55,34],[78,34,55,36],[79,8,56,12],[79,15,56,19],[79,18,56,22],[80,6,57,8],[81,6,58,8],[82,6,59,8],[82,12,59,14,"providerFee"],[82,23,59,25],[82,26,59,28,"NumberUtil"],[82,44,59,38],[82,45,59,38,"NumberUtil"],[82,55,59,38],[82,56,59,39,"bigNumber"],[82,65,59,48],[82,66,59,49,"sourceTokenAmount"],[82,83,59,66],[82,84,59,67],[82,85,59,68,"times"],[82,90,59,73],[82,91,59,74],[82,97,59,80],[82,98,59,81],[83,6,60,8],[84,6,61,8],[84,12,61,14,"adjustedSourceTokenAmount"],[84,37,61,39],[84,40,61,42,"NumberUtil"],[84,58,61,52],[84,59,61,52,"NumberUtil"],[84,69,61,52],[84,70,61,53,"bigNumber"],[84,79,61,62],[84,80,61,63,"sourceTokenAmount"],[84,97,61,80],[84,98,61,81],[84,99,61,82,"minus"],[84,104,61,87],[84,105,61,88,"providerFee"],[84,116,61,99],[84,117,61,100],[85,6,62,8],[86,6,63,8],[86,12,63,14,"sourceAmountInSmallestUnit"],[86,38,63,40],[86,41,63,43,"adjustedSourceTokenAmount"],[86,66,63,68],[86,67,63,69,"times"],[86,72,63,74],[86,73,63,75,"NumberUtil"],[86,91,63,85],[86,92,63,85,"NumberUtil"],[86,102,63,85],[86,103,63,86,"bigNumber"],[86,112,63,95],[86,113,63,96],[86,115,63,98],[86,116,63,99],[86,117,63,100,"pow"],[86,120,63,103],[86,121,63,104,"sourceTokenDecimals"],[86,140,63,123],[86,141,63,124],[86,142,63,125],[87,6,64,8],[87,12,64,14,"priceRatio"],[87,22,64,24],[87,25,64,27,"NumberUtil"],[87,43,64,37],[87,44,64,37,"NumberUtil"],[87,54,64,37],[87,55,64,38,"bigNumber"],[87,64,64,47],[87,65,64,48,"sourceTokenPriceInUSD"],[87,86,64,69],[87,87,64,70],[87,88,64,71,"div"],[87,91,64,74],[87,92,64,75,"toTokenPriceInUSD"],[87,109,64,92],[87,110,64,93],[88,6,65,8],[88,12,65,14,"decimalDifference"],[88,29,65,31],[88,32,65,34,"sourceTokenDecimals"],[88,51,65,53],[88,54,65,56,"toTokenDecimals"],[88,69,65,71],[89,6,66,8],[89,12,66,14,"toTokenAmountInSmallestUnit"],[89,39,66,41],[89,42,66,44,"sourceAmountInSmallestUnit"],[89,68,66,70],[89,69,67,13,"times"],[89,74,67,18],[89,75,67,19,"priceRatio"],[89,85,67,29],[89,86,67,30],[89,87,68,13,"div"],[89,90,68,16],[89,91,68,17,"NumberUtil"],[89,109,68,27],[89,110,68,27,"NumberUtil"],[89,120,68,27],[89,121,68,28,"bigNumber"],[89,130,68,37],[89,131,68,38],[89,133,68,40],[89,134,68,41],[89,135,68,42,"pow"],[89,138,68,45],[89,139,68,46,"decimalDifference"],[89,156,68,63],[89,157,68,64],[89,158,68,65],[90,6,69,8],[90,12,69,14,"toTokenAmount"],[90,25,69,27],[90,28,69,30,"toTokenAmountInSmallestUnit"],[90,55,69,57],[90,56,69,58,"div"],[90,59,69,61],[90,60,69,62,"NumberUtil"],[90,78,69,72],[90,79,69,72,"NumberUtil"],[90,89,69,72],[90,90,69,73,"bigNumber"],[90,99,69,82],[90,100,69,83],[90,102,69,85],[90,103,69,86],[90,104,69,87,"pow"],[90,107,69,90],[90,108,69,91,"toTokenDecimals"],[90,123,69,106],[90,124,69,107],[90,125,69,108],[91,6,70,8],[91,12,70,14,"amount"],[91,18,70,20],[91,21,70,23,"toTokenAmount"],[91,34,70,36],[91,35,70,37,"toFixed"],[91,42,70,44],[91,43,70,45,"toTokenDecimals"],[91,58,70,60],[91,59,70,61],[91,60,70,62,"toString"],[91,68,70,70],[91,69,70,71],[91,70,70,72],[92,6,71,8],[92,13,71,15,"amount"],[92,19,71,21],[93,4,72,4],[94,2,73,0],[94,3,73,1],[95,0,73,2],[95,3]],"functionMap":{"names":["<global>","getGasPriceInEther","getGasPriceInUSD","getPriceImpact","getMaxSlippage","getProviderFee","isInsufficientNetworkTokenForGas","isInsufficientSourceTokenForSwap","balance.find$argument_0","getToTokenAmount"],"mappings":"AAA;ICI;KDI;IEC;KFK;IGC;KHK;IIC;KJI;IKC;KLG;IMC;KNM;IOC;iDCC,6CD;KPI;ISC;KT4B"},"hasCjsExports":false},"type":"js/module"}]}