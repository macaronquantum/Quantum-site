{"dependencies":[{"name":"../../errors/abi.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":17,"index":141},"end":{"line":4,"column":47,"index":171}}],"key":"qGW+Whuwmq2z3R+FBihEgnm5t3Q=","exportNames":["*"],"imports":1}},{"name":"../../errors/log.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":17,"index":190},"end":{"line":5,"column":47,"index":220}}],"key":"/ksFv7SoAjIKYlfoYpbtl8ssN7w=","exportNames":["*"],"imports":1}},{"name":"../encoding/toBytes.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":21,"index":243},"end":{"line":6,"column":54,"index":276}}],"key":"hF9MuwIAwgQusvT80W2T7GwjVQE=","exportNames":["*"],"imports":1}},{"name":"../hash/keccak256.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":23,"index":301},"end":{"line":7,"column":54,"index":332}}],"key":"7bRPeOa5FdewDzbrvmXWc8HISYo=","exportNames":["*"],"imports":1}},{"name":"../hash/toEventSelector.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":29,"index":363},"end":{"line":8,"column":66,"index":400}}],"key":"+X9WY0q103xuBGKsGKfowlCj1rY=","exportNames":["*"],"imports":1}},{"name":"./encodeAbiParameters.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":33,"index":435},"end":{"line":9,"column":68,"index":470}}],"key":"geE6NwxLd7gvcVtCN1ONSir9ulE=","exportNames":["*"],"imports":1}},{"name":"./formatAbiItem.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":27,"index":499},"end":{"line":10,"column":56,"index":528}}],"key":"+8fcDuEs0OkL9OcLysMX61Iapw8=","exportNames":["*"],"imports":1}},{"name":"./getAbiItem.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":11,"column":24,"index":554},"end":{"line":11,"column":50,"index":580}}],"key":"aNjLgOhHNWm985h+KH0GGLjrqTA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.encodeEventTopics = encodeEventTopics;\n  const abi_js_1 = require(_dependencyMap[0], \"../../errors/abi.js\");\n  const log_js_1 = require(_dependencyMap[1], \"../../errors/log.js\");\n  const toBytes_js_1 = require(_dependencyMap[2], \"../encoding/toBytes.js\");\n  const keccak256_js_1 = require(_dependencyMap[3], \"../hash/keccak256.js\");\n  const toEventSelector_js_1 = require(_dependencyMap[4], \"../hash/toEventSelector.js\");\n  const encodeAbiParameters_js_1 = require(_dependencyMap[5], \"./encodeAbiParameters.js\");\n  const formatAbiItem_js_1 = require(_dependencyMap[6], \"./formatAbiItem.js\");\n  const getAbiItem_js_1 = require(_dependencyMap[7], \"./getAbiItem.js\");\n  const docsPath = '/docs/contract/encodeEventTopics';\n  function encodeEventTopics(parameters) {\n    const {\n      abi,\n      eventName,\n      args\n    } = parameters;\n    let abiItem = abi[0];\n    if (eventName) {\n      const item = (0, getAbiItem_js_1.getAbiItem)({\n        abi,\n        name: eventName\n      });\n      if (!item) throw new abi_js_1.AbiEventNotFoundError(eventName, {\n        docsPath\n      });\n      abiItem = item;\n    }\n    if (abiItem.type !== 'event') throw new abi_js_1.AbiEventNotFoundError(undefined, {\n      docsPath\n    });\n    const definition = (0, formatAbiItem_js_1.formatAbiItem)(abiItem);\n    const signature = (0, toEventSelector_js_1.toEventSelector)(definition);\n    let topics = [];\n    if (args && 'inputs' in abiItem) {\n      const indexedInputs = abiItem.inputs?.filter(param => 'indexed' in param && param.indexed);\n      const args_ = Array.isArray(args) ? args : Object.values(args).length > 0 ? indexedInputs?.map(x => args[x.name]) ?? [] : [];\n      if (args_.length > 0) {\n        topics = indexedInputs?.map((param, i) => {\n          if (Array.isArray(args_[i])) return args_[i].map((_, j) => encodeArg({\n            param,\n            value: args_[i][j]\n          }));\n          return typeof args_[i] !== 'undefined' && args_[i] !== null ? encodeArg({\n            param,\n            value: args_[i]\n          }) : null;\n        }) ?? [];\n      }\n    }\n    return [signature, ...topics];\n  }\n  function encodeArg({\n    param,\n    value\n  }) {\n    if (param.type === 'string' || param.type === 'bytes') return (0, keccak256_js_1.keccak256)((0, toBytes_js_1.toBytes)(value));\n    if (param.type === 'tuple' || param.type.match(/^(.*)\\[(\\d+)?\\]$/)) throw new log_js_1.FilterTypeNotSupportedError(param.type);\n    return (0, encodeAbiParameters_js_1.encodeAbiParameters)([param], [value]);\n  }\n});","lineCount":66,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"encodeEventTopics"],[7,27,3,25],[7,30,3,28,"encodeEventTopics"],[7,47,3,45],[8,2,4,0],[8,8,4,6,"abi_js_1"],[8,16,4,14],[8,19,4,17,"require"],[8,26,4,24],[8,27,4,24,"_dependencyMap"],[8,41,4,24],[8,67,4,46],[8,68,4,47],[9,2,5,0],[9,8,5,6,"log_js_1"],[9,16,5,14],[9,19,5,17,"require"],[9,26,5,24],[9,27,5,24,"_dependencyMap"],[9,41,5,24],[9,67,5,46],[9,68,5,47],[10,2,6,0],[10,8,6,6,"toBytes_js_1"],[10,20,6,18],[10,23,6,21,"require"],[10,30,6,28],[10,31,6,28,"_dependencyMap"],[10,45,6,28],[10,74,6,53],[10,75,6,54],[11,2,7,0],[11,8,7,6,"keccak256_js_1"],[11,22,7,20],[11,25,7,23,"require"],[11,32,7,30],[11,33,7,30,"_dependencyMap"],[11,47,7,30],[11,74,7,53],[11,75,7,54],[12,2,8,0],[12,8,8,6,"toEventSelector_js_1"],[12,28,8,26],[12,31,8,29,"require"],[12,38,8,36],[12,39,8,36,"_dependencyMap"],[12,53,8,36],[12,86,8,65],[12,87,8,66],[13,2,9,0],[13,8,9,6,"encodeAbiParameters_js_1"],[13,32,9,30],[13,35,9,33,"require"],[13,42,9,40],[13,43,9,40,"_dependencyMap"],[13,57,9,40],[13,88,9,67],[13,89,9,68],[14,2,10,0],[14,8,10,6,"formatAbiItem_js_1"],[14,26,10,24],[14,29,10,27,"require"],[14,36,10,34],[14,37,10,34,"_dependencyMap"],[14,51,10,34],[14,76,10,55],[14,77,10,56],[15,2,11,0],[15,8,11,6,"getAbiItem_js_1"],[15,23,11,21],[15,26,11,24,"require"],[15,33,11,31],[15,34,11,31,"_dependencyMap"],[15,48,11,31],[15,70,11,49],[15,71,11,50],[16,2,12,0],[16,8,12,6,"docsPath"],[16,16,12,14],[16,19,12,17],[16,53,12,51],[17,2,13,0],[17,11,13,9,"encodeEventTopics"],[17,28,13,26,"encodeEventTopics"],[17,29,13,27,"parameters"],[17,39,13,37],[17,41,13,39],[18,4,14,4],[18,10,14,10],[19,6,14,12,"abi"],[19,9,14,15],[20,6,14,17,"eventName"],[20,15,14,26],[21,6,14,28,"args"],[22,4,14,33],[22,5,14,34],[22,8,14,37,"parameters"],[22,18,14,47],[23,4,15,4],[23,8,15,8,"abiItem"],[23,15,15,15],[23,18,15,18,"abi"],[23,21,15,21],[23,22,15,22],[23,23,15,23],[23,24,15,24],[24,4,16,4],[24,8,16,8,"eventName"],[24,17,16,17],[24,19,16,19],[25,6,17,8],[25,12,17,14,"item"],[25,16,17,18],[25,19,17,21],[25,20,17,22],[25,21,17,23],[25,23,17,25,"getAbiItem_js_1"],[25,38,17,40],[25,39,17,41,"getAbiItem"],[25,49,17,51],[25,51,17,53],[26,8,17,55,"abi"],[26,11,17,58],[27,8,17,60,"name"],[27,12,17,64],[27,14,17,66,"eventName"],[28,6,17,76],[28,7,17,77],[28,8,17,78],[29,6,18,8],[29,10,18,12],[29,11,18,13,"item"],[29,15,18,17],[29,17,19,12],[29,23,19,18],[29,27,19,22,"abi_js_1"],[29,35,19,30],[29,36,19,31,"AbiEventNotFoundError"],[29,57,19,52],[29,58,19,53,"eventName"],[29,67,19,62],[29,69,19,64],[30,8,19,66,"docsPath"],[31,6,19,75],[31,7,19,76],[31,8,19,77],[32,6,20,8,"abiItem"],[32,13,20,15],[32,16,20,18,"item"],[32,20,20,22],[33,4,21,4],[34,4,22,4],[34,8,22,8,"abiItem"],[34,15,22,15],[34,16,22,16,"type"],[34,20,22,20],[34,25,22,25],[34,32,22,32],[34,34,23,8],[34,40,23,14],[34,44,23,18,"abi_js_1"],[34,52,23,26],[34,53,23,27,"AbiEventNotFoundError"],[34,74,23,48],[34,75,23,49,"undefined"],[34,84,23,58],[34,86,23,60],[35,6,23,62,"docsPath"],[36,4,23,71],[36,5,23,72],[36,6,23,73],[37,4,24,4],[37,10,24,10,"definition"],[37,20,24,20],[37,23,24,23],[37,24,24,24],[37,25,24,25],[37,27,24,27,"formatAbiItem_js_1"],[37,45,24,45],[37,46,24,46,"formatAbiItem"],[37,59,24,59],[37,61,24,61,"abiItem"],[37,68,24,68],[37,69,24,69],[38,4,25,4],[38,10,25,10,"signature"],[38,19,25,19],[38,22,25,22],[38,23,25,23],[38,24,25,24],[38,26,25,26,"toEventSelector_js_1"],[38,46,25,46],[38,47,25,47,"toEventSelector"],[38,62,25,62],[38,64,25,64,"definition"],[38,74,25,74],[38,75,25,75],[39,4,26,4],[39,8,26,8,"topics"],[39,14,26,14],[39,17,26,17],[39,19,26,19],[40,4,27,4],[40,8,27,8,"args"],[40,12,27,12],[40,16,27,16],[40,24,27,24],[40,28,27,28,"abiItem"],[40,35,27,35],[40,37,27,37],[41,6,28,8],[41,12,28,14,"indexedInputs"],[41,25,28,27],[41,28,28,30,"abiItem"],[41,35,28,37],[41,36,28,38,"inputs"],[41,42,28,44],[41,44,28,46,"filter"],[41,50,28,52],[41,51,28,54,"param"],[41,56,28,59],[41,60,28,64],[41,69,28,73],[41,73,28,77,"param"],[41,78,28,82],[41,82,28,86,"param"],[41,87,28,91],[41,88,28,92,"indexed"],[41,95,28,99],[41,96,28,100],[42,6,29,8],[42,12,29,14,"args_"],[42,17,29,19],[42,20,29,22,"Array"],[42,25,29,27],[42,26,29,28,"isArray"],[42,33,29,35],[42,34,29,36,"args"],[42,38,29,40],[42,39,29,41],[42,42,30,14,"args"],[42,46,30,18],[42,49,31,14,"Object"],[42,55,31,20],[42,56,31,21,"values"],[42,62,31,27],[42,63,31,28,"args"],[42,67,31,32],[42,68,31,33],[42,69,31,34,"length"],[42,75,31,40],[42,78,31,43],[42,79,31,44],[42,82,32,19,"indexedInputs"],[42,95,32,32],[42,97,32,34,"map"],[42,100,32,37],[42,101,32,39,"x"],[42,102,32,40],[42,106,32,45,"args"],[42,110,32,49],[42,111,32,50,"x"],[42,112,32,51],[42,113,32,52,"name"],[42,117,32,56],[42,118,32,57],[42,119,32,58],[42,123,32,62],[42,125,32,64],[42,128,33,18],[42,130,33,20],[43,6,34,8],[43,10,34,12,"args_"],[43,15,34,17],[43,16,34,18,"length"],[43,22,34,24],[43,25,34,27],[43,26,34,28],[43,28,34,30],[44,8,35,12,"topics"],[44,14,35,18],[44,17,36,16,"indexedInputs"],[44,30,36,29],[44,32,36,31,"map"],[44,35,36,34],[44,36,36,35],[44,37,36,36,"param"],[44,42,36,41],[44,44,36,43,"i"],[44,45,36,44],[44,50,36,49],[45,10,37,20],[45,14,37,24,"Array"],[45,19,37,29],[45,20,37,30,"isArray"],[45,27,37,37],[45,28,37,38,"args_"],[45,33,37,43],[45,34,37,44,"i"],[45,35,37,45],[45,36,37,46],[45,37,37,47],[45,39,38,24],[45,46,38,31,"args_"],[45,51,38,36],[45,52,38,37,"i"],[45,53,38,38],[45,54,38,39],[45,55,38,40,"map"],[45,58,38,43],[45,59,38,44],[45,60,38,45,"_"],[45,61,38,46],[45,63,38,48,"j"],[45,64,38,49],[45,69,38,54,"encodeArg"],[45,78,38,63],[45,79,38,64],[46,12,38,66,"param"],[46,17,38,71],[47,12,38,73,"value"],[47,17,38,78],[47,19,38,80,"args_"],[47,24,38,85],[47,25,38,86,"i"],[47,26,38,87],[47,27,38,88],[47,28,38,89,"j"],[47,29,38,90],[48,10,38,92],[48,11,38,93],[48,12,38,94],[48,13,38,95],[49,10,39,20],[49,17,39,27],[49,24,39,34,"args_"],[49,29,39,39],[49,30,39,40,"i"],[49,31,39,41],[49,32,39,42],[49,37,39,47],[49,48,39,58],[49,52,39,62,"args_"],[49,57,39,67],[49,58,39,68,"i"],[49,59,39,69],[49,60,39,70],[49,65,39,75],[49,69,39,79],[49,72,40,26,"encodeArg"],[49,81,40,35],[49,82,40,36],[50,12,40,38,"param"],[50,17,40,43],[51,12,40,45,"value"],[51,17,40,50],[51,19,40,52,"args_"],[51,24,40,57],[51,25,40,58,"i"],[51,26,40,59],[52,10,40,61],[52,11,40,62],[52,12,40,63],[52,15,41,26],[52,19,41,30],[53,8,42,16],[53,9,42,17],[53,10,42,18],[53,14,42,22],[53,16,42,24],[54,6,43,8],[55,4,44,4],[56,4,45,4],[56,11,45,11],[56,12,45,12,"signature"],[56,21,45,21],[56,23,45,23],[56,26,45,26,"topics"],[56,32,45,32],[56,33,45,33],[57,2,46,0],[58,2,47,0],[58,11,47,9,"encodeArg"],[58,20,47,18,"encodeArg"],[58,21,47,19],[59,4,47,21,"param"],[59,9,47,26],[60,4,47,28,"value"],[61,2,47,35],[61,3,47,36],[61,5,47,38],[62,4,48,4],[62,8,48,8,"param"],[62,13,48,13],[62,14,48,14,"type"],[62,18,48,18],[62,23,48,23],[62,31,48,31],[62,35,48,35,"param"],[62,40,48,40],[62,41,48,41,"type"],[62,45,48,45],[62,50,48,50],[62,57,48,57],[62,59,49,8],[62,66,49,15],[62,67,49,16],[62,68,49,17],[62,70,49,19,"keccak256_js_1"],[62,84,49,33],[62,85,49,34,"keccak256"],[62,94,49,43],[62,96,49,45],[62,97,49,46],[62,98,49,47],[62,100,49,49,"toBytes_js_1"],[62,112,49,61],[62,113,49,62,"toBytes"],[62,120,49,69],[62,122,49,71,"value"],[62,127,49,76],[62,128,49,77],[62,129,49,78],[63,4,50,4],[63,8,50,8,"param"],[63,13,50,13],[63,14,50,14,"type"],[63,18,50,18],[63,23,50,23],[63,30,50,30],[63,34,50,34,"param"],[63,39,50,39],[63,40,50,40,"type"],[63,44,50,44],[63,45,50,45,"match"],[63,50,50,50],[63,51,50,51],[63,69,50,69],[63,70,50,70],[63,72,51,8],[63,78,51,14],[63,82,51,18,"log_js_1"],[63,90,51,26],[63,91,51,27,"FilterTypeNotSupportedError"],[63,118,51,54],[63,119,51,55,"param"],[63,124,51,60],[63,125,51,61,"type"],[63,129,51,65],[63,130,51,66],[64,4,52,4],[64,11,52,11],[64,12,52,12],[64,13,52,13],[64,15,52,15,"encodeAbiParameters_js_1"],[64,39,52,39],[64,40,52,40,"encodeAbiParameters"],[64,59,52,59],[64,61,52,61],[64,62,52,62,"param"],[64,67,52,67],[64,68,52,68],[64,70,52,70],[64,71,52,71,"value"],[64,76,52,76],[64,77,52,77],[64,78,52,78],[65,2,53,0],[66,0,53,1],[66,3]],"functionMap":{"names":["<global>","encodeEventTopics","abiItem.inputs.filter$argument_0","indexedInputs.map$argument_0","args_.i.map$argument_0","encodeArg"],"mappings":"AAA;ACY;qDCe,8CD;sCEI,mBF;mCEI;4CCE,kDD;iBFI;CDI;AKC;CLM"},"hasCjsExports":true},"type":"js/module"}]}