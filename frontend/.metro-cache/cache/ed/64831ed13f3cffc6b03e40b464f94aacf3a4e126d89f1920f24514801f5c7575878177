{"dependencies":[{"name":"../../errors/base.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":18,"index":180},"end":{"line":6,"column":49,"index":211}}],"key":"3GwELfaTmapBnCWreQzHgy6p5Bg=","exportNames":["*"],"imports":1}},{"name":"../cursor.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":20,"index":233},"end":{"line":7,"column":43,"index":256}}],"key":"llrLOZTxbcWCs+OiF7jlYqYf9QA=","exportNames":["*"],"imports":1}},{"name":"./toBytes.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":21,"index":279},"end":{"line":8,"column":44,"index":302}}],"key":"IedwEEnHphOSuGGgZWRkUfVcL4s=","exportNames":["*"],"imports":1}},{"name":"./toHex.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":19,"index":323},"end":{"line":9,"column":40,"index":344}}],"key":"2Y4bDeZq+YGqge0FgsBN5qGTeXk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.toRlp = toRlp;\n  exports.bytesToRlp = bytesToRlp;\n  exports.hexToRlp = hexToRlp;\n  const base_js_1 = require(_dependencyMap[0], \"../../errors/base.js\");\n  const cursor_js_1 = require(_dependencyMap[1], \"../cursor.js\");\n  const toBytes_js_1 = require(_dependencyMap[2], \"./toBytes.js\");\n  const toHex_js_1 = require(_dependencyMap[3], \"./toHex.js\");\n  function toRlp(bytes, to = 'hex') {\n    const encodable = getEncodable(bytes);\n    const cursor = (0, cursor_js_1.createCursor)(new Uint8Array(encodable.length));\n    encodable.encode(cursor);\n    if (to === 'hex') return (0, toHex_js_1.bytesToHex)(cursor.bytes);\n    return cursor.bytes;\n  }\n  function bytesToRlp(bytes, to = 'bytes') {\n    return toRlp(bytes, to);\n  }\n  function hexToRlp(hex, to = 'hex') {\n    return toRlp(hex, to);\n  }\n  function getEncodable(bytes) {\n    if (Array.isArray(bytes)) return getEncodableList(bytes.map(x => getEncodable(x)));\n    return getEncodableBytes(bytes);\n  }\n  function getEncodableList(list) {\n    const bodyLength = list.reduce((acc, x) => acc + x.length, 0);\n    const sizeOfBodyLength = getSizeOfLength(bodyLength);\n    const length = (() => {\n      if (bodyLength <= 55) return 1 + bodyLength;\n      return 1 + sizeOfBodyLength + bodyLength;\n    })();\n    return {\n      length,\n      encode(cursor) {\n        if (bodyLength <= 55) {\n          cursor.pushByte(0xc0 + bodyLength);\n        } else {\n          cursor.pushByte(0xc0 + 55 + sizeOfBodyLength);\n          if (sizeOfBodyLength === 1) cursor.pushUint8(bodyLength);else if (sizeOfBodyLength === 2) cursor.pushUint16(bodyLength);else if (sizeOfBodyLength === 3) cursor.pushUint24(bodyLength);else cursor.pushUint32(bodyLength);\n        }\n        for (const {\n          encode\n        } of list) {\n          encode(cursor);\n        }\n      }\n    };\n  }\n  function getEncodableBytes(bytesOrHex) {\n    const bytes = typeof bytesOrHex === 'string' ? (0, toBytes_js_1.hexToBytes)(bytesOrHex) : bytesOrHex;\n    const sizeOfBytesLength = getSizeOfLength(bytes.length);\n    const length = (() => {\n      if (bytes.length === 1 && bytes[0] < 0x80) return 1;\n      if (bytes.length <= 55) return 1 + bytes.length;\n      return 1 + sizeOfBytesLength + bytes.length;\n    })();\n    return {\n      length,\n      encode(cursor) {\n        if (bytes.length === 1 && bytes[0] < 0x80) {\n          cursor.pushBytes(bytes);\n        } else if (bytes.length <= 55) {\n          cursor.pushByte(0x80 + bytes.length);\n          cursor.pushBytes(bytes);\n        } else {\n          cursor.pushByte(0x80 + 55 + sizeOfBytesLength);\n          if (sizeOfBytesLength === 1) cursor.pushUint8(bytes.length);else if (sizeOfBytesLength === 2) cursor.pushUint16(bytes.length);else if (sizeOfBytesLength === 3) cursor.pushUint24(bytes.length);else cursor.pushUint32(bytes.length);\n          cursor.pushBytes(bytes);\n        }\n      }\n    };\n  }\n  function getSizeOfLength(length) {\n    if (length < 2 ** 8) return 1;\n    if (length < 2 ** 16) return 2;\n    if (length < 2 ** 24) return 3;\n    if (length < 2 ** 32) return 4;\n    throw new base_js_1.BaseError('Length is too large.');\n  }\n});","lineCount":86,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"toRlp"],[7,15,3,13],[7,18,3,16,"toRlp"],[7,23,3,21],[8,2,4,0,"exports"],[8,9,4,7],[8,10,4,8,"bytesToRlp"],[8,20,4,18],[8,23,4,21,"bytesToRlp"],[8,33,4,31],[9,2,5,0,"exports"],[9,9,5,7],[9,10,5,8,"hexToRlp"],[9,18,5,16],[9,21,5,19,"hexToRlp"],[9,29,5,27],[10,2,6,0],[10,8,6,6,"base_js_1"],[10,17,6,15],[10,20,6,18,"require"],[10,27,6,25],[10,28,6,25,"_dependencyMap"],[10,42,6,25],[10,69,6,48],[10,70,6,49],[11,2,7,0],[11,8,7,6,"cursor_js_1"],[11,19,7,17],[11,22,7,20,"require"],[11,29,7,27],[11,30,7,27,"_dependencyMap"],[11,44,7,27],[11,63,7,42],[11,64,7,43],[12,2,8,0],[12,8,8,6,"toBytes_js_1"],[12,20,8,18],[12,23,8,21,"require"],[12,30,8,28],[12,31,8,28,"_dependencyMap"],[12,45,8,28],[12,64,8,43],[12,65,8,44],[13,2,9,0],[13,8,9,6,"toHex_js_1"],[13,18,9,16],[13,21,9,19,"require"],[13,28,9,26],[13,29,9,26,"_dependencyMap"],[13,43,9,26],[13,60,9,39],[13,61,9,40],[14,2,10,0],[14,11,10,9,"toRlp"],[14,16,10,14,"toRlp"],[14,17,10,15,"bytes"],[14,22,10,20],[14,24,10,22,"to"],[14,26,10,24],[14,29,10,27],[14,34,10,32],[14,36,10,34],[15,4,11,4],[15,10,11,10,"encodable"],[15,19,11,19],[15,22,11,22,"getEncodable"],[15,34,11,34],[15,35,11,35,"bytes"],[15,40,11,40],[15,41,11,41],[16,4,12,4],[16,10,12,10,"cursor"],[16,16,12,16],[16,19,12,19],[16,20,12,20],[16,21,12,21],[16,23,12,23,"cursor_js_1"],[16,34,12,34],[16,35,12,35,"createCursor"],[16,47,12,47],[16,49,12,49],[16,53,12,53,"Uint8Array"],[16,63,12,63],[16,64,12,64,"encodable"],[16,73,12,73],[16,74,12,74,"length"],[16,80,12,80],[16,81,12,81],[16,82,12,82],[17,4,13,4,"encodable"],[17,13,13,13],[17,14,13,14,"encode"],[17,20,13,20],[17,21,13,21,"cursor"],[17,27,13,27],[17,28,13,28],[18,4,14,4],[18,8,14,8,"to"],[18,10,14,10],[18,15,14,15],[18,20,14,20],[18,22,15,8],[18,29,15,15],[18,30,15,16],[18,31,15,17],[18,33,15,19,"toHex_js_1"],[18,43,15,29],[18,44,15,30,"bytesToHex"],[18,54,15,40],[18,56,15,42,"cursor"],[18,62,15,48],[18,63,15,49,"bytes"],[18,68,15,54],[18,69,15,55],[19,4,16,4],[19,11,16,11,"cursor"],[19,17,16,17],[19,18,16,18,"bytes"],[19,23,16,23],[20,2,17,0],[21,2,18,0],[21,11,18,9,"bytesToRlp"],[21,21,18,19,"bytesToRlp"],[21,22,18,20,"bytes"],[21,27,18,25],[21,29,18,27,"to"],[21,31,18,29],[21,34,18,32],[21,41,18,39],[21,43,18,41],[22,4,19,4],[22,11,19,11,"toRlp"],[22,16,19,16],[22,17,19,17,"bytes"],[22,22,19,22],[22,24,19,24,"to"],[22,26,19,26],[22,27,19,27],[23,2,20,0],[24,2,21,0],[24,11,21,9,"hexToRlp"],[24,19,21,17,"hexToRlp"],[24,20,21,18,"hex"],[24,23,21,21],[24,25,21,23,"to"],[24,27,21,25],[24,30,21,28],[24,35,21,33],[24,37,21,35],[25,4,22,4],[25,11,22,11,"toRlp"],[25,16,22,16],[25,17,22,17,"hex"],[25,20,22,20],[25,22,22,22,"to"],[25,24,22,24],[25,25,22,25],[26,2,23,0],[27,2,24,0],[27,11,24,9,"getEncodable"],[27,23,24,21,"getEncodable"],[27,24,24,22,"bytes"],[27,29,24,27],[27,31,24,29],[28,4,25,4],[28,8,25,8,"Array"],[28,13,25,13],[28,14,25,14,"isArray"],[28,21,25,21],[28,22,25,22,"bytes"],[28,27,25,27],[28,28,25,28],[28,30,26,8],[28,37,26,15,"getEncodableList"],[28,53,26,31],[28,54,26,32,"bytes"],[28,59,26,37],[28,60,26,38,"map"],[28,63,26,41],[28,64,26,43,"x"],[28,65,26,44],[28,69,26,49,"getEncodable"],[28,81,26,61],[28,82,26,62,"x"],[28,83,26,63],[28,84,26,64],[28,85,26,65],[28,86,26,66],[29,4,27,4],[29,11,27,11,"getEncodableBytes"],[29,28,27,28],[29,29,27,29,"bytes"],[29,34,27,34],[29,35,27,35],[30,2,28,0],[31,2,29,0],[31,11,29,9,"getEncodableList"],[31,27,29,25,"getEncodableList"],[31,28,29,26,"list"],[31,32,29,30],[31,34,29,32],[32,4,30,4],[32,10,30,10,"bodyLength"],[32,20,30,20],[32,23,30,23,"list"],[32,27,30,27],[32,28,30,28,"reduce"],[32,34,30,34],[32,35,30,35],[32,36,30,36,"acc"],[32,39,30,39],[32,41,30,41,"x"],[32,42,30,42],[32,47,30,47,"acc"],[32,50,30,50],[32,53,30,53,"x"],[32,54,30,54],[32,55,30,55,"length"],[32,61,30,61],[32,63,30,63],[32,64,30,64],[32,65,30,65],[33,4,31,4],[33,10,31,10,"sizeOfBodyLength"],[33,26,31,26],[33,29,31,29,"getSizeOfLength"],[33,44,31,44],[33,45,31,45,"bodyLength"],[33,55,31,55],[33,56,31,56],[34,4,32,4],[34,10,32,10,"length"],[34,16,32,16],[34,19,32,19],[34,20,32,20],[34,26,32,26],[35,6,33,8],[35,10,33,12,"bodyLength"],[35,20,33,22],[35,24,33,26],[35,26,33,28],[35,28,34,12],[35,35,34,19],[35,36,34,20],[35,39,34,23,"bodyLength"],[35,49,34,33],[36,6,35,8],[36,13,35,15],[36,14,35,16],[36,17,35,19,"sizeOfBodyLength"],[36,33,35,35],[36,36,35,38,"bodyLength"],[36,46,35,48],[37,4,36,4],[37,5,36,5],[37,7,36,7],[37,8,36,8],[38,4,37,4],[38,11,37,11],[39,6,38,8,"length"],[39,12,38,14],[40,6,39,8,"encode"],[40,12,39,14,"encode"],[40,13,39,15,"cursor"],[40,19,39,21],[40,21,39,23],[41,8,40,12],[41,12,40,16,"bodyLength"],[41,22,40,26],[41,26,40,30],[41,28,40,32],[41,30,40,34],[42,10,41,16,"cursor"],[42,16,41,22],[42,17,41,23,"pushByte"],[42,25,41,31],[42,26,41,32],[42,30,41,36],[42,33,41,39,"bodyLength"],[42,43,41,49],[42,44,41,50],[43,8,42,12],[43,9,42,13],[43,15,43,17],[44,10,44,16,"cursor"],[44,16,44,22],[44,17,44,23,"pushByte"],[44,25,44,31],[44,26,44,32],[44,30,44,36],[44,33,44,39],[44,35,44,41],[44,38,44,44,"sizeOfBodyLength"],[44,54,44,60],[44,55,44,61],[45,10,45,16],[45,14,45,20,"sizeOfBodyLength"],[45,30,45,36],[45,35,45,41],[45,36,45,42],[45,38,46,20,"cursor"],[45,44,46,26],[45,45,46,27,"pushUint8"],[45,54,46,36],[45,55,46,37,"bodyLength"],[45,65,46,47],[45,66,46,48],[45,67,46,49],[45,72,47,21],[45,76,47,25,"sizeOfBodyLength"],[45,92,47,41],[45,97,47,46],[45,98,47,47],[45,100,48,20,"cursor"],[45,106,48,26],[45,107,48,27,"pushUint16"],[45,117,48,37],[45,118,48,38,"bodyLength"],[45,128,48,48],[45,129,48,49],[45,130,48,50],[45,135,49,21],[45,139,49,25,"sizeOfBodyLength"],[45,155,49,41],[45,160,49,46],[45,161,49,47],[45,163,50,20,"cursor"],[45,169,50,26],[45,170,50,27,"pushUint24"],[45,180,50,37],[45,181,50,38,"bodyLength"],[45,191,50,48],[45,192,50,49],[45,193,50,50],[45,198,52,20,"cursor"],[45,204,52,26],[45,205,52,27,"pushUint32"],[45,215,52,37],[45,216,52,38,"bodyLength"],[45,226,52,48],[45,227,52,49],[46,8,53,12],[47,8,54,12],[47,13,54,17],[47,19,54,23],[48,10,54,25,"encode"],[49,8,54,32],[49,9,54,33],[49,13,54,37,"list"],[49,17,54,41],[49,19,54,43],[50,10,55,16,"encode"],[50,16,55,22],[50,17,55,23,"cursor"],[50,23,55,29],[50,24,55,30],[51,8,56,12],[52,6,57,8],[53,4,58,4],[53,5,58,5],[54,2,59,0],[55,2,60,0],[55,11,60,9,"getEncodableBytes"],[55,28,60,26,"getEncodableBytes"],[55,29,60,27,"bytesOrHex"],[55,39,60,37],[55,41,60,39],[56,4,61,4],[56,10,61,10,"bytes"],[56,15,61,15],[56,18,61,18],[56,25,61,25,"bytesOrHex"],[56,35,61,35],[56,40,61,40],[56,48,61,48],[56,51,61,51],[56,52,61,52],[56,53,61,53],[56,55,61,55,"toBytes_js_1"],[56,67,61,67],[56,68,61,68,"hexToBytes"],[56,78,61,78],[56,80,61,80,"bytesOrHex"],[56,90,61,90],[56,91,61,91],[56,94,61,94,"bytesOrHex"],[56,104,61,104],[57,4,62,4],[57,10,62,10,"sizeOfBytesLength"],[57,27,62,27],[57,30,62,30,"getSizeOfLength"],[57,45,62,45],[57,46,62,46,"bytes"],[57,51,62,51],[57,52,62,52,"length"],[57,58,62,58],[57,59,62,59],[58,4,63,4],[58,10,63,10,"length"],[58,16,63,16],[58,19,63,19],[58,20,63,20],[58,26,63,26],[59,6,64,8],[59,10,64,12,"bytes"],[59,15,64,17],[59,16,64,18,"length"],[59,22,64,24],[59,27,64,29],[59,28,64,30],[59,32,64,34,"bytes"],[59,37,64,39],[59,38,64,40],[59,39,64,41],[59,40,64,42],[59,43,64,45],[59,47,64,49],[59,49,65,12],[59,56,65,19],[59,57,65,20],[60,6,66,8],[60,10,66,12,"bytes"],[60,15,66,17],[60,16,66,18,"length"],[60,22,66,24],[60,26,66,28],[60,28,66,30],[60,30,67,12],[60,37,67,19],[60,38,67,20],[60,41,67,23,"bytes"],[60,46,67,28],[60,47,67,29,"length"],[60,53,67,35],[61,6,68,8],[61,13,68,15],[61,14,68,16],[61,17,68,19,"sizeOfBytesLength"],[61,34,68,36],[61,37,68,39,"bytes"],[61,42,68,44],[61,43,68,45,"length"],[61,49,68,51],[62,4,69,4],[62,5,69,5],[62,7,69,7],[62,8,69,8],[63,4,70,4],[63,11,70,11],[64,6,71,8,"length"],[64,12,71,14],[65,6,72,8,"encode"],[65,12,72,14,"encode"],[65,13,72,15,"cursor"],[65,19,72,21],[65,21,72,23],[66,8,73,12],[66,12,73,16,"bytes"],[66,17,73,21],[66,18,73,22,"length"],[66,24,73,28],[66,29,73,33],[66,30,73,34],[66,34,73,38,"bytes"],[66,39,73,43],[66,40,73,44],[66,41,73,45],[66,42,73,46],[66,45,73,49],[66,49,73,53],[66,51,73,55],[67,10,74,16,"cursor"],[67,16,74,22],[67,17,74,23,"pushBytes"],[67,26,74,32],[67,27,74,33,"bytes"],[67,32,74,38],[67,33,74,39],[68,8,75,12],[68,9,75,13],[68,15,76,17],[68,19,76,21,"bytes"],[68,24,76,26],[68,25,76,27,"length"],[68,31,76,33],[68,35,76,37],[68,37,76,39],[68,39,76,41],[69,10,77,16,"cursor"],[69,16,77,22],[69,17,77,23,"pushByte"],[69,25,77,31],[69,26,77,32],[69,30,77,36],[69,33,77,39,"bytes"],[69,38,77,44],[69,39,77,45,"length"],[69,45,77,51],[69,46,77,52],[70,10,78,16,"cursor"],[70,16,78,22],[70,17,78,23,"pushBytes"],[70,26,78,32],[70,27,78,33,"bytes"],[70,32,78,38],[70,33,78,39],[71,8,79,12],[71,9,79,13],[71,15,80,17],[72,10,81,16,"cursor"],[72,16,81,22],[72,17,81,23,"pushByte"],[72,25,81,31],[72,26,81,32],[72,30,81,36],[72,33,81,39],[72,35,81,41],[72,38,81,44,"sizeOfBytesLength"],[72,55,81,61],[72,56,81,62],[73,10,82,16],[73,14,82,20,"sizeOfBytesLength"],[73,31,82,37],[73,36,82,42],[73,37,82,43],[73,39,83,20,"cursor"],[73,45,83,26],[73,46,83,27,"pushUint8"],[73,55,83,36],[73,56,83,37,"bytes"],[73,61,83,42],[73,62,83,43,"length"],[73,68,83,49],[73,69,83,50],[73,70,83,51],[73,75,84,21],[73,79,84,25,"sizeOfBytesLength"],[73,96,84,42],[73,101,84,47],[73,102,84,48],[73,104,85,20,"cursor"],[73,110,85,26],[73,111,85,27,"pushUint16"],[73,121,85,37],[73,122,85,38,"bytes"],[73,127,85,43],[73,128,85,44,"length"],[73,134,85,50],[73,135,85,51],[73,136,85,52],[73,141,86,21],[73,145,86,25,"sizeOfBytesLength"],[73,162,86,42],[73,167,86,47],[73,168,86,48],[73,170,87,20,"cursor"],[73,176,87,26],[73,177,87,27,"pushUint24"],[73,187,87,37],[73,188,87,38,"bytes"],[73,193,87,43],[73,194,87,44,"length"],[73,200,87,50],[73,201,87,51],[73,202,87,52],[73,207,89,20,"cursor"],[73,213,89,26],[73,214,89,27,"pushUint32"],[73,224,89,37],[73,225,89,38,"bytes"],[73,230,89,43],[73,231,89,44,"length"],[73,237,89,50],[73,238,89,51],[74,10,90,16,"cursor"],[74,16,90,22],[74,17,90,23,"pushBytes"],[74,26,90,32],[74,27,90,33,"bytes"],[74,32,90,38],[74,33,90,39],[75,8,91,12],[76,6,92,8],[77,4,93,4],[77,5,93,5],[78,2,94,0],[79,2,95,0],[79,11,95,9,"getSizeOfLength"],[79,26,95,24,"getSizeOfLength"],[79,27,95,25,"length"],[79,33,95,31],[79,35,95,33],[80,4,96,4],[80,8,96,8,"length"],[80,14,96,14],[80,17,96,17],[80,18,96,18],[80,22,96,22],[80,23,96,23],[80,25,97,8],[80,32,97,15],[80,33,97,16],[81,4,98,4],[81,8,98,8,"length"],[81,14,98,14],[81,17,98,17],[81,18,98,18],[81,22,98,22],[81,24,98,24],[81,26,99,8],[81,33,99,15],[81,34,99,16],[82,4,100,4],[82,8,100,8,"length"],[82,14,100,14],[82,17,100,17],[82,18,100,18],[82,22,100,22],[82,24,100,24],[82,26,101,8],[82,33,101,15],[82,34,101,16],[83,4,102,4],[83,8,102,8,"length"],[83,14,102,14],[83,17,102,17],[83,18,102,18],[83,22,102,22],[83,24,102,24],[83,26,103,8],[83,33,103,15],[83,34,103,16],[84,4,104,4],[84,10,104,10],[84,14,104,14,"base_js_1"],[84,23,104,23],[84,24,104,24,"BaseError"],[84,33,104,33],[84,34,104,34],[84,56,104,56],[84,57,104,57],[85,2,105,0],[86,0,105,1],[86,3]],"functionMap":{"names":["<global>","toRlp","bytesToRlp","hexToRlp","getEncodable","bytes.map$argument_0","getEncodableList","list.reduce$argument_0","<anonymous>","encode","getEncodableBytes","getSizeOfLength"],"mappings":"AAA;ACS;CDO;AEC;CFE;AGC;CHE;AIC;0CCE,sBD;CJE;AMC;mCCC,0BD;oBEE;KFI;QGG;SHkB;CNE;AUC;oBFG;KEM;QDG;SCoB;CVE;AWC;CXU"},"hasCjsExports":true},"type":"js/module"}]}