{"dependencies":[{"name":"@babel/runtime/helpers/objectWithoutPropertiesLoose","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"HFkXuFcBAqfzGtqyPj8g62MKT0M=","exportNames":["*"],"imports":1}},{"name":"../../utils/data/slice.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":53,"index":53}}],"key":"ggn5RSpoxdCBqYKMMVAHQVm5Iyk=","exportNames":["*"],"imports":1}},{"name":"../../utils/data/trim.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":54},"end":{"line":2,"column":48,"index":102}}],"key":"7bfEyUNAIOlzMN/tm0Ol8ZXCaIc=","exportNames":["*"],"imports":1}},{"name":"../../utils/encoding/fromHex.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":103},"end":{"line":3,"column":75,"index":178}}],"key":"uknfOLKh4Zy1p0iweRTTuAj/fYc=","exportNames":["*"],"imports":1}},{"name":"../../utils/formatters/transactionReceipt.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":179},"end":{"line":4,"column":79,"index":258}}],"key":"0jSiBqXZD2OBaO5Z37AJZpTC1Ao=","exportNames":["*"],"imports":1}},{"name":"./sendCalls.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":259},"end":{"line":5,"column":99,"index":358}}],"key":"xpqEgSLSliFvamOfZo+cyT1gP3w=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  const _excluded = [\"atomic\", \"chainId\", \"receipts\", \"version\"];\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.getCallsStatus = getCallsStatus;\n  var _babelRuntimeHelpersObjectWithoutPropertiesLoose = require(_dependencyMap[0], \"@babel/runtime/helpers/objectWithoutPropertiesLoose\");\n  var _objectWithoutPropertiesLoose = _interopDefault(_babelRuntimeHelpersObjectWithoutPropertiesLoose);\n  var _utilsDataSliceJs = require(_dependencyMap[1], \"../../utils/data/slice.js\");\n  var _utilsDataTrimJs = require(_dependencyMap[2], \"../../utils/data/trim.js\");\n  var _utilsEncodingFromHexJs = require(_dependencyMap[3], \"../../utils/encoding/fromHex.js\");\n  var _utilsFormattersTransactionReceiptJs = require(_dependencyMap[4], \"../../utils/formatters/transactionReceipt.js\");\n  var _sendCallsJs = require(_dependencyMap[5], \"./sendCalls.js\");\n  /**\n   * Returns the status of a call batch that was sent via `sendCalls`.\n   *\n   * - Docs: https://viem.sh/docs/actions/wallet/getCallsStatus\n   * - JSON-RPC Methods: [`wallet_getCallsStatus`](https://eips.ethereum.org/EIPS/eip-5792)\n   *\n   * @param client - Client to use\n   * @returns Status of the calls. {@link GetCallsStatusReturnType}\n   *\n   * @example\n   * import { createWalletClient, custom } from 'viem'\n   * import { mainnet } from 'viem/chains'\n   * import { getCallsStatus } from 'viem/actions'\n   *\n   * const client = createWalletClient({\n   *   chain: mainnet,\n   *   transport: custom(window.ethereum),\n   * })\n   * const { receipts, status } = await getCallsStatus(client, { id: '0xdeadbeef' })\n   */\n  async function getCallsStatus(client, parameters) {\n    async function getStatus(id) {\n      const isTransactions = id.endsWith(_sendCallsJs.fallbackMagicIdentifier.slice(2));\n      if (isTransactions) {\n        const chainId = (0, _utilsDataTrimJs.trim)((0, _utilsDataSliceJs.sliceHex)(id, -64, -32));\n        const hashes = (0, _utilsDataSliceJs.sliceHex)(id, 0, -64).slice(2).match(/.{1,64}/g);\n        const receipts = await Promise.all(hashes.map(hash => _sendCallsJs.fallbackTransactionErrorMagicIdentifier.slice(2) !== hash ? client.request({\n          method: 'eth_getTransactionReceipt',\n          params: [`0x${hash}`]\n        }, {\n          dedupe: true\n        }) : undefined));\n        const status = (() => {\n          if (receipts.some(r => r === null)) return 100; // pending\n          if (receipts.every(r => r?.status === '0x1')) return 200; // success\n          if (receipts.every(r => r?.status === '0x0')) return 500; // complete failure\n          return 600; // partial failure\n        })();\n        return {\n          atomic: false,\n          chainId: (0, _utilsEncodingFromHexJs.hexToNumber)(chainId),\n          receipts: receipts.filter(Boolean),\n          status,\n          version: '2.0.0'\n        };\n      }\n      return client.request({\n        method: 'wallet_getCallsStatus',\n        params: [id]\n      });\n    }\n    const _await$getStatus = await getStatus(parameters.id),\n      {\n        atomic = false,\n        chainId,\n        receipts,\n        version = '2.0.0'\n      } = _await$getStatus,\n      response = (0, _objectWithoutPropertiesLoose.default)(_await$getStatus, _excluded);\n    const [status, statusCode] = (() => {\n      const statusCode = response.status;\n      if (statusCode >= 100 && statusCode < 200) return ['pending', statusCode];\n      if (statusCode >= 200 && statusCode < 300) return ['success', statusCode];\n      if (statusCode >= 300 && statusCode < 700) return ['failure', statusCode];\n      // @ts-expect-error: for backwards compatibility\n      if (statusCode === 'CONFIRMED') return ['success', 200];\n      // @ts-expect-error: for backwards compatibility\n      if (statusCode === 'PENDING') return ['pending', 100];\n      return [undefined, statusCode];\n    })();\n    return Object.assign({}, response, {\n      atomic,\n      // @ts-expect-error: for backwards compatibility\n      chainId: chainId ? (0, _utilsEncodingFromHexJs.hexToNumber)(chainId) : undefined,\n      receipts: receipts?.map(receipt => Object.assign({}, receipt, {\n        blockNumber: (0, _utilsEncodingFromHexJs.hexToBigInt)(receipt.blockNumber),\n        gasUsed: (0, _utilsEncodingFromHexJs.hexToBigInt)(receipt.gasUsed),\n        status: _utilsFormattersTransactionReceiptJs.receiptStatuses[receipt.status]\n      })) ?? [],\n      statusCode,\n      status,\n      version\n    });\n  }\n});","lineCount":105,"map":[[13,2,26,0,"exports"],[13,9,26,0],[13,10,26,0,"getCallsStatus"],[13,24,26,0],[13,27,26,0,"getCallsStatus"],[13,41,26,0],[14,2,94,1],[14,6,94,1,"_babelRuntimeHelpersObjectWithoutPropertiesLoose"],[14,54,94,1],[14,57,94,1,"require"],[14,64,94,1],[14,65,94,1,"_dependencyMap"],[14,79,94,1],[15,2,94,1],[15,6,94,1,"_objectWithoutPropertiesLoose"],[15,35,94,1],[15,38,94,1,"_interopDefault"],[15,53,94,1],[15,54,94,1,"_babelRuntimeHelpersObjectWithoutPropertiesLoose"],[15,102,94,1],[16,2,1,0],[16,6,1,0,"_utilsDataSliceJs"],[16,23,1,0],[16,26,1,0,"require"],[16,33,1,0],[16,34,1,0,"_dependencyMap"],[16,48,1,0],[17,2,2,0],[17,6,2,0,"_utilsDataTrimJs"],[17,22,2,0],[17,25,2,0,"require"],[17,32,2,0],[17,33,2,0,"_dependencyMap"],[17,47,2,0],[18,2,3,0],[18,6,3,0,"_utilsEncodingFromHexJs"],[18,29,3,0],[18,32,3,0,"require"],[18,39,3,0],[18,40,3,0,"_dependencyMap"],[18,54,3,0],[19,2,4,0],[19,6,4,0,"_utilsFormattersTransactionReceiptJs"],[19,42,4,0],[19,45,4,0,"require"],[19,52,4,0],[19,53,4,0,"_dependencyMap"],[19,67,4,0],[20,2,5,0],[20,6,5,0,"_sendCallsJs"],[20,18,5,0],[20,21,5,0,"require"],[20,28,5,0],[20,29,5,0,"_dependencyMap"],[20,43,5,0],[21,2,6,0],[22,0,7,0],[23,0,8,0],[24,0,9,0],[25,0,10,0],[26,0,11,0],[27,0,12,0],[28,0,13,0],[29,0,14,0],[30,0,15,0],[31,0,16,0],[32,0,17,0],[33,0,18,0],[34,0,19,0],[35,0,20,0],[36,0,21,0],[37,0,22,0],[38,0,23,0],[39,0,24,0],[40,0,25,0],[41,2,26,7],[41,17,26,22,"getCallsStatus"],[41,31,26,36,"getCallsStatus"],[41,32,26,37,"client"],[41,38,26,43],[41,40,26,45,"parameters"],[41,50,26,55],[41,52,26,57],[42,4,27,4],[42,19,27,19,"getStatus"],[42,28,27,28,"getStatus"],[42,29,27,29,"id"],[42,31,27,31],[42,33,27,33],[43,6,28,8],[43,12,28,14,"isTransactions"],[43,26,28,28],[43,29,28,31,"id"],[43,31,28,33],[43,32,28,34,"endsWith"],[43,40,28,42],[43,41,28,43,"fallbackMagicIdentifier"],[43,53,28,66],[43,54,28,66,"fallbackMagicIdentifier"],[43,77,28,66],[43,78,28,67,"slice"],[43,83,28,72],[43,84,28,73],[43,85,28,74],[43,86,28,75],[43,87,28,76],[44,6,29,8],[44,10,29,12,"isTransactions"],[44,24,29,26],[44,26,29,28],[45,8,30,12],[45,14,30,18,"chainId"],[45,21,30,25],[45,24,30,28],[45,28,30,28,"trim"],[45,44,30,32],[45,45,30,32,"trim"],[45,49,30,32],[45,51,30,33],[45,55,30,33,"sliceHex"],[45,72,30,41],[45,73,30,41,"sliceHex"],[45,81,30,41],[45,83,30,42,"id"],[45,85,30,44],[45,87,30,46],[45,88,30,47],[45,90,30,49],[45,92,30,51],[45,93,30,52],[45,95,30,54],[45,96,30,55],[45,97,30,56],[46,8,31,12],[46,14,31,18,"hashes"],[46,20,31,24],[46,23,31,27],[46,27,31,27,"sliceHex"],[46,44,31,35],[46,45,31,35,"sliceHex"],[46,53,31,35],[46,55,31,36,"id"],[46,57,31,38],[46,59,31,40],[46,60,31,41],[46,62,31,43],[46,63,31,44],[46,65,31,46],[46,66,31,47],[46,67,32,17,"slice"],[46,72,32,22],[46,73,32,23],[46,74,32,24],[46,75,32,25],[46,76,33,17,"match"],[46,81,33,22],[46,82,33,23],[46,92,33,33],[46,93,33,34],[47,8,34,12],[47,14,34,18,"receipts"],[47,22,34,26],[47,25,34,29],[47,31,34,35,"Promise"],[47,38,34,42],[47,39,34,43,"all"],[47,42,34,46],[47,43,34,47,"hashes"],[47,49,34,53],[47,50,34,54,"map"],[47,53,34,57],[47,54,34,59,"hash"],[47,58,34,63],[47,62,34,68,"fallbackTransactionErrorMagicIdentifier"],[47,74,34,107],[47,75,34,107,"fallbackTransactionErrorMagicIdentifier"],[47,114,34,107],[47,115,34,108,"slice"],[47,120,34,113],[47,121,34,114],[47,122,34,115],[47,123,34,116],[47,128,34,121,"hash"],[47,132,34,125],[47,135,35,18,"client"],[47,141,35,24],[47,142,35,25,"request"],[47,149,35,32],[47,150,35,33],[48,10,36,20,"method"],[48,16,36,26],[48,18,36,28],[48,45,36,55],[49,10,37,20,"params"],[49,16,37,26],[49,18,37,28],[49,19,37,29],[49,24,37,34,"hash"],[49,28,37,38],[49,30,37,40],[50,8,38,16],[50,9,38,17],[50,11,38,19],[51,10,38,21,"dedupe"],[51,16,38,27],[51,18,38,29],[52,8,38,34],[52,9,38,35],[52,10,38,36],[52,13,39,18,"undefined"],[52,22,39,27],[52,23,39,28],[52,24,39,29],[53,8,40,12],[53,14,40,18,"status"],[53,20,40,24],[53,23,40,27],[53,24,40,28],[53,30,40,34],[54,10,41,16],[54,14,41,20,"receipts"],[54,22,41,28],[54,23,41,29,"some"],[54,27,41,33],[54,28,41,35,"r"],[54,29,41,36],[54,33,41,41,"r"],[54,34,41,42],[54,39,41,47],[54,43,41,51],[54,44,41,52],[54,46,42,20],[54,53,42,27],[54,56,42,30],[54,57,42,31],[54,58,42,32],[55,10,43,16],[55,14,43,20,"receipts"],[55,22,43,28],[55,23,43,29,"every"],[55,28,43,34],[55,29,43,36,"r"],[55,30,43,37],[55,34,43,42,"r"],[55,35,43,43],[55,37,43,45,"status"],[55,43,43,51],[55,48,43,56],[55,53,43,61],[55,54,43,62],[55,56,44,20],[55,63,44,27],[55,66,44,30],[55,67,44,31],[55,68,44,32],[56,10,45,16],[56,14,45,20,"receipts"],[56,22,45,28],[56,23,45,29,"every"],[56,28,45,34],[56,29,45,36,"r"],[56,30,45,37],[56,34,45,42,"r"],[56,35,45,43],[56,37,45,45,"status"],[56,43,45,51],[56,48,45,56],[56,53,45,61],[56,54,45,62],[56,56,46,20],[56,63,46,27],[56,66,46,30],[56,67,46,31],[56,68,46,32],[57,10,47,16],[57,17,47,23],[57,20,47,26],[57,21,47,27],[57,22,47,28],[58,8,48,12],[58,9,48,13],[58,11,48,15],[58,12,48,16],[59,8,49,12],[59,15,49,19],[60,10,50,16,"atomic"],[60,16,50,22],[60,18,50,24],[60,23,50,29],[61,10,51,16,"chainId"],[61,17,51,23],[61,19,51,25],[61,23,51,25,"hexToNumber"],[61,46,51,36],[61,47,51,36,"hexToNumber"],[61,58,51,36],[61,60,51,37,"chainId"],[61,67,51,44],[61,68,51,45],[62,10,52,16,"receipts"],[62,18,52,24],[62,20,52,26,"receipts"],[62,28,52,34],[62,29,52,35,"filter"],[62,35,52,41],[62,36,52,42,"Boolean"],[62,43,52,49],[62,44,52,50],[63,10,53,16,"status"],[63,16,53,22],[64,10,54,16,"version"],[64,17,54,23],[64,19,54,25],[65,8,55,12],[65,9,55,13],[66,6,56,8],[67,6,57,8],[67,13,57,15,"client"],[67,19,57,21],[67,20,57,22,"request"],[67,27,57,29],[67,28,57,30],[68,8,58,12,"method"],[68,14,58,18],[68,16,58,20],[68,39,58,43],[69,8,59,12,"params"],[69,14,59,18],[69,16,59,20],[69,17,59,21,"id"],[69,19,59,23],[70,6,60,8],[70,7,60,9],[70,8,60,10],[71,4,61,4],[72,4,62,4],[72,10,62,4,"_await$getStatus"],[72,26,62,4],[72,29,62,82],[72,35,62,88,"getStatus"],[72,44,62,97],[72,45,62,98,"parameters"],[72,55,62,108],[72,56,62,109,"id"],[72,58,62,111],[72,59,62,112],[73,6,62,10],[74,8,62,12,"atomic"],[74,14,62,18],[74,17,62,21],[74,22,62,26],[75,8,62,28,"chainId"],[75,15,62,35],[76,8,62,37,"receipts"],[76,16,62,45],[77,8,62,47,"version"],[77,15,62,54],[77,18,62,57],[78,6,62,78],[78,7,62,79],[78,10,62,79,"_await$getStatus"],[78,26,62,79],[79,6,62,69,"response"],[79,14,62,77],[79,21,62,77,"_objectWithoutPropertiesLoose"],[79,50,62,77],[79,51,62,77,"default"],[79,58,62,77],[79,60,62,77,"_await$getStatus"],[79,76,62,77],[79,78,62,77,"_excluded"],[79,87,62,77],[80,4,63,4],[80,10,63,10],[80,11,63,11,"status"],[80,17,63,17],[80,19,63,19,"statusCode"],[80,29,63,29],[80,30,63,30],[80,33,63,33],[80,34,63,34],[80,40,63,40],[81,6,64,8],[81,12,64,14,"statusCode"],[81,22,64,24],[81,25,64,27,"response"],[81,33,64,35],[81,34,64,36,"status"],[81,40,64,42],[82,6,65,8],[82,10,65,12,"statusCode"],[82,20,65,22],[82,24,65,26],[82,27,65,29],[82,31,65,33,"statusCode"],[82,41,65,43],[82,44,65,46],[82,47,65,49],[82,49,66,12],[82,56,66,19],[82,57,66,20],[82,66,66,29],[82,68,66,31,"statusCode"],[82,78,66,41],[82,79,66,42],[83,6,67,8],[83,10,67,12,"statusCode"],[83,20,67,22],[83,24,67,26],[83,27,67,29],[83,31,67,33,"statusCode"],[83,41,67,43],[83,44,67,46],[83,47,67,49],[83,49,68,12],[83,56,68,19],[83,57,68,20],[83,66,68,29],[83,68,68,31,"statusCode"],[83,78,68,41],[83,79,68,42],[84,6,69,8],[84,10,69,12,"statusCode"],[84,20,69,22],[84,24,69,26],[84,27,69,29],[84,31,69,33,"statusCode"],[84,41,69,43],[84,44,69,46],[84,47,69,49],[84,49,70,12],[84,56,70,19],[84,57,70,20],[84,66,70,29],[84,68,70,31,"statusCode"],[84,78,70,41],[84,79,70,42],[85,6,71,8],[86,6,72,8],[86,10,72,12,"statusCode"],[86,20,72,22],[86,25,72,27],[86,36,72,38],[86,38,73,12],[86,45,73,19],[86,46,73,20],[86,55,73,29],[86,57,73,31],[86,60,73,34],[86,61,73,35],[87,6,74,8],[88,6,75,8],[88,10,75,12,"statusCode"],[88,20,75,22],[88,25,75,27],[88,34,75,36],[88,36,76,12],[88,43,76,19],[88,44,76,20],[88,53,76,29],[88,55,76,31],[88,58,76,34],[88,59,76,35],[89,6,77,8],[89,13,77,15],[89,14,77,16,"undefined"],[89,23,77,25],[89,25,77,27,"statusCode"],[89,35,77,37],[89,36,77,38],[90,4,78,4],[90,5,78,5],[90,7,78,7],[90,8,78,8],[91,4,79,4],[91,11,79,4,"Object"],[91,17,79,4],[91,18,79,4,"assign"],[91,24,79,4],[91,29,80,11,"response"],[91,37,80,19],[92,6,81,8,"atomic"],[92,12,81,14],[93,6,82,8],[94,6,83,8,"chainId"],[94,13,83,15],[94,15,83,17,"chainId"],[94,22,83,24],[94,25,83,27],[94,29,83,27,"hexToNumber"],[94,52,83,38],[94,53,83,38,"hexToNumber"],[94,64,83,38],[94,66,83,39,"chainId"],[94,73,83,46],[94,74,83,47],[94,77,83,50,"undefined"],[94,86,83,59],[95,6,84,8,"receipts"],[95,14,84,16],[95,16,84,18,"receipts"],[95,24,84,26],[95,26,84,28,"map"],[95,29,84,31],[95,30,84,33,"receipt"],[95,37,84,40],[95,41,84,40,"Object"],[95,47,84,40],[95,48,84,40,"assign"],[95,54,84,40],[95,59,85,15,"receipt"],[95,66,85,22],[96,8,86,12,"blockNumber"],[96,19,86,23],[96,21,86,25],[96,25,86,25,"hexToBigInt"],[96,48,86,36],[96,49,86,36,"hexToBigInt"],[96,60,86,36],[96,62,86,37,"receipt"],[96,69,86,44],[96,70,86,45,"blockNumber"],[96,81,86,56],[96,82,86,57],[97,8,87,12,"gasUsed"],[97,15,87,19],[97,17,87,21],[97,21,87,21,"hexToBigInt"],[97,44,87,32],[97,45,87,32,"hexToBigInt"],[97,56,87,32],[97,58,87,33,"receipt"],[97,65,87,40],[97,66,87,41,"gasUsed"],[97,73,87,48],[97,74,87,49],[98,8,88,12,"status"],[98,14,88,18],[98,16,88,20,"receiptStatuses"],[98,52,88,35],[98,53,88,35,"receiptStatuses"],[98,68,88,35],[98,69,88,36,"receipt"],[98,76,88,43],[98,77,88,44,"status"],[98,83,88,50],[99,6,88,51],[99,8,89,10],[99,9,89,11],[99,13,89,15],[99,15,89,17],[100,6,90,8,"statusCode"],[100,16,90,18],[101,6,91,8,"status"],[101,12,91,14],[102,6,92,8,"version"],[103,4,92,15],[104,2,94,0],[105,0,94,1],[105,3]],"functionMap":{"names":["<global>","getCallsStatus","getStatus","hashes.map$argument_0","<anonymous>","receipts.some$argument_0","receipts.every$argument_0","receipts.map$argument_0"],"mappings":"AAA;OCyB;ICC;0DCO;2BDK;4BEC;kCCC,iBD;mCEE,0BF;mCEE,0BF;aFG;KDa;kCGE;KHe;gCMM;UNK;CDK"},"hasCjsExports":false},"type":"js/module"}]}