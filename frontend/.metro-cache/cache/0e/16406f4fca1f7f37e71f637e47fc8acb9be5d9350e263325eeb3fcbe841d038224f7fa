{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.parseSiweMessage = parseSiweMessage;\n  /**\n   * @description Parses EIP-4361 formatted message into message fields object.\n   *\n   * @see https://eips.ethereum.org/EIPS/eip-4361\n   *\n   * @returns EIP-4361 fields object\n   */\n  function parseSiweMessage(message) {\n    const {\n      scheme,\n      statement,\n      ...prefix\n    } = message.match(prefixRegex)?.groups ?? {};\n    const {\n      chainId,\n      expirationTime,\n      issuedAt,\n      notBefore,\n      requestId,\n      ...suffix\n    } = message.match(suffixRegex)?.groups ?? {};\n    const resources = message.split('Resources:')[1]?.split('\\n- ').slice(1);\n    return {\n      ...prefix,\n      ...suffix,\n      ...(chainId ? {\n        chainId: Number(chainId)\n      } : {}),\n      ...(expirationTime ? {\n        expirationTime: new Date(expirationTime)\n      } : {}),\n      ...(issuedAt ? {\n        issuedAt: new Date(issuedAt)\n      } : {}),\n      ...(notBefore ? {\n        notBefore: new Date(notBefore)\n      } : {}),\n      ...(requestId ? {\n        requestId\n      } : {}),\n      ...(resources ? {\n        resources\n      } : {}),\n      ...(scheme ? {\n        scheme\n      } : {}),\n      ...(statement ? {\n        statement\n      } : {})\n    };\n  }\n  // https://regexr.com/80gdj\n  const prefixRegex = /^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\\/\\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\\n)(?<address>0x[a-fA-F0-9]{40})\\n\\n(?:(?<statement>.*)\\n\\n)?/;\n  // https://regexr.com/80gf9\n  const suffixRegex = /(?:URI: (?<uri>.+))\\n(?:Version: (?<version>.+))\\n(?:Chain ID: (?<chainId>\\d+))\\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\\n(?:Issued At: (?<issuedAt>.+))(?:\\nExpiration Time: (?<expirationTime>.+))?(?:\\nNot Before: (?<notBefore>.+))?(?:\\nRequest ID: (?<requestId>.+))?/;\n});","lineCount":63,"map":[[7,2,8,0,"exports"],[7,9,8,0],[7,10,8,0,"parseSiweMessage"],[7,26,8,0],[7,29,8,0,"parseSiweMessage"],[7,45,8,0],[8,2,1,0],[9,0,2,0],[10,0,3,0],[11,0,4,0],[12,0,5,0],[13,0,6,0],[14,0,7,0],[15,2,8,7],[15,11,8,16,"parseSiweMessage"],[15,27,8,32,"parseSiweMessage"],[15,28,8,33,"message"],[15,35,8,40],[15,37,8,42],[16,4,9,4],[16,10,9,10],[17,6,9,12,"scheme"],[17,12,9,18],[18,6,9,20,"statement"],[18,15,9,29],[19,6,9,31],[19,9,9,34,"prefix"],[20,4,9,41],[20,5,9,42],[20,8,9,46,"message"],[20,15,9,53],[20,16,9,54,"match"],[20,21,9,59],[20,22,9,60,"prefixRegex"],[20,33,9,71],[20,34,9,72],[20,36,10,10,"groups"],[20,42,10,16],[20,46,10,20],[20,47,10,21],[20,48,10,23],[21,4,11,4],[21,10,11,10],[22,6,11,12,"chainId"],[22,13,11,19],[23,6,11,21,"expirationTime"],[23,20,11,35],[24,6,11,37,"issuedAt"],[24,14,11,45],[25,6,11,47,"notBefore"],[25,15,11,56],[26,6,11,58,"requestId"],[26,15,11,67],[27,6,11,69],[27,9,11,72,"suffix"],[28,4,11,79],[28,5,11,80],[28,8,11,84,"message"],[28,15,11,91],[28,16,11,92,"match"],[28,21,11,97],[28,22,11,98,"suffixRegex"],[28,33,11,109],[28,34,11,110],[28,36,11,112,"groups"],[28,42,11,118],[28,46,11,122],[28,47,11,123],[28,48,11,125],[29,4,12,4],[29,10,12,10,"resources"],[29,19,12,19],[29,22,12,22,"message"],[29,29,12,29],[29,30,12,30,"split"],[29,35,12,35],[29,36,12,36],[29,48,12,48],[29,49,12,49],[29,50,12,50],[29,51,12,51],[29,52,12,52],[29,54,12,54,"split"],[29,59,12,59],[29,60,12,60],[29,66,12,66],[29,67,12,67],[29,68,12,68,"slice"],[29,73,12,73],[29,74,12,74],[29,75,12,75],[29,76,12,76],[30,4,13,4],[30,11,13,11],[31,6,14,8],[31,9,14,11,"prefix"],[31,15,14,17],[32,6,15,8],[32,9,15,11,"suffix"],[32,15,15,17],[33,6,16,8],[33,10,16,12,"chainId"],[33,17,16,19],[33,20,16,22],[34,8,16,24,"chainId"],[34,15,16,31],[34,17,16,33,"Number"],[34,23,16,39],[34,24,16,40,"chainId"],[34,31,16,47],[35,6,16,49],[35,7,16,50],[35,10,16,53],[35,11,16,54],[35,12,16,55],[35,13,16,56],[36,6,17,8],[36,10,17,12,"expirationTime"],[36,24,17,26],[36,27,17,29],[37,8,17,31,"expirationTime"],[37,22,17,45],[37,24,17,47],[37,28,17,51,"Date"],[37,32,17,55],[37,33,17,56,"expirationTime"],[37,47,17,70],[38,6,17,72],[38,7,17,73],[38,10,17,76],[38,11,17,77],[38,12,17,78],[38,13,17,79],[39,6,18,8],[39,10,18,12,"issuedAt"],[39,18,18,20],[39,21,18,23],[40,8,18,25,"issuedAt"],[40,16,18,33],[40,18,18,35],[40,22,18,39,"Date"],[40,26,18,43],[40,27,18,44,"issuedAt"],[40,35,18,52],[41,6,18,54],[41,7,18,55],[41,10,18,58],[41,11,18,59],[41,12,18,60],[41,13,18,61],[42,6,19,8],[42,10,19,12,"notBefore"],[42,19,19,21],[42,22,19,24],[43,8,19,26,"notBefore"],[43,17,19,35],[43,19,19,37],[43,23,19,41,"Date"],[43,27,19,45],[43,28,19,46,"notBefore"],[43,37,19,55],[44,6,19,57],[44,7,19,58],[44,10,19,61],[44,11,19,62],[44,12,19,63],[44,13,19,64],[45,6,20,8],[45,10,20,12,"requestId"],[45,19,20,21],[45,22,20,24],[46,8,20,26,"requestId"],[47,6,20,36],[47,7,20,37],[47,10,20,40],[47,11,20,41],[47,12,20,42],[47,13,20,43],[48,6,21,8],[48,10,21,12,"resources"],[48,19,21,21],[48,22,21,24],[49,8,21,26,"resources"],[50,6,21,36],[50,7,21,37],[50,10,21,40],[50,11,21,41],[50,12,21,42],[50,13,21,43],[51,6,22,8],[51,10,22,12,"scheme"],[51,16,22,18],[51,19,22,21],[52,8,22,23,"scheme"],[53,6,22,30],[53,7,22,31],[53,10,22,34],[53,11,22,35],[53,12,22,36],[53,13,22,37],[54,6,23,8],[54,10,23,12,"statement"],[54,19,23,21],[54,22,23,24],[55,8,23,26,"statement"],[56,6,23,36],[56,7,23,37],[56,10,23,40],[56,11,23,41],[56,12,23,42],[57,4,24,4],[57,5,24,5],[58,2,25,0],[59,2,26,0],[60,2,27,0],[60,8,27,6,"prefixRegex"],[60,19,27,17],[60,22,27,20],[60,224,27,222],[61,2,28,0],[62,2,29,0],[62,8,29,6,"suffixRegex"],[62,19,29,17],[62,22,29,20],[62,285,29,283],[63,0,29,284],[63,3]],"functionMap":{"names":["<global>","parseSiweMessage"],"mappings":"AAA;OCO;CDiB"},"hasCjsExports":false},"type":"js/module"}]}