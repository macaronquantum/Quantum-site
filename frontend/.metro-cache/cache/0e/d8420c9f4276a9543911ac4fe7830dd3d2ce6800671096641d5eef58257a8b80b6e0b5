{"dependencies":[{"name":"./error","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":72,"index":72}}],"key":"QHycRqnFtfUmvzFfqax6IEFlq9M=","exportNames":["*"],"imports":1}},{"name":"./constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":73},"end":{"line":2,"column":59,"index":132}}],"key":"waDaw5D7vDr2hRFu0z1BqRCTzP4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.payloadId = payloadId;\n  exports.getBigIntRpcId = getBigIntRpcId;\n  exports.formatJsonRpcRequest = formatJsonRpcRequest;\n  exports.formatJsonRpcResult = formatJsonRpcResult;\n  exports.formatJsonRpcError = formatJsonRpcError;\n  exports.formatErrorMessage = formatErrorMessage;\n  var _error = require(_dependencyMap[0], \"./error\");\n  var _constants = require(_dependencyMap[1], \"./constants\");\n  function payloadId(entropy = 3) {\n    const date = Date.now() * Math.pow(10, entropy);\n    const extra = Math.floor(Math.random() * Math.pow(10, entropy));\n    return date + extra;\n  }\n  function getBigIntRpcId(entropy = 6) {\n    return BigInt(payloadId(entropy));\n  }\n  function formatJsonRpcRequest(method, params, id) {\n    return {\n      id: id || payloadId(),\n      jsonrpc: \"2.0\",\n      method,\n      params\n    };\n  }\n  function formatJsonRpcResult(id, result) {\n    return {\n      id,\n      jsonrpc: \"2.0\",\n      result\n    };\n  }\n  function formatJsonRpcError(id, error, data) {\n    return {\n      id,\n      jsonrpc: \"2.0\",\n      error: formatErrorMessage(error, data)\n    };\n  }\n  function formatErrorMessage(error, data) {\n    if (typeof error === \"undefined\") {\n      return (0, _error.getError)(_constants.INTERNAL_ERROR);\n    }\n    if (typeof error === \"string\") {\n      error = Object.assign(Object.assign({}, (0, _error.getError)(_constants.SERVER_ERROR)), {\n        message: error\n      });\n    }\n    if (typeof data !== \"undefined\") {\n      error.data = data;\n    }\n    if ((0, _error.isReservedErrorCode)(error.code)) {\n      error = (0, _error.getErrorByCode)(error.code);\n    }\n    return error;\n  }\n});","lineCount":62,"map":[[7,2,3,0,"exports"],[7,9,3,0],[7,10,3,0,"payloadId"],[7,19,3,0],[7,22,3,0,"payloadId"],[7,31,3,0],[8,2,8,0,"exports"],[8,9,8,0],[8,10,8,0,"getBigIntRpcId"],[8,24,8,0],[8,27,8,0,"getBigIntRpcId"],[8,41,8,0],[9,2,11,0,"exports"],[9,9,11,0],[9,10,11,0,"formatJsonRpcRequest"],[9,30,11,0],[9,33,11,0,"formatJsonRpcRequest"],[9,53,11,0],[10,2,19,0,"exports"],[10,9,19,0],[10,10,19,0,"formatJsonRpcResult"],[10,29,19,0],[10,32,19,0,"formatJsonRpcResult"],[10,51,19,0],[11,2,26,0,"exports"],[11,9,26,0],[11,10,26,0,"formatJsonRpcError"],[11,28,26,0],[11,31,26,0,"formatJsonRpcError"],[11,49,26,0],[12,2,33,0,"exports"],[12,9,33,0],[12,10,33,0,"formatErrorMessage"],[12,28,33,0],[12,31,33,0,"formatErrorMessage"],[12,49,33,0],[13,2,1,0],[13,6,1,0,"_error"],[13,12,1,0],[13,15,1,0,"require"],[13,22,1,0],[13,23,1,0,"_dependencyMap"],[13,37,1,0],[14,2,2,0],[14,6,2,0,"_constants"],[14,16,2,0],[14,19,2,0,"require"],[14,26,2,0],[14,27,2,0,"_dependencyMap"],[14,41,2,0],[15,2,3,7],[15,11,3,16,"payloadId"],[15,20,3,25,"payloadId"],[15,21,3,26,"entropy"],[15,28,3,33],[15,31,3,36],[15,32,3,37],[15,34,3,39],[16,4,4,4],[16,10,4,10,"date"],[16,14,4,14],[16,17,4,17,"Date"],[16,21,4,21],[16,22,4,22,"now"],[16,25,4,25],[16,26,4,26],[16,27,4,27],[16,30,4,30,"Math"],[16,34,4,34],[16,35,4,35,"pow"],[16,38,4,38],[16,39,4,39],[16,41,4,41],[16,43,4,43,"entropy"],[16,50,4,50],[16,51,4,51],[17,4,5,4],[17,10,5,10,"extra"],[17,15,5,15],[17,18,5,18,"Math"],[17,22,5,22],[17,23,5,23,"floor"],[17,28,5,28],[17,29,5,29,"Math"],[17,33,5,33],[17,34,5,34,"random"],[17,40,5,40],[17,41,5,41],[17,42,5,42],[17,45,5,45,"Math"],[17,49,5,49],[17,50,5,50,"pow"],[17,53,5,53],[17,54,5,54],[17,56,5,56],[17,58,5,58,"entropy"],[17,65,5,65],[17,66,5,66],[17,67,5,67],[18,4,6,4],[18,11,6,11,"date"],[18,15,6,15],[18,18,6,18,"extra"],[18,23,6,23],[19,2,7,0],[20,2,8,7],[20,11,8,16,"getBigIntRpcId"],[20,25,8,30,"getBigIntRpcId"],[20,26,8,31,"entropy"],[20,33,8,38],[20,36,8,41],[20,37,8,42],[20,39,8,44],[21,4,9,4],[21,11,9,11,"BigInt"],[21,17,9,17],[21,18,9,18,"payloadId"],[21,27,9,27],[21,28,9,28,"entropy"],[21,35,9,35],[21,36,9,36],[21,37,9,37],[22,2,10,0],[23,2,11,7],[23,11,11,16,"formatJsonRpcRequest"],[23,31,11,36,"formatJsonRpcRequest"],[23,32,11,37,"method"],[23,38,11,43],[23,40,11,45,"params"],[23,46,11,51],[23,48,11,53,"id"],[23,50,11,55],[23,52,11,57],[24,4,12,4],[24,11,12,11],[25,6,13,8,"id"],[25,8,13,10],[25,10,13,12,"id"],[25,12,13,14],[25,16,13,18,"payloadId"],[25,25,13,27],[25,26,13,28],[25,27,13,29],[26,6,14,8,"jsonrpc"],[26,13,14,15],[26,15,14,17],[26,20,14,22],[27,6,15,8,"method"],[27,12,15,14],[28,6,16,8,"params"],[29,4,17,4],[29,5,17,5],[30,2,18,0],[31,2,19,7],[31,11,19,16,"formatJsonRpcResult"],[31,30,19,35,"formatJsonRpcResult"],[31,31,19,36,"id"],[31,33,19,38],[31,35,19,40,"result"],[31,41,19,46],[31,43,19,48],[32,4,20,4],[32,11,20,11],[33,6,21,8,"id"],[33,8,21,10],[34,6,22,8,"jsonrpc"],[34,13,22,15],[34,15,22,17],[34,20,22,22],[35,6,23,8,"result"],[36,4,24,4],[36,5,24,5],[37,2,25,0],[38,2,26,7],[38,11,26,16,"formatJsonRpcError"],[38,29,26,34,"formatJsonRpcError"],[38,30,26,35,"id"],[38,32,26,37],[38,34,26,39,"error"],[38,39,26,44],[38,41,26,46,"data"],[38,45,26,50],[38,47,26,52],[39,4,27,4],[39,11,27,11],[40,6,28,8,"id"],[40,8,28,10],[41,6,29,8,"jsonrpc"],[41,13,29,15],[41,15,29,17],[41,20,29,22],[42,6,30,8,"error"],[42,11,30,13],[42,13,30,15,"formatErrorMessage"],[42,31,30,33],[42,32,30,34,"error"],[42,37,30,39],[42,39,30,41,"data"],[42,43,30,45],[43,4,31,4],[43,5,31,5],[44,2,32,0],[45,2,33,7],[45,11,33,16,"formatErrorMessage"],[45,29,33,34,"formatErrorMessage"],[45,30,33,35,"error"],[45,35,33,40],[45,37,33,42,"data"],[45,41,33,46],[45,43,33,48],[46,4,34,4],[46,8,34,8],[46,15,34,15,"error"],[46,20,34,20],[46,25,34,25],[46,36,34,36],[46,38,34,38],[47,6,35,8],[47,13,35,15],[47,17,35,15,"getError"],[47,23,35,23],[47,24,35,23,"getError"],[47,32,35,23],[47,34,35,24,"INTERNAL_ERROR"],[47,44,35,38],[47,45,35,38,"INTERNAL_ERROR"],[47,59,35,38],[47,60,35,39],[48,4,36,4],[49,4,37,4],[49,8,37,8],[49,15,37,15,"error"],[49,20,37,20],[49,25,37,25],[49,33,37,33],[49,35,37,35],[50,6,38,8,"error"],[50,11,38,13],[50,14,38,16,"Object"],[50,20,38,22],[50,21,38,23,"assign"],[50,27,38,29],[50,28,38,30,"Object"],[50,34,38,36],[50,35,38,37,"assign"],[50,41,38,43],[50,42,38,44],[50,43,38,45],[50,44,38,46],[50,46,38,48],[50,50,38,48,"getError"],[50,56,38,56],[50,57,38,56,"getError"],[50,65,38,56],[50,67,38,57,"SERVER_ERROR"],[50,77,38,69],[50,78,38,69,"SERVER_ERROR"],[50,90,38,69],[50,91,38,70],[50,92,38,71],[50,94,38,73],[51,8,38,75,"message"],[51,15,38,82],[51,17,38,84,"error"],[52,6,38,90],[52,7,38,91],[52,8,38,92],[53,4,39,4],[54,4,40,4],[54,8,40,8],[54,15,40,15,"data"],[54,19,40,19],[54,24,40,24],[54,35,40,35],[54,37,40,37],[55,6,41,8,"error"],[55,11,41,13],[55,12,41,14,"data"],[55,16,41,18],[55,19,41,21,"data"],[55,23,41,25],[56,4,42,4],[57,4,43,4],[57,8,43,8],[57,12,43,8,"isReservedErrorCode"],[57,18,43,27],[57,19,43,27,"isReservedErrorCode"],[57,38,43,27],[57,40,43,28,"error"],[57,45,43,33],[57,46,43,34,"code"],[57,50,43,38],[57,51,43,39],[57,53,43,41],[58,6,44,8,"error"],[58,11,44,13],[58,14,44,16],[58,18,44,16,"getErrorByCode"],[58,24,44,30],[58,25,44,30,"getErrorByCode"],[58,39,44,30],[58,41,44,31,"error"],[58,46,44,36],[58,47,44,37,"code"],[58,51,44,41],[58,52,44,42],[59,4,45,4],[60,4,46,4],[60,11,46,11,"error"],[60,16,46,16],[61,2,47,0],[62,0,47,1],[62,3]],"functionMap":{"names":["<global>","payloadId","getBigIntRpcId","formatJsonRpcRequest","formatJsonRpcResult","formatJsonRpcError","formatErrorMessage"],"mappings":"AAA;OCE;CDI;OEC;CFE;OGC;CHO;OIC;CJM;OKC;CLM;OMC;CNc"},"hasCjsExports":false},"type":"js/module"}]}