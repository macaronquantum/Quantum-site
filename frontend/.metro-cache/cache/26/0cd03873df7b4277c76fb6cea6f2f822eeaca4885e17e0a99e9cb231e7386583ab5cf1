{"dependencies":[{"name":"./error","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":16,"index":265},"end":{"line":4,"column":34,"index":283}}],"key":"ABL1W5lBwNEqpjG9q/KVa7squiQ=","exportNames":["*"],"imports":1}},{"name":"./constants","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":20,"index":305},"end":{"line":5,"column":42,"index":327}}],"key":"3z43bJyk/UB4EKjDCOXTFak09do=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.formatErrorMessage = exports.formatJsonRpcError = exports.formatJsonRpcResult = exports.formatJsonRpcRequest = exports.getBigIntRpcId = exports.payloadId = void 0;\n  const error_1 = require(_dependencyMap[0], \"./error\");\n  const constants_1 = require(_dependencyMap[1], \"./constants\");\n  function payloadId(entropy = 3) {\n    const date = Date.now() * Math.pow(10, entropy);\n    const extra = Math.floor(Math.random() * Math.pow(10, entropy));\n    return date + extra;\n  }\n  exports.payloadId = payloadId;\n  function getBigIntRpcId(entropy = 6) {\n    return BigInt(payloadId(entropy));\n  }\n  exports.getBigIntRpcId = getBigIntRpcId;\n  function formatJsonRpcRequest(method, params, id) {\n    return {\n      id: id || payloadId(),\n      jsonrpc: \"2.0\",\n      method,\n      params\n    };\n  }\n  exports.formatJsonRpcRequest = formatJsonRpcRequest;\n  function formatJsonRpcResult(id, result) {\n    return {\n      id,\n      jsonrpc: \"2.0\",\n      result\n    };\n  }\n  exports.formatJsonRpcResult = formatJsonRpcResult;\n  function formatJsonRpcError(id, error, data) {\n    return {\n      id,\n      jsonrpc: \"2.0\",\n      error: formatErrorMessage(error, data)\n    };\n  }\n  exports.formatJsonRpcError = formatJsonRpcError;\n  function formatErrorMessage(error, data) {\n    if (typeof error === \"undefined\") {\n      return (0, error_1.getError)(constants_1.INTERNAL_ERROR);\n    }\n    if (typeof error === \"string\") {\n      error = Object.assign(Object.assign({}, (0, error_1.getError)(constants_1.SERVER_ERROR)), {\n        message: error\n      });\n    }\n    if (typeof data !== \"undefined\") {\n      error.data = data;\n    }\n    if ((0, error_1.isReservedErrorCode)(error.code)) {\n      error = (0, error_1.getErrorByCode)(error.code);\n    }\n    return error;\n  }\n  exports.formatErrorMessage = formatErrorMessage;\n});","lineCount":63,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"formatErrorMessage"],[7,28,3,26],[7,31,3,29,"exports"],[7,38,3,36],[7,39,3,37,"formatJsonRpcError"],[7,57,3,55],[7,60,3,58,"exports"],[7,67,3,65],[7,68,3,66,"formatJsonRpcResult"],[7,87,3,85],[7,90,3,88,"exports"],[7,97,3,95],[7,98,3,96,"formatJsonRpcRequest"],[7,118,3,116],[7,121,3,119,"exports"],[7,128,3,126],[7,129,3,127,"getBigIntRpcId"],[7,143,3,141],[7,146,3,144,"exports"],[7,153,3,151],[7,154,3,152,"payloadId"],[7,163,3,161],[7,166,3,164],[7,171,3,169],[7,172,3,170],[8,2,4,0],[8,8,4,6,"error_1"],[8,15,4,13],[8,18,4,16,"require"],[8,25,4,23],[8,26,4,23,"_dependencyMap"],[8,40,4,23],[8,54,4,33],[8,55,4,34],[9,2,5,0],[9,8,5,6,"constants_1"],[9,19,5,17],[9,22,5,20,"require"],[9,29,5,27],[9,30,5,27,"_dependencyMap"],[9,44,5,27],[9,62,5,41],[9,63,5,42],[10,2,6,0],[10,11,6,9,"payloadId"],[10,20,6,18,"payloadId"],[10,21,6,19,"entropy"],[10,28,6,26],[10,31,6,29],[10,32,6,30],[10,34,6,32],[11,4,7,4],[11,10,7,10,"date"],[11,14,7,14],[11,17,7,17,"Date"],[11,21,7,21],[11,22,7,22,"now"],[11,25,7,25],[11,26,7,26],[11,27,7,27],[11,30,7,30,"Math"],[11,34,7,34],[11,35,7,35,"pow"],[11,38,7,38],[11,39,7,39],[11,41,7,41],[11,43,7,43,"entropy"],[11,50,7,50],[11,51,7,51],[12,4,8,4],[12,10,8,10,"extra"],[12,15,8,15],[12,18,8,18,"Math"],[12,22,8,22],[12,23,8,23,"floor"],[12,28,8,28],[12,29,8,29,"Math"],[12,33,8,33],[12,34,8,34,"random"],[12,40,8,40],[12,41,8,41],[12,42,8,42],[12,45,8,45,"Math"],[12,49,8,49],[12,50,8,50,"pow"],[12,53,8,53],[12,54,8,54],[12,56,8,56],[12,58,8,58,"entropy"],[12,65,8,65],[12,66,8,66],[12,67,8,67],[13,4,9,4],[13,11,9,11,"date"],[13,15,9,15],[13,18,9,18,"extra"],[13,23,9,23],[14,2,10,0],[15,2,11,0,"exports"],[15,9,11,7],[15,10,11,8,"payloadId"],[15,19,11,17],[15,22,11,20,"payloadId"],[15,31,11,29],[16,2,12,0],[16,11,12,9,"getBigIntRpcId"],[16,25,12,23,"getBigIntRpcId"],[16,26,12,24,"entropy"],[16,33,12,31],[16,36,12,34],[16,37,12,35],[16,39,12,37],[17,4,13,4],[17,11,13,11,"BigInt"],[17,17,13,17],[17,18,13,18,"payloadId"],[17,27,13,27],[17,28,13,28,"entropy"],[17,35,13,35],[17,36,13,36],[17,37,13,37],[18,2,14,0],[19,2,15,0,"exports"],[19,9,15,7],[19,10,15,8,"getBigIntRpcId"],[19,24,15,22],[19,27,15,25,"getBigIntRpcId"],[19,41,15,39],[20,2,16,0],[20,11,16,9,"formatJsonRpcRequest"],[20,31,16,29,"formatJsonRpcRequest"],[20,32,16,30,"method"],[20,38,16,36],[20,40,16,38,"params"],[20,46,16,44],[20,48,16,46,"id"],[20,50,16,48],[20,52,16,50],[21,4,17,4],[21,11,17,11],[22,6,18,8,"id"],[22,8,18,10],[22,10,18,12,"id"],[22,12,18,14],[22,16,18,18,"payloadId"],[22,25,18,27],[22,26,18,28],[22,27,18,29],[23,6,19,8,"jsonrpc"],[23,13,19,15],[23,15,19,17],[23,20,19,22],[24,6,20,8,"method"],[24,12,20,14],[25,6,21,8,"params"],[26,4,22,4],[26,5,22,5],[27,2,23,0],[28,2,24,0,"exports"],[28,9,24,7],[28,10,24,8,"formatJsonRpcRequest"],[28,30,24,28],[28,33,24,31,"formatJsonRpcRequest"],[28,53,24,51],[29,2,25,0],[29,11,25,9,"formatJsonRpcResult"],[29,30,25,28,"formatJsonRpcResult"],[29,31,25,29,"id"],[29,33,25,31],[29,35,25,33,"result"],[29,41,25,39],[29,43,25,41],[30,4,26,4],[30,11,26,11],[31,6,27,8,"id"],[31,8,27,10],[32,6,28,8,"jsonrpc"],[32,13,28,15],[32,15,28,17],[32,20,28,22],[33,6,29,8,"result"],[34,4,30,4],[34,5,30,5],[35,2,31,0],[36,2,32,0,"exports"],[36,9,32,7],[36,10,32,8,"formatJsonRpcResult"],[36,29,32,27],[36,32,32,30,"formatJsonRpcResult"],[36,51,32,49],[37,2,33,0],[37,11,33,9,"formatJsonRpcError"],[37,29,33,27,"formatJsonRpcError"],[37,30,33,28,"id"],[37,32,33,30],[37,34,33,32,"error"],[37,39,33,37],[37,41,33,39,"data"],[37,45,33,43],[37,47,33,45],[38,4,34,4],[38,11,34,11],[39,6,35,8,"id"],[39,8,35,10],[40,6,36,8,"jsonrpc"],[40,13,36,15],[40,15,36,17],[40,20,36,22],[41,6,37,8,"error"],[41,11,37,13],[41,13,37,15,"formatErrorMessage"],[41,31,37,33],[41,32,37,34,"error"],[41,37,37,39],[41,39,37,41,"data"],[41,43,37,45],[42,4,38,4],[42,5,38,5],[43,2,39,0],[44,2,40,0,"exports"],[44,9,40,7],[44,10,40,8,"formatJsonRpcError"],[44,28,40,26],[44,31,40,29,"formatJsonRpcError"],[44,49,40,47],[45,2,41,0],[45,11,41,9,"formatErrorMessage"],[45,29,41,27,"formatErrorMessage"],[45,30,41,28,"error"],[45,35,41,33],[45,37,41,35,"data"],[45,41,41,39],[45,43,41,41],[46,4,42,4],[46,8,42,8],[46,15,42,15,"error"],[46,20,42,20],[46,25,42,25],[46,36,42,36],[46,38,42,38],[47,6,43,8],[47,13,43,15],[47,14,43,16],[47,15,43,17],[47,17,43,19,"error_1"],[47,24,43,26],[47,25,43,27,"getError"],[47,33,43,35],[47,35,43,37,"constants_1"],[47,46,43,48],[47,47,43,49,"INTERNAL_ERROR"],[47,61,43,63],[47,62,43,64],[48,4,44,4],[49,4,45,4],[49,8,45,8],[49,15,45,15,"error"],[49,20,45,20],[49,25,45,25],[49,33,45,33],[49,35,45,35],[50,6,46,8,"error"],[50,11,46,13],[50,14,46,16,"Object"],[50,20,46,22],[50,21,46,23,"assign"],[50,27,46,29],[50,28,46,30,"Object"],[50,34,46,36],[50,35,46,37,"assign"],[50,41,46,43],[50,42,46,44],[50,43,46,45],[50,44,46,46],[50,46,46,48],[50,47,46,49],[50,48,46,50],[50,50,46,52,"error_1"],[50,57,46,59],[50,58,46,60,"getError"],[50,66,46,68],[50,68,46,70,"constants_1"],[50,79,46,81],[50,80,46,82,"SERVER_ERROR"],[50,92,46,94],[50,93,46,95],[50,94,46,96],[50,96,46,98],[51,8,46,100,"message"],[51,15,46,107],[51,17,46,109,"error"],[52,6,46,115],[52,7,46,116],[52,8,46,117],[53,4,47,4],[54,4,48,4],[54,8,48,8],[54,15,48,15,"data"],[54,19,48,19],[54,24,48,24],[54,35,48,35],[54,37,48,37],[55,6,49,8,"error"],[55,11,49,13],[55,12,49,14,"data"],[55,16,49,18],[55,19,49,21,"data"],[55,23,49,25],[56,4,50,4],[57,4,51,4],[57,8,51,8],[57,9,51,9],[57,10,51,10],[57,12,51,12,"error_1"],[57,19,51,19],[57,20,51,20,"isReservedErrorCode"],[57,39,51,39],[57,41,51,41,"error"],[57,46,51,46],[57,47,51,47,"code"],[57,51,51,51],[57,52,51,52],[57,54,51,54],[58,6,52,8,"error"],[58,11,52,13],[58,14,52,16],[58,15,52,17],[58,16,52,18],[58,18,52,20,"error_1"],[58,25,52,27],[58,26,52,28,"getErrorByCode"],[58,40,52,42],[58,42,52,44,"error"],[58,47,52,49],[58,48,52,50,"code"],[58,52,52,54],[58,53,52,55],[59,4,53,4],[60,4,54,4],[60,11,54,11,"error"],[60,16,54,16],[61,2,55,0],[62,2,56,0,"exports"],[62,9,56,7],[62,10,56,8,"formatErrorMessage"],[62,28,56,26],[62,31,56,29,"formatErrorMessage"],[62,49,56,47],[63,0,56,48],[63,3]],"functionMap":{"names":["<global>","payloadId","getBigIntRpcId","formatJsonRpcRequest","formatJsonRpcResult","formatJsonRpcError","formatErrorMessage"],"mappings":"AAA;ACK;CDI;AEE;CFE;AGE;CHO;AIE;CJM;AKE;CLM;AME;CNc"},"hasCjsExports":true},"type":"js/module"}]}