{"dependencies":[{"name":"@babel/runtime/helpers/objectWithoutPropertiesLoose","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"HFkXuFcBAqfzGtqyPj8g62MKT0M=","exportNames":["*"],"imports":1}},{"name":"../../accounts/utils/parseAccount.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"/2Bvi5qErxbS6yBB5FzUPODHkYU=","exportNames":["*"],"imports":1}},{"name":"../../utils/abi/decodeFunctionResult.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":70},"end":{"line":2,"column":80,"index":150}}],"key":"kTyTrS0/fV5/YN79eeV1YCQApII=","exportNames":["*"],"imports":1}},{"name":"../../utils/abi/encodeFunctionData.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":151},"end":{"line":3,"column":76,"index":227}}],"key":"OuSySdoC0ezpBCAwaIZplowPkvk=","exportNames":["*"],"imports":1}},{"name":"../../utils/errors/getContractError.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":228},"end":{"line":4,"column":75,"index":303}}],"key":"2ZyOj/YYaqeS/JV5t/CpFmCfhcY=","exportNames":["*"],"imports":1}},{"name":"../../utils/getAction.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":304},"end":{"line":5,"column":53,"index":357}}],"key":"vt4scbNyA2t/tyY0oQJI6AZPJS4=","exportNames":["*"],"imports":1}},{"name":"./call.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":358},"end":{"line":6,"column":33,"index":391}}],"key":"aSmxMv/g2RJz56PpxDSq10PV1HA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  const _excluded = [\"abi\", \"address\", \"args\", \"dataSuffix\", \"functionName\"];\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.simulateContract = simulateContract;\n  var _babelRuntimeHelpersObjectWithoutPropertiesLoose = require(_dependencyMap[0], \"@babel/runtime/helpers/objectWithoutPropertiesLoose\");\n  var _objectWithoutPropertiesLoose = _interopDefault(_babelRuntimeHelpersObjectWithoutPropertiesLoose);\n  var _accountsUtilsParseAccountJs = require(_dependencyMap[1], \"../../accounts/utils/parseAccount.js\");\n  var _utilsAbiDecodeFunctionResultJs = require(_dependencyMap[2], \"../../utils/abi/decodeFunctionResult.js\");\n  var _utilsAbiEncodeFunctionDataJs = require(_dependencyMap[3], \"../../utils/abi/encodeFunctionData.js\");\n  var _utilsErrorsGetContractErrorJs = require(_dependencyMap[4], \"../../utils/errors/getContractError.js\");\n  var _utilsGetActionJs = require(_dependencyMap[5], \"../../utils/getAction.js\");\n  var _callJs = require(_dependencyMap[6], \"./call.js\");\n  /**\n   * Simulates/validates a contract interaction. This is useful for retrieving **return data** and **revert reasons** of contract write functions.\n   *\n   * - Docs: https://viem.sh/docs/contract/simulateContract\n   * - Examples: https://stackblitz.com/github/wevm/viem/tree/main/examples/contracts_writing-to-contracts\n   *\n   * This function does not require gas to execute and _**does not**_ change the state of the blockchain. It is almost identical to [`readContract`](https://viem.sh/docs/contract/readContract), but also supports contract write functions.\n   *\n   * Internally, uses a [Public Client](https://viem.sh/docs/clients/public) to call the [`call` action](https://viem.sh/docs/actions/public/call) with [ABI-encoded `data`](https://viem.sh/docs/contract/encodeFunctionData).\n   *\n   * @param client - Client to use\n   * @param parameters - {@link SimulateContractParameters}\n   * @returns The simulation result and write request. {@link SimulateContractReturnType}\n   *\n   * @example\n   * import { createPublicClient, http } from 'viem'\n   * import { mainnet } from 'viem/chains'\n   * import { simulateContract } from 'viem/contract'\n   *\n   * const client = createPublicClient({\n   *   chain: mainnet,\n   *   transport: http(),\n   * })\n   * const result = await simulateContract(client, {\n   *   address: '0xFBA3912Ca04dd458c843e2EE08967fC04f3579c2',\n   *   abi: parseAbi(['function mint(uint32) view returns (uint32)']),\n   *   functionName: 'mint',\n   *   args: ['69420'],\n   *   account: '0xA0Cf798816D4b9b9866b5330EEa46a18382f251e',\n   * })\n   */\n  async function simulateContract(client, parameters) {\n    const {\n        abi,\n        address,\n        args,\n        dataSuffix,\n        functionName\n      } = parameters,\n      callRequest = (0, _objectWithoutPropertiesLoose.default)(parameters, _excluded);\n    const account = callRequest.account ? (0, _accountsUtilsParseAccountJs.parseAccount)(callRequest.account) : client.account;\n    const calldata = (0, _utilsAbiEncodeFunctionDataJs.encodeFunctionData)({\n      abi,\n      args,\n      functionName\n    });\n    try {\n      const {\n        data\n      } = await (0, _utilsGetActionJs.getAction)(client, _callJs.call, 'call')(Object.assign({\n        batch: false,\n        data: `${calldata}${dataSuffix ? dataSuffix.replace('0x', '') : ''}`,\n        to: address\n      }, callRequest, {\n        account\n      }));\n      const result = (0, _utilsAbiDecodeFunctionResultJs.decodeFunctionResult)({\n        abi,\n        args,\n        functionName,\n        data: data || '0x'\n      });\n      const minimizedAbi = abi.filter(abiItem => 'name' in abiItem && abiItem.name === parameters.functionName);\n      return {\n        result,\n        request: Object.assign({\n          abi: minimizedAbi,\n          address,\n          args,\n          dataSuffix,\n          functionName\n        }, callRequest, {\n          account\n        })\n      };\n    } catch (error) {\n      throw (0, _utilsErrorsGetContractErrorJs.getContractError)(error, {\n        abi,\n        address,\n        args,\n        docsPath: '/docs/contract/simulateContract',\n        functionName,\n        sender: account?.address\n      });\n    }\n  }\n});","lineCount":108,"map":[[13,2,38,0,"exports"],[13,9,38,0],[13,10,38,0,"simulateContract"],[13,26,38,0],[13,29,38,0,"simulateContract"],[13,45,38,0],[14,2,82,1],[14,6,82,1,"_babelRuntimeHelpersObjectWithoutPropertiesLoose"],[14,54,82,1],[14,57,82,1,"require"],[14,64,82,1],[14,65,82,1,"_dependencyMap"],[14,79,82,1],[15,2,82,1],[15,6,82,1,"_objectWithoutPropertiesLoose"],[15,35,82,1],[15,38,82,1,"_interopDefault"],[15,53,82,1],[15,54,82,1,"_babelRuntimeHelpersObjectWithoutPropertiesLoose"],[15,102,82,1],[16,2,1,0],[16,6,1,0,"_accountsUtilsParseAccountJs"],[16,34,1,0],[16,37,1,0,"require"],[16,44,1,0],[16,45,1,0,"_dependencyMap"],[16,59,1,0],[17,2,2,0],[17,6,2,0,"_utilsAbiDecodeFunctionResultJs"],[17,37,2,0],[17,40,2,0,"require"],[17,47,2,0],[17,48,2,0,"_dependencyMap"],[17,62,2,0],[18,2,3,0],[18,6,3,0,"_utilsAbiEncodeFunctionDataJs"],[18,35,3,0],[18,38,3,0,"require"],[18,45,3,0],[18,46,3,0,"_dependencyMap"],[18,60,3,0],[19,2,4,0],[19,6,4,0,"_utilsErrorsGetContractErrorJs"],[19,36,4,0],[19,39,4,0,"require"],[19,46,4,0],[19,47,4,0,"_dependencyMap"],[19,61,4,0],[20,2,5,0],[20,6,5,0,"_utilsGetActionJs"],[20,23,5,0],[20,26,5,0,"require"],[20,33,5,0],[20,34,5,0,"_dependencyMap"],[20,48,5,0],[21,2,6,0],[21,6,6,0,"_callJs"],[21,13,6,0],[21,16,6,0,"require"],[21,23,6,0],[21,24,6,0,"_dependencyMap"],[21,38,6,0],[22,2,7,0],[23,0,8,0],[24,0,9,0],[25,0,10,0],[26,0,11,0],[27,0,12,0],[28,0,13,0],[29,0,14,0],[30,0,15,0],[31,0,16,0],[32,0,17,0],[33,0,18,0],[34,0,19,0],[35,0,20,0],[36,0,21,0],[37,0,22,0],[38,0,23,0],[39,0,24,0],[40,0,25,0],[41,0,26,0],[42,0,27,0],[43,0,28,0],[44,0,29,0],[45,0,30,0],[46,0,31,0],[47,0,32,0],[48,0,33,0],[49,0,34,0],[50,0,35,0],[51,0,36,0],[52,0,37,0],[53,2,38,7],[53,17,38,22,"simulateContract"],[53,33,38,38,"simulateContract"],[53,34,38,39,"client"],[53,40,38,45],[53,42,38,47,"parameters"],[53,52,38,57],[53,54,38,59],[54,4,39,4],[54,10,39,10],[55,8,39,12,"abi"],[55,11,39,15],[56,8,39,17,"address"],[56,15,39,24],[57,8,39,26,"args"],[57,12,39,30],[58,8,39,32,"dataSuffix"],[58,18,39,42],[59,8,39,44,"functionName"],[60,6,39,73],[60,7,39,74],[60,10,39,77,"parameters"],[60,20,39,87],[61,6,39,61,"callRequest"],[61,17,39,72],[61,24,39,72,"_objectWithoutPropertiesLoose"],[61,53,39,72],[61,54,39,72,"default"],[61,61,39,72],[61,63,39,77,"parameters"],[61,73,39,87],[61,75,39,87,"_excluded"],[61,84,39,87],[62,4,40,4],[62,10,40,10,"account"],[62,17,40,17],[62,20,40,20,"callRequest"],[62,31,40,31],[62,32,40,32,"account"],[62,39,40,39],[62,42,41,10],[62,46,41,10,"parseAccount"],[62,74,41,22],[62,75,41,22,"parseAccount"],[62,87,41,22],[62,89,41,23,"callRequest"],[62,100,41,34],[62,101,41,35,"account"],[62,108,41,42],[62,109,41,43],[62,112,42,10,"client"],[62,118,42,16],[62,119,42,17,"account"],[62,126,42,24],[63,4,43,4],[63,10,43,10,"calldata"],[63,18,43,18],[63,21,43,21],[63,25,43,21,"encodeFunctionData"],[63,54,43,39],[63,55,43,39,"encodeFunctionData"],[63,73,43,39],[63,75,43,40],[64,6,43,42,"abi"],[64,9,43,45],[65,6,43,47,"args"],[65,10,43,51],[66,6,43,53,"functionName"],[67,4,43,66],[67,5,43,67],[67,6,43,68],[68,4,44,4],[68,8,44,8],[69,6,45,8],[69,12,45,14],[70,8,45,16,"data"],[71,6,45,21],[71,7,45,22],[71,10,45,25],[71,16,45,31],[71,20,45,31,"getAction"],[71,37,45,40],[71,38,45,40,"getAction"],[71,47,45,40],[71,49,45,41,"client"],[71,55,45,47],[71,57,45,49,"call"],[71,64,45,53],[71,65,45,53,"call"],[71,69,45,53],[71,71,45,55],[71,77,45,61],[71,78,45,62],[71,79,45,62,"Object"],[71,85,45,62],[71,86,45,62,"assign"],[71,92,45,62],[72,8,46,12,"batch"],[72,13,46,17],[72,15,46,19],[72,20,46,24],[73,8,47,12,"data"],[73,12,47,16],[73,14,47,18],[73,17,47,21,"calldata"],[73,25,47,29],[73,28,47,32,"dataSuffix"],[73,38,47,42],[73,41,47,45,"dataSuffix"],[73,51,47,55],[73,52,47,56,"replace"],[73,59,47,63],[73,60,47,64],[73,64,47,68],[73,66,47,70],[73,68,47,72],[73,69,47,73],[73,72,47,76],[73,74,47,78],[73,76,47,80],[74,8,48,12,"to"],[74,10,48,14],[74,12,48,16,"address"],[75,6,48,23],[75,9,49,15,"callRequest"],[75,20,49,26],[76,8,50,12,"account"],[77,6,50,19],[77,8,51,9],[77,9,51,10],[78,6,52,8],[78,12,52,14,"result"],[78,18,52,20],[78,21,52,23],[78,25,52,23,"decodeFunctionResult"],[78,56,52,43],[78,57,52,43,"decodeFunctionResult"],[78,77,52,43],[78,79,52,44],[79,8,53,12,"abi"],[79,11,53,15],[80,8,54,12,"args"],[80,12,54,16],[81,8,55,12,"functionName"],[81,20,55,24],[82,8,56,12,"data"],[82,12,56,16],[82,14,56,18,"data"],[82,18,56,22],[82,22,56,26],[83,6,57,8],[83,7,57,9],[83,8,57,10],[84,6,58,8],[84,12,58,14,"minimizedAbi"],[84,24,58,26],[84,27,58,29,"abi"],[84,30,58,32],[84,31,58,33,"filter"],[84,37,58,39],[84,38,58,41,"abiItem"],[84,45,58,48],[84,49,58,53],[84,55,58,59],[84,59,58,63,"abiItem"],[84,66,58,70],[84,70,58,74,"abiItem"],[84,77,58,81],[84,78,58,82,"name"],[84,82,58,86],[84,87,58,91,"parameters"],[84,97,58,101],[84,98,58,102,"functionName"],[84,110,58,114],[84,111,58,115],[85,6,59,8],[85,13,59,15],[86,8,60,12,"result"],[86,14,60,18],[87,8,61,12,"request"],[87,15,61,19],[87,17,61,19,"Object"],[87,23,61,19],[87,24,61,19,"assign"],[87,30,61,19],[88,10,62,16,"abi"],[88,13,62,19],[88,15,62,21,"minimizedAbi"],[88,27,62,33],[89,10,63,16,"address"],[89,17,63,23],[90,10,64,16,"args"],[90,14,64,20],[91,10,65,16,"dataSuffix"],[91,20,65,26],[92,10,66,16,"functionName"],[93,8,66,28],[93,11,67,19,"callRequest"],[93,22,67,30],[94,10,68,16,"account"],[95,8,68,23],[96,6,70,8],[96,7,70,9],[97,4,71,4],[97,5,71,5],[97,6,72,4],[97,13,72,11,"error"],[97,18,72,16],[97,20,72,18],[98,6,73,8],[98,12,73,14],[98,16,73,14,"getContractError"],[98,46,73,30],[98,47,73,30,"getContractError"],[98,63,73,30],[98,65,73,31,"error"],[98,70,73,36],[98,72,73,38],[99,8,74,12,"abi"],[99,11,74,15],[100,8,75,12,"address"],[100,15,75,19],[101,8,76,12,"args"],[101,12,76,16],[102,8,77,12,"docsPath"],[102,16,77,20],[102,18,77,22],[102,51,77,55],[103,8,78,12,"functionName"],[103,20,78,24],[104,8,79,12,"sender"],[104,14,79,18],[104,16,79,20,"account"],[104,23,79,27],[104,25,79,29,"address"],[105,6,80,8],[105,7,80,9],[105,8,80,10],[106,4,81,4],[107,2,82,0],[108,0,82,1],[108,3]],"functionMap":{"names":["<global>","simulateContract","abi.filter$argument_0"],"mappings":"AAA;OCqC;wCCoB,0ED;CDwB"},"hasCjsExports":false},"type":"js/module"}]}