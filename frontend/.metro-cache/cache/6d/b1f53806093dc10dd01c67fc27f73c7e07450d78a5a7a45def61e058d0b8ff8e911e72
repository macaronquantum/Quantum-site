{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"addCustomErrorDeserializer\", {\n    enumerable: true,\n    get: function () {\n      return addCustomErrorDeserializer;\n    }\n  });\n  Object.defineProperty(exports, \"createCustomErrorClass\", {\n    enumerable: true,\n    get: function () {\n      return createCustomErrorClass;\n    }\n  });\n  Object.defineProperty(exports, \"deserializeError\", {\n    enumerable: true,\n    get: function () {\n      return deserializeError;\n    }\n  });\n  Object.defineProperty(exports, \"serializeError\", {\n    enumerable: true,\n    get: function () {\n      return serializeError;\n    }\n  });\n  /* eslint-disable no-continue */\n  /* eslint-disable no-unused-vars */\n  /* eslint-disable no-param-reassign */\n  /* eslint-disable no-prototype-builtins */\n  const errorClasses = {};\n  const deserializers = {};\n  const addCustomErrorDeserializer = (name, deserializer) => {\n    deserializers[name] = deserializer;\n  };\n  const createCustomErrorClass = name => {\n    class CustomErrorClass extends Error {\n      constructor(message, fields, options) {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        super(message || name, options);\n        // Set the prototype explicitly. See https://github.com/Microsoft/TypeScript/wiki/Breaking-Changes#extending-built-ins-like-error-array-and-map-may-no-longer-work\n        Object.setPrototypeOf(this, CustomErrorClass.prototype);\n        this.name = name;\n        if (fields) {\n          for (const k in fields) {\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-ignore\n            this[k] = fields[k];\n          }\n        }\n        if (options && isObject(options) && \"cause\" in options && !this.cause) {\n          // .cause was specified but the superconstructor\n          // did not create an instance property.\n          const cause = options.cause;\n          this.cause = cause;\n          if (\"stack\" in cause) {\n            this.stack = this.stack + \"\\nCAUSE: \" + cause.stack;\n          }\n        }\n      }\n    }\n    errorClasses[name] = CustomErrorClass;\n    return CustomErrorClass;\n  };\n  function isObject(value) {\n    return typeof value === \"object\";\n  }\n  // inspired from https://github.com/programble/errio/blob/master/index.js\n  const deserializeError = object => {\n    if (object && typeof object === \"object\") {\n      try {\n        if (typeof object.message === \"string\") {\n          const msg = JSON.parse(object.message);\n          if (msg.message && msg.name) {\n            object = msg;\n          }\n        }\n      } catch {\n        // nothing\n      }\n      let error;\n      if (typeof object.name === \"string\") {\n        const {\n          name\n        } = object;\n        const des = deserializers[name];\n        if (des) {\n          error = des(object);\n        } else {\n          let constructor = name === \"Error\" ? Error : errorClasses[name];\n          if (!constructor) {\n            console.warn(\"deserializing an unknown class '\" + name + \"'\");\n            constructor = createCustomErrorClass(name);\n          }\n          error = Object.create(constructor.prototype);\n          try {\n            for (const prop in object) {\n              if (object.hasOwnProperty(prop)) {\n                error[prop] = object[prop];\n              }\n            }\n          } catch {\n            // sometimes setting a property can fail (e.g. .name)\n          }\n        }\n      } else {\n        if (typeof object.message === \"string\") {\n          error = new Error(object.message);\n        }\n      }\n      if (error && !error.stack && Error.captureStackTrace) {\n        Error.captureStackTrace(error, deserializeError);\n      }\n      return error;\n    }\n    return new Error(String(object));\n  };\n  // inspired from https://github.com/sindresorhus/serialize-error/blob/master/index.js\n  const serializeError = value => {\n    if (!value) return value;\n    if (typeof value === \"object\") {\n      return destroyCircular(value, []);\n    }\n    if (typeof value === \"function\") {\n      return `[Function: ${value.name || \"anonymous\"}]`;\n    }\n    return value;\n  };\n  // https://www.npmjs.com/package/destroy-circular\n  function destroyCircular(from, seen) {\n    const to = {};\n    seen.push(from);\n    for (const key of Object.keys(from)) {\n      const value = from[key];\n      if (typeof value === \"function\") {\n        continue;\n      }\n      if (!value || typeof value !== \"object\") {\n        to[key] = value;\n        continue;\n      }\n      if (seen.indexOf(from[key]) === -1) {\n        to[key] = destroyCircular(from[key], seen.slice(0));\n        continue;\n      }\n      to[key] = \"[Circular]\";\n    }\n    if (typeof from.name === \"string\") {\n      to.name = from.name;\n    }\n    if (typeof from.message === \"string\") {\n      to.message = from.message;\n    }\n    if (typeof from.stack === \"string\") {\n      to.stack = from.stack;\n    }\n    return to;\n  }\n});","lineCount":164,"map":[[7,2,7,0,"Object"],[7,8,7,0],[7,9,7,0,"defineProperty"],[7,23,7,0],[7,24,7,0,"exports"],[7,31,7,0],[8,4,7,0,"enumerable"],[8,14,7,0],[9,4,7,0,"get"],[9,7,7,0],[9,18,7,0,"get"],[9,19,7,0],[10,6,7,0],[10,13,7,0,"addCustomErrorDeserializer"],[10,39,7,0],[11,4,7,0],[12,2,7,0],[13,2,10,0,"Object"],[13,8,10,0],[13,9,10,0,"defineProperty"],[13,23,10,0],[13,24,10,0,"exports"],[13,31,10,0],[14,4,10,0,"enumerable"],[14,14,10,0],[15,4,10,0,"get"],[15,7,10,0],[15,18,10,0,"get"],[15,19,10,0],[16,6,10,0],[16,13,10,0,"createCustomErrorClass"],[16,35,10,0],[17,4,10,0],[18,2,10,0],[19,2,45,0,"Object"],[19,8,45,0],[19,9,45,0,"defineProperty"],[19,23,45,0],[19,24,45,0,"exports"],[19,31,45,0],[20,4,45,0,"enumerable"],[20,14,45,0],[21,4,45,0,"get"],[21,7,45,0],[21,18,45,0,"get"],[21,19,45,0],[22,6,45,0],[22,13,45,0,"deserializeError"],[22,29,45,0],[23,4,45,0],[24,2,45,0],[25,2,97,0,"Object"],[25,8,97,0],[25,9,97,0,"defineProperty"],[25,23,97,0],[25,24,97,0,"exports"],[25,31,97,0],[26,4,97,0,"enumerable"],[26,14,97,0],[27,4,97,0,"get"],[27,7,97,0],[27,18,97,0,"get"],[27,19,97,0],[28,6,97,0],[28,13,97,0,"serializeError"],[28,27,97,0],[29,4,97,0],[30,2,97,0],[31,2,1,0],[32,2,2,0],[33,2,3,0],[34,2,4,0],[35,2,5,0],[35,8,5,6,"errorClasses"],[35,20,5,18],[35,23,5,21],[35,24,5,22],[35,25,5,23],[36,2,6,0],[36,8,6,6,"deserializers"],[36,21,6,19],[36,24,6,22],[36,25,6,23],[36,26,6,24],[37,2,7,7],[37,8,7,13,"addCustomErrorDeserializer"],[37,34,7,39],[37,37,7,42,"addCustomErrorDeserializer"],[37,38,7,43,"name"],[37,42,7,47],[37,44,7,49,"deserializer"],[37,56,7,61],[37,61,7,66],[38,4,8,4,"deserializers"],[38,17,8,17],[38,18,8,18,"name"],[38,22,8,22],[38,23,8,23],[38,26,8,26,"deserializer"],[38,38,8,38],[39,2,9,0],[39,3,9,1],[40,2,10,7],[40,8,10,13,"createCustomErrorClass"],[40,30,10,35],[40,33,10,39,"name"],[40,37,10,43],[40,41,10,48],[41,4,11,4],[41,10,11,10,"CustomErrorClass"],[41,26,11,26],[41,35,11,35,"Error"],[41,40,11,40],[41,41,11,41],[42,6,13,8,"constructor"],[42,17,13,19,"constructor"],[42,18,13,20,"message"],[42,25,13,27],[42,27,13,29,"fields"],[42,33,13,35],[42,35,13,37,"options"],[42,42,13,44],[42,44,13,46],[43,8,14,12],[44,8,15,12],[45,8,16,12],[45,13,16,17],[45,14,16,18,"message"],[45,21,16,25],[45,25,16,29,"name"],[45,29,16,33],[45,31,16,35,"options"],[45,38,16,42],[45,39,16,43],[46,8,17,12],[47,8,18,12,"Object"],[47,14,18,18],[47,15,18,19,"setPrototypeOf"],[47,29,18,33],[47,30,18,34],[47,34,18,38],[47,36,18,40,"CustomErrorClass"],[47,52,18,56],[47,53,18,57,"prototype"],[47,62,18,66],[47,63,18,67],[48,8,19,12],[48,12,19,16],[48,13,19,17,"name"],[48,17,19,21],[48,20,19,24,"name"],[48,24,19,28],[49,8,20,12],[49,12,20,16,"fields"],[49,18,20,22],[49,20,20,24],[50,10,21,16],[50,15,21,21],[50,21,21,27,"k"],[50,22,21,28],[50,26,21,32,"fields"],[50,32,21,38],[50,34,21,40],[51,12,22,20],[52,12,23,20],[53,12,24,20],[53,16,24,24],[53,17,24,25,"k"],[53,18,24,26],[53,19,24,27],[53,22,24,30,"fields"],[53,28,24,36],[53,29,24,37,"k"],[53,30,24,38],[53,31,24,39],[54,10,25,16],[55,8,26,12],[56,8,27,12],[56,12,27,16,"options"],[56,19,27,23],[56,23,27,27,"isObject"],[56,31,27,35],[56,32,27,36,"options"],[56,39,27,43],[56,40,27,44],[56,44,27,48],[56,51,27,55],[56,55,27,59,"options"],[56,62,27,66],[56,66,27,70],[56,67,27,71],[56,71,27,75],[56,72,27,76,"cause"],[56,77,27,81],[56,79,27,83],[57,10,28,16],[58,10,29,16],[59,10,30,16],[59,16,30,22,"cause"],[59,21,30,27],[59,24,30,30,"options"],[59,31,30,37],[59,32,30,38,"cause"],[59,37,30,43],[60,10,31,16],[60,14,31,20],[60,15,31,21,"cause"],[60,20,31,26],[60,23,31,29,"cause"],[60,28,31,34],[61,10,32,16],[61,14,32,20],[61,21,32,27],[61,25,32,31,"cause"],[61,30,32,36],[61,32,32,38],[62,12,33,20],[62,16,33,24],[62,17,33,25,"stack"],[62,22,33,30],[62,25,33,33],[62,29,33,37],[62,30,33,38,"stack"],[62,35,33,43],[62,38,33,46],[62,49,33,57],[62,52,33,60,"cause"],[62,57,33,65],[62,58,33,66,"stack"],[62,63,33,71],[63,10,34,16],[64,8,35,12],[65,6,36,8],[66,4,37,4],[67,4,38,4,"errorClasses"],[67,16,38,16],[67,17,38,17,"name"],[67,21,38,21],[67,22,38,22],[67,25,38,25,"CustomErrorClass"],[67,41,38,41],[68,4,39,4],[68,11,39,11,"CustomErrorClass"],[68,27,39,27],[69,2,40,0],[69,3,40,1],[70,2,41,0],[70,11,41,9,"isObject"],[70,19,41,17,"isObject"],[70,20,41,18,"value"],[70,25,41,23],[70,27,41,25],[71,4,42,4],[71,11,42,11],[71,18,42,18,"value"],[71,23,42,23],[71,28,42,28],[71,36,42,36],[72,2,43,0],[73,2,44,0],[74,2,45,7],[74,8,45,13,"deserializeError"],[74,24,45,29],[74,27,45,33,"object"],[74,33,45,39],[74,37,45,44],[75,4,46,4],[75,8,46,8,"object"],[75,14,46,14],[75,18,46,18],[75,25,46,25,"object"],[75,31,46,31],[75,36,46,36],[75,44,46,44],[75,46,46,46],[76,6,47,8],[76,10,47,12],[77,8,48,12],[77,12,48,16],[77,19,48,23,"object"],[77,25,48,29],[77,26,48,30,"message"],[77,33,48,37],[77,38,48,42],[77,46,48,50],[77,48,48,52],[78,10,49,16],[78,16,49,22,"msg"],[78,19,49,25],[78,22,49,28,"JSON"],[78,26,49,32],[78,27,49,33,"parse"],[78,32,49,38],[78,33,49,39,"object"],[78,39,49,45],[78,40,49,46,"message"],[78,47,49,53],[78,48,49,54],[79,10,50,16],[79,14,50,20,"msg"],[79,17,50,23],[79,18,50,24,"message"],[79,25,50,31],[79,29,50,35,"msg"],[79,32,50,38],[79,33,50,39,"name"],[79,37,50,43],[79,39,50,45],[80,12,51,20,"object"],[80,18,51,26],[80,21,51,29,"msg"],[80,24,51,32],[81,10,52,16],[82,8,53,12],[83,6,54,8],[83,7,54,9],[83,8,55,8],[83,14,55,14],[84,8,56,12],[85,6,56,12],[86,6,58,8],[86,10,58,12,"error"],[86,15,58,17],[87,6,59,8],[87,10,59,12],[87,17,59,19,"object"],[87,23,59,25],[87,24,59,26,"name"],[87,28,59,30],[87,33,59,35],[87,41,59,43],[87,43,59,45],[88,8,60,12],[88,14,60,18],[89,10,60,20,"name"],[90,8,60,25],[90,9,60,26],[90,12,60,29,"object"],[90,18,60,35],[91,8,61,12],[91,14,61,18,"des"],[91,17,61,21],[91,20,61,24,"deserializers"],[91,33,61,37],[91,34,61,38,"name"],[91,38,61,42],[91,39,61,43],[92,8,62,12],[92,12,62,16,"des"],[92,15,62,19],[92,17,62,21],[93,10,63,16,"error"],[93,15,63,21],[93,18,63,24,"des"],[93,21,63,27],[93,22,63,28,"object"],[93,28,63,34],[93,29,63,35],[94,8,64,12],[94,9,64,13],[94,15,65,17],[95,10,66,16],[95,14,66,20,"constructor"],[95,25,66,31],[95,28,66,34,"name"],[95,32,66,38],[95,37,66,43],[95,44,66,50],[95,47,66,53,"Error"],[95,52,66,58],[95,55,66,61,"errorClasses"],[95,67,66,73],[95,68,66,74,"name"],[95,72,66,78],[95,73,66,79],[96,10,67,16],[96,14,67,20],[96,15,67,21,"constructor"],[96,26,67,32],[96,28,67,34],[97,12,68,20,"console"],[97,19,68,27],[97,20,68,28,"warn"],[97,24,68,32],[97,25,68,33],[97,59,68,67],[97,62,68,70,"name"],[97,66,68,74],[97,69,68,77],[97,72,68,80],[97,73,68,81],[98,12,69,20,"constructor"],[98,23,69,31],[98,26,69,34,"createCustomErrorClass"],[98,48,69,56],[98,49,69,57,"name"],[98,53,69,61],[98,54,69,62],[99,10,70,16],[100,10,71,16,"error"],[100,15,71,21],[100,18,71,24,"Object"],[100,24,71,30],[100,25,71,31,"create"],[100,31,71,37],[100,32,71,38,"constructor"],[100,43,71,49],[100,44,71,50,"prototype"],[100,53,71,59],[100,54,71,60],[101,10,72,16],[101,14,72,20],[102,12,73,20],[102,17,73,25],[102,23,73,31,"prop"],[102,27,73,35],[102,31,73,39,"object"],[102,37,73,45],[102,39,73,47],[103,14,74,24],[103,18,74,28,"object"],[103,24,74,34],[103,25,74,35,"hasOwnProperty"],[103,39,74,49],[103,40,74,50,"prop"],[103,44,74,54],[103,45,74,55],[103,47,74,57],[104,16,75,28,"error"],[104,21,75,33],[104,22,75,34,"prop"],[104,26,75,38],[104,27,75,39],[104,30,75,42,"object"],[104,36,75,48],[104,37,75,49,"prop"],[104,41,75,53],[104,42,75,54],[105,14,76,24],[106,12,77,20],[107,10,78,16],[107,11,78,17],[107,12,79,16],[107,18,79,22],[108,12,80,20],[109,10,80,20],[110,8,82,12],[111,6,83,8],[111,7,83,9],[111,13,84,13],[112,8,85,12],[112,12,85,16],[112,19,85,23,"object"],[112,25,85,29],[112,26,85,30,"message"],[112,33,85,37],[112,38,85,42],[112,46,85,50],[112,48,85,52],[113,10,86,16,"error"],[113,15,86,21],[113,18,86,24],[113,22,86,28,"Error"],[113,27,86,33],[113,28,86,34,"object"],[113,34,86,40],[113,35,86,41,"message"],[113,42,86,48],[113,43,86,49],[114,8,87,12],[115,6,88,8],[116,6,89,8],[116,10,89,12,"error"],[116,15,89,17],[116,19,89,21],[116,20,89,22,"error"],[116,25,89,27],[116,26,89,28,"stack"],[116,31,89,33],[116,35,89,37,"Error"],[116,40,89,42],[116,41,89,43,"captureStackTrace"],[116,58,89,60],[116,60,89,62],[117,8,90,12,"Error"],[117,13,90,17],[117,14,90,18,"captureStackTrace"],[117,31,90,35],[117,32,90,36,"error"],[117,37,90,41],[117,39,90,43,"deserializeError"],[117,55,90,59],[117,56,90,60],[118,6,91,8],[119,6,92,8],[119,13,92,15,"error"],[119,18,92,20],[120,4,93,4],[121,4,94,4],[121,11,94,11],[121,15,94,15,"Error"],[121,20,94,20],[121,21,94,21,"String"],[121,27,94,27],[121,28,94,28,"object"],[121,34,94,34],[121,35,94,35],[121,36,94,36],[122,2,95,0],[122,3,95,1],[123,2,96,0],[124,2,97,7],[124,8,97,13,"serializeError"],[124,22,97,27],[124,25,97,31,"value"],[124,30,97,36],[124,34,97,41],[125,4,98,4],[125,8,98,8],[125,9,98,9,"value"],[125,14,98,14],[125,16,99,8],[125,23,99,15,"value"],[125,28,99,20],[126,4,100,4],[126,8,100,8],[126,15,100,15,"value"],[126,20,100,20],[126,25,100,25],[126,33,100,33],[126,35,100,35],[127,6,101,8],[127,13,101,15,"destroyCircular"],[127,28,101,30],[127,29,101,31,"value"],[127,34,101,36],[127,36,101,38],[127,38,101,40],[127,39,101,41],[128,4,102,4],[129,4,103,4],[129,8,103,8],[129,15,103,15,"value"],[129,20,103,20],[129,25,103,25],[129,35,103,35],[129,37,103,37],[130,6,104,8],[130,13,104,15],[130,27,104,29,"value"],[130,32,104,34],[130,33,104,35,"name"],[130,37,104,39],[130,41,104,43],[130,52,104,54],[130,55,104,57],[131,4,105,4],[132,4,106,4],[132,11,106,11,"value"],[132,16,106,16],[133,2,107,0],[133,3,107,1],[134,2,108,0],[135,2,109,0],[135,11,109,9,"destroyCircular"],[135,26,109,24,"destroyCircular"],[135,27,109,25,"from"],[135,31,109,29],[135,33,109,31,"seen"],[135,37,109,35],[135,39,109,37],[136,4,110,4],[136,10,110,10,"to"],[136,12,110,12],[136,15,110,15],[136,16,110,16],[136,17,110,17],[137,4,111,4,"seen"],[137,8,111,8],[137,9,111,9,"push"],[137,13,111,13],[137,14,111,14,"from"],[137,18,111,18],[137,19,111,19],[138,4,112,4],[138,9,112,9],[138,15,112,15,"key"],[138,18,112,18],[138,22,112,22,"Object"],[138,28,112,28],[138,29,112,29,"keys"],[138,33,112,33],[138,34,112,34,"from"],[138,38,112,38],[138,39,112,39],[138,41,112,41],[139,6,113,8],[139,12,113,14,"value"],[139,17,113,19],[139,20,113,22,"from"],[139,24,113,26],[139,25,113,27,"key"],[139,28,113,30],[139,29,113,31],[140,6,114,8],[140,10,114,12],[140,17,114,19,"value"],[140,22,114,24],[140,27,114,29],[140,37,114,39],[140,39,114,41],[141,8,115,12],[142,6,116,8],[143,6,117,8],[143,10,117,12],[143,11,117,13,"value"],[143,16,117,18],[143,20,117,22],[143,27,117,29,"value"],[143,32,117,34],[143,37,117,39],[143,45,117,47],[143,47,117,49],[144,8,118,12,"to"],[144,10,118,14],[144,11,118,15,"key"],[144,14,118,18],[144,15,118,19],[144,18,118,22,"value"],[144,23,118,27],[145,8,119,12],[146,6,120,8],[147,6,121,8],[147,10,121,12,"seen"],[147,14,121,16],[147,15,121,17,"indexOf"],[147,22,121,24],[147,23,121,25,"from"],[147,27,121,29],[147,28,121,30,"key"],[147,31,121,33],[147,32,121,34],[147,33,121,35],[147,38,121,40],[147,39,121,41],[147,40,121,42],[147,42,121,44],[148,8,122,12,"to"],[148,10,122,14],[148,11,122,15,"key"],[148,14,122,18],[148,15,122,19],[148,18,122,22,"destroyCircular"],[148,33,122,37],[148,34,122,38,"from"],[148,38,122,42],[148,39,122,43,"key"],[148,42,122,46],[148,43,122,47],[148,45,122,49,"seen"],[148,49,122,53],[148,50,122,54,"slice"],[148,55,122,59],[148,56,122,60],[148,57,122,61],[148,58,122,62],[148,59,122,63],[149,8,123,12],[150,6,124,8],[151,6,125,8,"to"],[151,8,125,10],[151,9,125,11,"key"],[151,12,125,14],[151,13,125,15],[151,16,125,18],[151,28,125,30],[152,4,126,4],[153,4,127,4],[153,8,127,8],[153,15,127,15,"from"],[153,19,127,19],[153,20,127,20,"name"],[153,24,127,24],[153,29,127,29],[153,37,127,37],[153,39,127,39],[154,6,128,8,"to"],[154,8,128,10],[154,9,128,11,"name"],[154,13,128,15],[154,16,128,18,"from"],[154,20,128,22],[154,21,128,23,"name"],[154,25,128,27],[155,4,129,4],[156,4,130,4],[156,8,130,8],[156,15,130,15,"from"],[156,19,130,19],[156,20,130,20,"message"],[156,27,130,27],[156,32,130,32],[156,40,130,40],[156,42,130,42],[157,6,131,8,"to"],[157,8,131,10],[157,9,131,11,"message"],[157,16,131,18],[157,19,131,21,"from"],[157,23,131,25],[157,24,131,26,"message"],[157,31,131,33],[158,4,132,4],[159,4,133,4],[159,8,133,8],[159,15,133,15,"from"],[159,19,133,19],[159,20,133,20,"stack"],[159,25,133,25],[159,30,133,30],[159,38,133,38],[159,40,133,40],[160,6,134,8,"to"],[160,8,134,10],[160,9,134,11,"stack"],[160,14,134,16],[160,17,134,19,"from"],[160,21,134,23],[160,22,134,24,"stack"],[160,27,134,29],[161,4,135,4],[162,4,136,4],[162,11,136,11,"to"],[162,13,136,13],[163,2,137,0],[164,0,137,1],[164,3]],"functionMap":{"names":["<global>","addCustomErrorDeserializer","createCustomErrorClass","CustomErrorClass","CustomErrorClass#constructor","isObject","deserializeError","serializeError","destroyCircular"],"mappings":"AAA;0CCM;CDE;sCEC;ICC;QCE;SDuB;KDC;CFG;AKC;CLE;gCME;CNkD;8BOE;CPU;AQE;CR4B"},"hasCjsExports":false},"type":"js/module"}]}