{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  /*\n   *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.\n   *\n   *  Use of this source code is governed by a BSD-style license\n   *  that can be found in the LICENSE file in the root of the source\n   *  tree.\n   */\n  /* eslint-env node */\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.shimGetDisplayMedia = shimGetDisplayMedia;\n  function shimGetDisplayMedia(window, getSourceId) {\n    if (window.navigator.mediaDevices && 'getDisplayMedia' in window.navigator.mediaDevices) {\n      return;\n    }\n    if (!window.navigator.mediaDevices) {\n      return;\n    }\n    // getSourceId is a function that returns a promise resolving with\n    // the sourceId of the screen/window/tab to be shared.\n    if (typeof getSourceId !== 'function') {\n      console.error('shimGetDisplayMedia: getSourceId argument is not ' + 'a function');\n      return;\n    }\n    window.navigator.mediaDevices.getDisplayMedia = function getDisplayMedia(constraints) {\n      return getSourceId(constraints).then(function (sourceId) {\n        var widthSpecified = constraints.video && constraints.video.width;\n        var heightSpecified = constraints.video && constraints.video.height;\n        var frameRateSpecified = constraints.video && constraints.video.frameRate;\n        constraints.video = {\n          mandatory: {\n            chromeMediaSource: 'desktop',\n            chromeMediaSourceId: sourceId,\n            maxFrameRate: frameRateSpecified || 3\n          }\n        };\n        if (widthSpecified) {\n          constraints.video.mandatory.maxWidth = widthSpecified;\n        }\n        if (heightSpecified) {\n          constraints.video.mandatory.maxHeight = heightSpecified;\n        }\n        return window.navigator.mediaDevices.getUserMedia(constraints);\n      });\n    };\n  }\n});","lineCount":51,"map":[[2,2,1,0],[3,0,2,0],[4,0,3,0],[5,0,4,0],[6,0,5,0],[7,0,6,0],[8,0,7,0],[9,2,8,0],[10,2,9,0],[10,14,9,12],[12,2,11,0,"Object"],[12,8,11,6],[12,9,11,7,"defineProperty"],[12,23,11,21],[12,24,11,22,"exports"],[12,31,11,29],[12,33,11,31],[12,45,11,43],[12,47,11,45],[13,4,12,2,"value"],[13,9,12,7],[13,11,12,9],[14,2,13,0],[14,3,13,1],[14,4,13,2],[15,2,14,0,"exports"],[15,9,14,7],[15,10,14,8,"shimGetDisplayMedia"],[15,29,14,27],[15,32,14,30,"shimGetDisplayMedia"],[15,51,14,49],[16,2,15,0],[16,11,15,9,"shimGetDisplayMedia"],[16,30,15,28,"shimGetDisplayMedia"],[16,31,15,29,"window"],[16,37,15,35],[16,39,15,37,"getSourceId"],[16,50,15,48],[16,52,15,50],[17,4,16,2],[17,8,16,6,"window"],[17,14,16,12],[17,15,16,13,"navigator"],[17,24,16,22],[17,25,16,23,"mediaDevices"],[17,37,16,35],[17,41,16,39],[17,58,16,56],[17,62,16,60,"window"],[17,68,16,66],[17,69,16,67,"navigator"],[17,78,16,76],[17,79,16,77,"mediaDevices"],[17,91,16,89],[17,93,16,91],[18,6,17,4],[19,4,18,2],[20,4,19,2],[20,8,19,6],[20,9,19,7,"window"],[20,15,19,13],[20,16,19,14,"navigator"],[20,25,19,23],[20,26,19,24,"mediaDevices"],[20,38,19,36],[20,40,19,38],[21,6,20,4],[22,4,21,2],[23,4,22,2],[24,4,23,2],[25,4,24,2],[25,8,24,6],[25,15,24,13,"getSourceId"],[25,26,24,24],[25,31,24,29],[25,41,24,39],[25,43,24,41],[26,6,25,4,"console"],[26,13,25,11],[26,14,25,12,"error"],[26,19,25,17],[26,20,25,18],[26,71,25,69],[26,74,25,72],[26,86,25,84],[26,87,25,85],[27,6,26,4],[28,4,27,2],[29,4,28,2,"window"],[29,10,28,8],[29,11,28,9,"navigator"],[29,20,28,18],[29,21,28,19,"mediaDevices"],[29,33,28,31],[29,34,28,32,"getDisplayMedia"],[29,49,28,47],[29,52,28,50],[29,61,28,59,"getDisplayMedia"],[29,76,28,74,"getDisplayMedia"],[29,77,28,75,"constraints"],[29,88,28,86],[29,90,28,88],[30,6,29,4],[30,13,29,11,"getSourceId"],[30,24,29,22],[30,25,29,23,"constraints"],[30,36,29,34],[30,37,29,35],[30,38,29,36,"then"],[30,42,29,40],[30,43,29,41],[30,53,29,51,"sourceId"],[30,61,29,59],[30,63,29,61],[31,8,30,6],[31,12,30,10,"widthSpecified"],[31,26,30,24],[31,29,30,27,"constraints"],[31,40,30,38],[31,41,30,39,"video"],[31,46,30,44],[31,50,30,48,"constraints"],[31,61,30,59],[31,62,30,60,"video"],[31,67,30,65],[31,68,30,66,"width"],[31,73,30,71],[32,8,31,6],[32,12,31,10,"heightSpecified"],[32,27,31,25],[32,30,31,28,"constraints"],[32,41,31,39],[32,42,31,40,"video"],[32,47,31,45],[32,51,31,49,"constraints"],[32,62,31,60],[32,63,31,61,"video"],[32,68,31,66],[32,69,31,67,"height"],[32,75,31,73],[33,8,32,6],[33,12,32,10,"frameRateSpecified"],[33,30,32,28],[33,33,32,31,"constraints"],[33,44,32,42],[33,45,32,43,"video"],[33,50,32,48],[33,54,32,52,"constraints"],[33,65,32,63],[33,66,32,64,"video"],[33,71,32,69],[33,72,32,70,"frameRate"],[33,81,32,79],[34,8,33,6,"constraints"],[34,19,33,17],[34,20,33,18,"video"],[34,25,33,23],[34,28,33,26],[35,10,34,8,"mandatory"],[35,19,34,17],[35,21,34,19],[36,12,35,10,"chromeMediaSource"],[36,29,35,27],[36,31,35,29],[36,40,35,38],[37,12,36,10,"chromeMediaSourceId"],[37,31,36,29],[37,33,36,31,"sourceId"],[37,41,36,39],[38,12,37,10,"maxFrameRate"],[38,24,37,22],[38,26,37,24,"frameRateSpecified"],[38,44,37,42],[38,48,37,46],[39,10,38,8],[40,8,39,6],[40,9,39,7],[41,8,40,6],[41,12,40,10,"widthSpecified"],[41,26,40,24],[41,28,40,26],[42,10,41,8,"constraints"],[42,21,41,19],[42,22,41,20,"video"],[42,27,41,25],[42,28,41,26,"mandatory"],[42,37,41,35],[42,38,41,36,"maxWidth"],[42,46,41,44],[42,49,41,47,"widthSpecified"],[42,63,41,61],[43,8,42,6],[44,8,43,6],[44,12,43,10,"heightSpecified"],[44,27,43,25],[44,29,43,27],[45,10,44,8,"constraints"],[45,21,44,19],[45,22,44,20,"video"],[45,27,44,25],[45,28,44,26,"mandatory"],[45,37,44,35],[45,38,44,36,"maxHeight"],[45,47,44,45],[45,50,44,48,"heightSpecified"],[45,65,44,63],[46,8,45,6],[47,8,46,6],[47,15,46,13,"window"],[47,21,46,19],[47,22,46,20,"navigator"],[47,31,46,29],[47,32,46,30,"mediaDevices"],[47,44,46,42],[47,45,46,43,"getUserMedia"],[47,57,46,55],[47,58,46,56,"constraints"],[47,69,46,67],[47,70,46,68],[48,6,47,4],[48,7,47,5],[48,8,47,6],[49,4,48,2],[49,5,48,3],[50,2,49,0],[51,0,49,1],[51,3]],"functionMap":{"names":["<global>","shimGetDisplayMedia","getDisplayMedia","getSourceId.then$argument_0"],"mappings":"AAA;ACc;kDCa;yCCC;KDkB;GDC;CDC"},"hasCjsExports":true},"type":"js/module"}]}