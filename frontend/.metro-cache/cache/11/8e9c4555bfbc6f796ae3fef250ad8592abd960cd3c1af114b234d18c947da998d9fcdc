{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.withTimeout = withTimeout;\n  function withTimeout(fn, {\n    errorInstance = new Error('timed out'),\n    timeout,\n    signal\n  }) {\n    return new Promise((resolve, reject) => {\n      ;\n      (async () => {\n        let timeoutId;\n        try {\n          const controller = new AbortController();\n          if (timeout > 0) {\n            timeoutId = setTimeout(() => {\n              if (signal) {\n                controller.abort();\n              } else {\n                reject(errorInstance);\n              }\n            }, timeout);\n          }\n          resolve(await fn({\n            signal: controller?.signal || null\n          }));\n        } catch (err) {\n          if (err?.name === 'AbortError') reject(errorInstance);\n          reject(err);\n        } finally {\n          clearTimeout(timeoutId);\n        }\n      })();\n    });\n  }\n});","lineCount":40,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"withTimeout"],[7,21,3,19],[7,24,3,22,"withTimeout"],[7,35,3,33],[8,2,4,0],[8,11,4,9,"withTimeout"],[8,22,4,20,"withTimeout"],[8,23,4,21,"fn"],[8,25,4,23],[8,27,4,25],[9,4,4,27,"errorInstance"],[9,17,4,40],[9,20,4,43],[9,24,4,47,"Error"],[9,29,4,52],[9,30,4,53],[9,41,4,64],[9,42,4,65],[10,4,4,67,"timeout"],[10,11,4,74],[11,4,4,76,"signal"],[12,2,4,84],[12,3,4,85],[12,5,4,87],[13,4,5,4],[13,11,5,11],[13,15,5,15,"Promise"],[13,22,5,22],[13,23,5,23],[13,24,5,24,"resolve"],[13,31,5,31],[13,33,5,33,"reject"],[13,39,5,39],[13,44,5,44],[14,6,6,8],[15,6,7,8],[15,7,7,9],[15,19,7,21],[16,8,8,12],[16,12,8,16,"timeoutId"],[16,21,8,25],[17,8,9,12],[17,12,9,16],[18,10,10,16],[18,16,10,22,"controller"],[18,26,10,32],[18,29,10,35],[18,33,10,39,"AbortController"],[18,48,10,54],[18,49,10,55],[18,50,10,56],[19,10,11,16],[19,14,11,20,"timeout"],[19,21,11,27],[19,24,11,30],[19,25,11,31],[19,27,11,33],[20,12,12,20,"timeoutId"],[20,21,12,29],[20,24,12,32,"setTimeout"],[20,34,12,42],[20,35,12,43],[20,41,12,49],[21,14,13,24],[21,18,13,28,"signal"],[21,24,13,34],[21,26,13,36],[22,16,14,28,"controller"],[22,26,14,38],[22,27,14,39,"abort"],[22,32,14,44],[22,33,14,45],[22,34,14,46],[23,14,15,24],[23,15,15,25],[23,21,16,29],[24,16,17,28,"reject"],[24,22,17,34],[24,23,17,35,"errorInstance"],[24,36,17,48],[24,37,17,49],[25,14,18,24],[26,12,19,20],[26,13,19,21],[26,15,19,23,"timeout"],[26,22,19,30],[26,23,19,31],[27,10,20,16],[28,10,21,16,"resolve"],[28,17,21,23],[28,18,21,24],[28,24,21,30,"fn"],[28,26,21,32],[28,27,21,33],[29,12,21,35,"signal"],[29,18,21,41],[29,20,21,43,"controller"],[29,30,21,53],[29,32,21,55,"signal"],[29,38,21,61],[29,42,21,65],[30,10,21,70],[30,11,21,71],[30,12,21,72],[30,13,21,73],[31,8,22,12],[31,9,22,13],[31,10,23,12],[31,17,23,19,"err"],[31,20,23,22],[31,22,23,24],[32,10,24,16],[32,14,24,20,"err"],[32,17,24,23],[32,19,24,25,"name"],[32,23,24,29],[32,28,24,34],[32,40,24,46],[32,42,25,20,"reject"],[32,48,25,26],[32,49,25,27,"errorInstance"],[32,62,25,40],[32,63,25,41],[33,10,26,16,"reject"],[33,16,26,22],[33,17,26,23,"err"],[33,20,26,26],[33,21,26,27],[34,8,27,12],[34,9,27,13],[34,18,28,20],[35,10,29,16,"clearTimeout"],[35,22,29,28],[35,23,29,29,"timeoutId"],[35,32,29,38],[35,33,29,39],[36,8,30,12],[37,6,31,8],[37,7,31,9],[37,9,31,11],[37,10,31,12],[38,4,32,4],[38,5,32,5],[38,6,32,6],[39,2,33,0],[40,0,33,1],[40,3]],"functionMap":{"names":["<global>","withTimeout","Promise$argument_0","<anonymous>","setTimeout$argument_0"],"mappings":"AAA;ACG;uBCC;SCE;2CCK;qBDO;SDY;KDC;CDC"},"hasCjsExports":true},"type":"js/module"}]}