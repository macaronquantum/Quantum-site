{"dependencies":[{"name":"../../errors/request.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":74,"index":74}}],"key":"2pE/btc+6/9ceuRiPNwUYrtm86Y=","exportNames":["*"],"imports":1}},{"name":"../promise/createBatchScheduler.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":75},"end":{"line":2,"column":75,"index":150}}],"key":"ORiUvX2aWzM8r43hKQNOPJLi17w=","exportNames":["*"],"imports":1}},{"name":"../promise/withTimeout.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":151},"end":{"line":3,"column":56,"index":207}}],"key":"R0pXVlZ6xmiOVM86DCOsnzL2IWE=","exportNames":["*"],"imports":1}},{"name":"./id.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":208},"end":{"line":4,"column":34,"index":242}}],"key":"XzJUTA7q3576wrp3vEEP4WANxL4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"socketClientCache\", {\n    enumerable: true,\n    get: function () {\n      return socketClientCache;\n    }\n  });\n  exports.getSocketRpcClient = getSocketRpcClient;\n  var _errorsRequestJs = require(_dependencyMap[0], \"../../errors/request.js\");\n  var _promiseCreateBatchSchedulerJs = require(_dependencyMap[1], \"../promise/createBatchScheduler.js\");\n  var _promiseWithTimeoutJs = require(_dependencyMap[2], \"../promise/withTimeout.js\");\n  var _idJs = require(_dependencyMap[3], \"./id.js\");\n  const socketClientCache = /*#__PURE__*/new Map();\n  async function getSocketRpcClient(parameters) {\n    const {\n      getSocket,\n      keepAlive = true,\n      key = 'socket',\n      reconnect = true,\n      url\n    } = parameters;\n    const {\n      interval: keepAliveInterval = 30_000\n    } = typeof keepAlive === 'object' ? keepAlive : {};\n    const {\n      attempts = 5,\n      delay = 2_000\n    } = typeof reconnect === 'object' ? reconnect : {};\n    let socketClient = socketClientCache.get(`${key}:${url}`);\n    // If the socket already exists, return it.\n    if (socketClient) return socketClient;\n    let reconnectCount = 0;\n    const {\n      schedule\n    } = (0, _promiseCreateBatchSchedulerJs.createBatchScheduler)({\n      id: `${key}:${url}`,\n      fn: async () => {\n        // Set up a cache for incoming \"synchronous\" requests.\n        const requests = new Map();\n        // Set up a cache for subscriptions (eth_subscribe).\n        const subscriptions = new Map();\n        let error;\n        let socket;\n        let keepAliveTimer;\n        // Set up socket implementation.\n        async function setup() {\n          const result = await getSocket({\n            onClose() {\n              // Notify all requests and subscriptions of the closure error.\n              for (const request of requests.values()) request.onError?.(new _errorsRequestJs.SocketClosedError({\n                url\n              }));\n              for (const subscription of subscriptions.values()) subscription.onError?.(new _errorsRequestJs.SocketClosedError({\n                url\n              }));\n              // Clear all requests and subscriptions.\n              requests.clear();\n              subscriptions.clear();\n              // Attempt to reconnect.\n              if (reconnect && reconnectCount < attempts) setTimeout(async () => {\n                reconnectCount++;\n                await setup().catch(console.error);\n              }, delay);\n            },\n            onError(error_) {\n              error = error_;\n              // Notify all requests and subscriptions of the error.\n              for (const request of requests.values()) request.onError?.(error);\n              for (const subscription of subscriptions.values()) subscription.onError?.(error);\n              // Clear all requests and subscriptions.\n              requests.clear();\n              subscriptions.clear();\n              // Make sure socket is definitely closed.\n              socketClient?.close();\n              // Attempt to reconnect.\n              if (reconnect && reconnectCount < attempts) setTimeout(async () => {\n                reconnectCount++;\n                await setup().catch(console.error);\n              }, delay);\n            },\n            onOpen() {\n              error = undefined;\n              reconnectCount = 0;\n            },\n            onResponse(data) {\n              const isSubscription = data.method === 'eth_subscription';\n              const id = isSubscription ? data.params.subscription : data.id;\n              const cache = isSubscription ? subscriptions : requests;\n              const callback = cache.get(id);\n              if (callback) callback.onResponse(data);\n              if (!isSubscription) cache.delete(id);\n            }\n          });\n          socket = result;\n          if (keepAlive) {\n            if (keepAliveTimer) clearInterval(keepAliveTimer);\n            keepAliveTimer = setInterval(() => socket.ping?.(), keepAliveInterval);\n          }\n          return result;\n        }\n        await setup();\n        error = undefined;\n        // Create a new socket instance.\n        socketClient = {\n          close() {\n            keepAliveTimer && clearInterval(keepAliveTimer);\n            socket.close();\n            socketClientCache.delete(`${key}:${url}`);\n          },\n          get socket() {\n            return socket;\n          },\n          request({\n            body,\n            onError,\n            onResponse\n          }) {\n            if (error && onError) onError(error);\n            const id = body.id ?? _idJs.idCache.take();\n            const callback = response => {\n              if (typeof response.id === 'number' && id !== response.id) return;\n              // If we are subscribing to a topic, we want to set up a listener for incoming\n              // messages.\n              if (body.method === 'eth_subscribe' && typeof response.result === 'string') subscriptions.set(response.result, {\n                onResponse: callback,\n                onError\n              });\n              // If we are unsubscribing from a topic, we want to remove the listener.\n              if (body.method === 'eth_unsubscribe') subscriptions.delete(body.params?.[0]);\n              onResponse(response);\n            };\n            requests.set(id, {\n              onResponse: callback,\n              onError\n            });\n            try {\n              socket.request({\n                body: Object.assign({\n                  jsonrpc: '2.0',\n                  id\n                }, body)\n              });\n            } catch (error) {\n              onError?.(error);\n            }\n          },\n          requestAsync({\n            body,\n            timeout = 10_000\n          }) {\n            return (0, _promiseWithTimeoutJs.withTimeout)(() => new Promise((onResponse, onError) => this.request({\n              body,\n              onError,\n              onResponse\n            })), {\n              errorInstance: new _errorsRequestJs.TimeoutError({\n                body,\n                url\n              }),\n              timeout\n            });\n          },\n          requests,\n          subscriptions,\n          url\n        };\n        socketClientCache.set(`${key}:${url}`, socketClient);\n        return [socketClient];\n      }\n    });\n    const [_, [socketClient_]] = await schedule();\n    return socketClient_;\n  }\n});","lineCount":179,"map":[[7,2,5,0,"Object"],[7,8,5,0],[7,9,5,0,"defineProperty"],[7,23,5,0],[7,24,5,0,"exports"],[7,31,5,0],[8,4,5,0,"enumerable"],[8,14,5,0],[9,4,5,0,"get"],[9,7,5,0],[9,18,5,0,"get"],[9,19,5,0],[10,6,5,0],[10,13,5,0,"socketClientCache"],[10,30,5,0],[11,4,5,0],[12,2,5,0],[13,2,6,0,"exports"],[13,9,6,0],[13,10,6,0,"getSocketRpcClient"],[13,28,6,0],[13,31,6,0,"getSocketRpcClient"],[13,49,6,0],[14,2,1,0],[14,6,1,0,"_errorsRequestJs"],[14,22,1,0],[14,25,1,0,"require"],[14,32,1,0],[14,33,1,0,"_dependencyMap"],[14,47,1,0],[15,2,2,0],[15,6,2,0,"_promiseCreateBatchSchedulerJs"],[15,36,2,0],[15,39,2,0,"require"],[15,46,2,0],[15,47,2,0,"_dependencyMap"],[15,61,2,0],[16,2,3,0],[16,6,3,0,"_promiseWithTimeoutJs"],[16,27,3,0],[16,30,3,0,"require"],[16,37,3,0],[16,38,3,0,"_dependencyMap"],[16,52,3,0],[17,2,4,0],[17,6,4,0,"_idJs"],[17,11,4,0],[17,14,4,0,"require"],[17,21,4,0],[17,22,4,0,"_dependencyMap"],[17,36,4,0],[18,2,5,7],[18,8,5,13,"socketClientCache"],[18,25,5,30],[18,28,5,33],[18,41,5,47],[18,45,5,51,"Map"],[18,48,5,54],[18,49,5,55],[18,50,5,56],[19,2,6,7],[19,17,6,22,"getSocketRpcClient"],[19,35,6,40,"getSocketRpcClient"],[19,36,6,41,"parameters"],[19,46,6,51],[19,48,6,53],[20,4,7,4],[20,10,7,10],[21,6,7,12,"getSocket"],[21,15,7,21],[22,6,7,23,"keepAlive"],[22,15,7,32],[22,18,7,35],[22,22,7,39],[23,6,7,41,"key"],[23,9,7,44],[23,12,7,47],[23,20,7,55],[24,6,7,57,"reconnect"],[24,15,7,66],[24,18,7,69],[24,22,7,73],[25,6,7,75,"url"],[26,4,7,80],[26,5,7,81],[26,8,7,84,"parameters"],[26,18,7,94],[27,4,8,4],[27,10,8,10],[28,6,8,12,"interval"],[28,14,8,20],[28,16,8,22,"keepAliveInterval"],[28,33,8,39],[28,36,8,42],[29,4,8,49],[29,5,8,50],[29,8,8,53],[29,15,8,60,"keepAlive"],[29,24,8,69],[29,29,8,74],[29,37,8,82],[29,40,8,85,"keepAlive"],[29,49,8,94],[29,52,8,97],[29,53,8,98],[29,54,8,99],[30,4,9,4],[30,10,9,10],[31,6,9,12,"attempts"],[31,14,9,20],[31,17,9,23],[31,18,9,24],[32,6,9,26,"delay"],[32,11,9,31],[32,14,9,34],[33,4,9,40],[33,5,9,41],[33,8,9,44],[33,15,9,51,"reconnect"],[33,24,9,60],[33,29,9,65],[33,37,9,73],[33,40,9,76,"reconnect"],[33,49,9,85],[33,52,9,88],[33,53,9,89],[33,54,9,90],[34,4,10,4],[34,8,10,8,"socketClient"],[34,20,10,20],[34,23,10,23,"socketClientCache"],[34,40,10,40],[34,41,10,41,"get"],[34,44,10,44],[34,45,10,45],[34,48,10,48,"key"],[34,51,10,51],[34,55,10,55,"url"],[34,58,10,58],[34,60,10,60],[34,61,10,61],[35,4,11,4],[36,4,12,4],[36,8,12,8,"socketClient"],[36,20,12,20],[36,22,13,8],[36,29,13,15,"socketClient"],[36,41,13,27],[37,4,14,4],[37,8,14,8,"reconnectCount"],[37,22,14,22],[37,25,14,25],[37,26,14,26],[38,4,15,4],[38,10,15,10],[39,6,15,12,"schedule"],[40,4,15,21],[40,5,15,22],[40,8,15,25],[40,12,15,25,"createBatchScheduler"],[40,42,15,45],[40,43,15,45,"createBatchScheduler"],[40,63,15,45],[40,65,15,46],[41,6,16,8,"id"],[41,8,16,10],[41,10,16,12],[41,13,16,15,"key"],[41,16,16,18],[41,20,16,22,"url"],[41,23,16,25],[41,25,16,27],[42,6,17,8,"fn"],[42,8,17,10],[42,10,17,12],[42,16,17,12,"fn"],[42,17,17,12],[42,22,17,24],[43,8,18,12],[44,8,19,12],[44,14,19,18,"requests"],[44,22,19,26],[44,25,19,29],[44,29,19,33,"Map"],[44,32,19,36],[44,33,19,37],[44,34,19,38],[45,8,20,12],[46,8,21,12],[46,14,21,18,"subscriptions"],[46,27,21,31],[46,30,21,34],[46,34,21,38,"Map"],[46,37,21,41],[46,38,21,42],[46,39,21,43],[47,8,22,12],[47,12,22,16,"error"],[47,17,22,21],[48,8,23,12],[48,12,23,16,"socket"],[48,18,23,22],[49,8,24,12],[49,12,24,16,"keepAliveTimer"],[49,26,24,30],[50,8,25,12],[51,8,26,12],[51,23,26,27,"setup"],[51,28,26,32,"setup"],[51,29,26,32],[51,31,26,35],[52,10,27,16],[52,16,27,22,"result"],[52,22,27,28],[52,25,27,31],[52,31,27,37,"getSocket"],[52,40,27,46],[52,41,27,47],[53,12,28,20,"onClose"],[53,19,28,27,"onClose"],[53,20,28,27],[53,22,28,30],[54,14,29,24],[55,14,30,24],[55,19,30,29],[55,25,30,35,"request"],[55,32,30,42],[55,36,30,46,"requests"],[55,44,30,54],[55,45,30,55,"values"],[55,51,30,61],[55,52,30,62],[55,53,30,63],[55,55,31,28,"request"],[55,62,31,35],[55,63,31,36,"onError"],[55,70,31,43],[55,73,31,46],[55,77,31,50,"SocketClosedError"],[55,93,31,67],[55,94,31,67,"SocketClosedError"],[55,111,31,67],[55,112,31,68],[56,16,31,70,"url"],[57,14,31,74],[57,15,31,75],[57,16,31,76],[57,17,31,77],[58,14,32,24],[58,19,32,29],[58,25,32,35,"subscription"],[58,37,32,47],[58,41,32,51,"subscriptions"],[58,54,32,64],[58,55,32,65,"values"],[58,61,32,71],[58,62,32,72],[58,63,32,73],[58,65,33,28,"subscription"],[58,77,33,40],[58,78,33,41,"onError"],[58,85,33,48],[58,88,33,51],[58,92,33,55,"SocketClosedError"],[58,108,33,72],[58,109,33,72,"SocketClosedError"],[58,126,33,72],[58,127,33,73],[59,16,33,75,"url"],[60,14,33,79],[60,15,33,80],[60,16,33,81],[60,17,33,82],[61,14,34,24],[62,14,35,24,"requests"],[62,22,35,32],[62,23,35,33,"clear"],[62,28,35,38],[62,29,35,39],[62,30,35,40],[63,14,36,24,"subscriptions"],[63,27,36,37],[63,28,36,38,"clear"],[63,33,36,43],[63,34,36,44],[63,35,36,45],[64,14,37,24],[65,14,38,24],[65,18,38,28,"reconnect"],[65,27,38,37],[65,31,38,41,"reconnectCount"],[65,45,38,55],[65,48,38,58,"attempts"],[65,56,38,66],[65,58,39,28,"setTimeout"],[65,68,39,38],[65,69,39,39],[65,81,39,51],[66,16,40,32,"reconnectCount"],[66,30,40,46],[66,32,40,48],[67,16,41,32],[67,22,41,38,"setup"],[67,27,41,43],[67,28,41,44],[67,29,41,45],[67,30,41,46,"catch"],[67,35,41,51],[67,36,41,52,"console"],[67,43,41,59],[67,44,41,60,"error"],[67,49,41,65],[67,50,41,66],[68,14,42,28],[68,15,42,29],[68,17,42,31,"delay"],[68,22,42,36],[68,23,42,37],[69,12,43,20],[69,13,43,21],[70,12,44,20,"onError"],[70,19,44,27,"onError"],[70,20,44,28,"error_"],[70,26,44,34],[70,28,44,36],[71,14,45,24,"error"],[71,19,45,29],[71,22,45,32,"error_"],[71,28,45,38],[72,14,46,24],[73,14,47,24],[73,19,47,29],[73,25,47,35,"request"],[73,32,47,42],[73,36,47,46,"requests"],[73,44,47,54],[73,45,47,55,"values"],[73,51,47,61],[73,52,47,62],[73,53,47,63],[73,55,48,28,"request"],[73,62,48,35],[73,63,48,36,"onError"],[73,70,48,43],[73,73,48,46,"error"],[73,78,48,51],[73,79,48,52],[74,14,49,24],[74,19,49,29],[74,25,49,35,"subscription"],[74,37,49,47],[74,41,49,51,"subscriptions"],[74,54,49,64],[74,55,49,65,"values"],[74,61,49,71],[74,62,49,72],[74,63,49,73],[74,65,50,28,"subscription"],[74,77,50,40],[74,78,50,41,"onError"],[74,85,50,48],[74,88,50,51,"error"],[74,93,50,56],[74,94,50,57],[75,14,51,24],[76,14,52,24,"requests"],[76,22,52,32],[76,23,52,33,"clear"],[76,28,52,38],[76,29,52,39],[76,30,52,40],[77,14,53,24,"subscriptions"],[77,27,53,37],[77,28,53,38,"clear"],[77,33,53,43],[77,34,53,44],[77,35,53,45],[78,14,54,24],[79,14,55,24,"socketClient"],[79,26,55,36],[79,28,55,38,"close"],[79,33,55,43],[79,34,55,44],[79,35,55,45],[80,14,56,24],[81,14,57,24],[81,18,57,28,"reconnect"],[81,27,57,37],[81,31,57,41,"reconnectCount"],[81,45,57,55],[81,48,57,58,"attempts"],[81,56,57,66],[81,58,58,28,"setTimeout"],[81,68,58,38],[81,69,58,39],[81,81,58,51],[82,16,59,32,"reconnectCount"],[82,30,59,46],[82,32,59,48],[83,16,60,32],[83,22,60,38,"setup"],[83,27,60,43],[83,28,60,44],[83,29,60,45],[83,30,60,46,"catch"],[83,35,60,51],[83,36,60,52,"console"],[83,43,60,59],[83,44,60,60,"error"],[83,49,60,65],[83,50,60,66],[84,14,61,28],[84,15,61,29],[84,17,61,31,"delay"],[84,22,61,36],[84,23,61,37],[85,12,62,20],[85,13,62,21],[86,12,63,20,"onOpen"],[86,18,63,26,"onOpen"],[86,19,63,26],[86,21,63,29],[87,14,64,24,"error"],[87,19,64,29],[87,22,64,32,"undefined"],[87,31,64,41],[88,14,65,24,"reconnectCount"],[88,28,65,38],[88,31,65,41],[88,32,65,42],[89,12,66,20],[89,13,66,21],[90,12,67,20,"onResponse"],[90,22,67,30,"onResponse"],[90,23,67,31,"data"],[90,27,67,35],[90,29,67,37],[91,14,68,24],[91,20,68,30,"isSubscription"],[91,34,68,44],[91,37,68,47,"data"],[91,41,68,51],[91,42,68,52,"method"],[91,48,68,58],[91,53,68,63],[91,71,68,81],[92,14,69,24],[92,20,69,30,"id"],[92,22,69,32],[92,25,69,35,"isSubscription"],[92,39,69,49],[92,42,69,52,"data"],[92,46,69,56],[92,47,69,57,"params"],[92,53,69,63],[92,54,69,64,"subscription"],[92,66,69,76],[92,69,69,79,"data"],[92,73,69,83],[92,74,69,84,"id"],[92,76,69,86],[93,14,70,24],[93,20,70,30,"cache"],[93,25,70,35],[93,28,70,38,"isSubscription"],[93,42,70,52],[93,45,70,55,"subscriptions"],[93,58,70,68],[93,61,70,71,"requests"],[93,69,70,79],[94,14,71,24],[94,20,71,30,"callback"],[94,28,71,38],[94,31,71,41,"cache"],[94,36,71,46],[94,37,71,47,"get"],[94,40,71,50],[94,41,71,51,"id"],[94,43,71,53],[94,44,71,54],[95,14,72,24],[95,18,72,28,"callback"],[95,26,72,36],[95,28,73,28,"callback"],[95,36,73,36],[95,37,73,37,"onResponse"],[95,47,73,47],[95,48,73,48,"data"],[95,52,73,52],[95,53,73,53],[96,14,74,24],[96,18,74,28],[96,19,74,29,"isSubscription"],[96,33,74,43],[96,35,75,28,"cache"],[96,40,75,33],[96,41,75,34,"delete"],[96,47,75,40],[96,48,75,41,"id"],[96,50,75,43],[96,51,75,44],[97,12,76,20],[98,10,77,16],[98,11,77,17],[98,12,77,18],[99,10,78,16,"socket"],[99,16,78,22],[99,19,78,25,"result"],[99,25,78,31],[100,10,79,16],[100,14,79,20,"keepAlive"],[100,23,79,29],[100,25,79,31],[101,12,80,20],[101,16,80,24,"keepAliveTimer"],[101,30,80,38],[101,32,81,24,"clearInterval"],[101,45,81,37],[101,46,81,38,"keepAliveTimer"],[101,60,81,52],[101,61,81,53],[102,12,82,20,"keepAliveTimer"],[102,26,82,34],[102,29,82,37,"setInterval"],[102,40,82,48],[102,41,82,49],[102,47,82,55,"socket"],[102,53,82,61],[102,54,82,62,"ping"],[102,58,82,66],[102,61,82,69],[102,62,82,70],[102,64,82,72,"keepAliveInterval"],[102,81,82,89],[102,82,82,90],[103,10,83,16],[104,10,84,16],[104,17,84,23,"result"],[104,23,84,29],[105,8,85,12],[106,8,86,12],[106,14,86,18,"setup"],[106,19,86,23],[106,20,86,24],[106,21,86,25],[107,8,87,12,"error"],[107,13,87,17],[107,16,87,20,"undefined"],[107,25,87,29],[108,8,88,12],[109,8,89,12,"socketClient"],[109,20,89,24],[109,23,89,27],[110,10,90,16,"close"],[110,15,90,21,"close"],[110,16,90,21],[110,18,90,24],[111,12,91,20,"keepAliveTimer"],[111,26,91,34],[111,30,91,38,"clearInterval"],[111,43,91,51],[111,44,91,52,"keepAliveTimer"],[111,58,91,66],[111,59,91,67],[112,12,92,20,"socket"],[112,18,92,26],[112,19,92,27,"close"],[112,24,92,32],[112,25,92,33],[112,26,92,34],[113,12,93,20,"socketClientCache"],[113,29,93,37],[113,30,93,38,"delete"],[113,36,93,44],[113,37,93,45],[113,40,93,48,"key"],[113,43,93,51],[113,47,93,55,"url"],[113,50,93,58],[113,52,93,60],[113,53,93,61],[114,10,94,16],[114,11,94,17],[115,10,95,16],[115,14,95,20,"socket"],[115,20,95,26,"socket"],[115,21,95,26],[115,23,95,29],[116,12,96,20],[116,19,96,27,"socket"],[116,25,96,33],[117,10,97,16],[117,11,97,17],[118,10,98,16,"request"],[118,17,98,23,"request"],[118,18,98,24],[119,12,98,26,"body"],[119,16,98,30],[120,12,98,32,"onError"],[120,19,98,39],[121,12,98,41,"onResponse"],[122,10,98,52],[122,11,98,53],[122,13,98,55],[123,12,99,20],[123,16,99,24,"error"],[123,21,99,29],[123,25,99,33,"onError"],[123,32,99,40],[123,34,100,24,"onError"],[123,41,100,31],[123,42,100,32,"error"],[123,47,100,37],[123,48,100,38],[124,12,101,20],[124,18,101,26,"id"],[124,20,101,28],[124,23,101,31,"body"],[124,27,101,35],[124,28,101,36,"id"],[124,30,101,38],[124,34,101,42,"idCache"],[124,39,101,49],[124,40,101,49,"idCache"],[124,47,101,49],[124,48,101,50,"take"],[124,52,101,54],[124,53,101,55],[124,54,101,56],[125,12,102,20],[125,18,102,26,"callback"],[125,26,102,34],[125,29,102,38,"response"],[125,37,102,46],[125,41,102,51],[126,14,103,24],[126,18,103,28],[126,25,103,35,"response"],[126,33,103,43],[126,34,103,44,"id"],[126,36,103,46],[126,41,103,51],[126,49,103,59],[126,53,103,63,"id"],[126,55,103,65],[126,60,103,70,"response"],[126,68,103,78],[126,69,103,79,"id"],[126,71,103,81],[126,73,104,28],[127,14,105,24],[128,14,106,24],[129,14,107,24],[129,18,107,28,"body"],[129,22,107,32],[129,23,107,33,"method"],[129,29,107,39],[129,34,107,44],[129,49,107,59],[129,53,108,28],[129,60,108,35,"response"],[129,68,108,43],[129,69,108,44,"result"],[129,75,108,50],[129,80,108,55],[129,88,108,63],[129,90,109,28,"subscriptions"],[129,103,109,41],[129,104,109,42,"set"],[129,107,109,45],[129,108,109,46,"response"],[129,116,109,54],[129,117,109,55,"result"],[129,123,109,61],[129,125,109,63],[130,16,110,32,"onResponse"],[130,26,110,42],[130,28,110,44,"callback"],[130,36,110,52],[131,16,111,32,"onError"],[132,14,112,28],[132,15,112,29],[132,16,112,30],[133,14,113,24],[134,14,114,24],[134,18,114,28,"body"],[134,22,114,32],[134,23,114,33,"method"],[134,29,114,39],[134,34,114,44],[134,51,114,61],[134,53,115,28,"subscriptions"],[134,66,115,41],[134,67,115,42,"delete"],[134,73,115,48],[134,74,115,49,"body"],[134,78,115,53],[134,79,115,54,"params"],[134,85,115,60],[134,88,115,63],[134,89,115,64],[134,90,115,65],[134,91,115,66],[135,14,116,24,"onResponse"],[135,24,116,34],[135,25,116,35,"response"],[135,33,116,43],[135,34,116,44],[136,12,117,20],[136,13,117,21],[137,12,118,20,"requests"],[137,20,118,28],[137,21,118,29,"set"],[137,24,118,32],[137,25,118,33,"id"],[137,27,118,35],[137,29,118,37],[138,14,118,39,"onResponse"],[138,24,118,49],[138,26,118,51,"callback"],[138,34,118,59],[139,14,118,61,"onError"],[140,12,118,69],[140,13,118,70],[140,14,118,71],[141,12,119,20],[141,16,119,24],[142,14,120,24,"socket"],[142,20,120,30],[142,21,120,31,"request"],[142,28,120,38],[142,29,120,39],[143,16,121,28,"body"],[143,20,121,32],[143,22,121,32,"Object"],[143,28,121,32],[143,29,121,32,"assign"],[143,35,121,32],[144,18,122,32,"jsonrpc"],[144,25,122,39],[144,27,122,41],[144,32,122,46],[145,18,123,32,"id"],[146,16,123,34],[146,19,124,35,"body"],[146,23,124,39],[147,14,126,24],[147,15,126,25],[147,16,126,26],[148,12,127,20],[148,13,127,21],[148,14,128,20],[148,21,128,27,"error"],[148,26,128,32],[148,28,128,34],[149,14,129,24,"onError"],[149,21,129,31],[149,24,129,34,"error"],[149,29,129,39],[149,30,129,40],[150,12,130,20],[151,10,131,16],[151,11,131,17],[152,10,132,16,"requestAsync"],[152,22,132,28,"requestAsync"],[152,23,132,29],[153,12,132,31,"body"],[153,16,132,35],[154,12,132,37,"timeout"],[154,19,132,44],[154,22,132,47],[155,10,132,54],[155,11,132,55],[155,13,132,57],[156,12,133,20],[156,19,133,27],[156,23,133,27,"withTimeout"],[156,44,133,38],[156,45,133,38,"withTimeout"],[156,56,133,38],[156,58,133,39],[156,64,133,45],[156,68,133,49,"Promise"],[156,75,133,56],[156,76,133,57],[156,77,133,58,"onResponse"],[156,87,133,68],[156,89,133,70,"onError"],[156,96,133,77],[156,101,133,82],[156,105,133,86],[156,106,133,87,"request"],[156,113,133,94],[156,114,133,95],[157,14,134,24,"body"],[157,18,134,28],[158,14,135,24,"onError"],[158,21,135,31],[159,14,136,24,"onResponse"],[160,12,137,20],[160,13,137,21],[160,14,137,22],[160,15,137,23],[160,17,137,25],[161,14,138,24,"errorInstance"],[161,27,138,37],[161,29,138,39],[161,33,138,43,"TimeoutError"],[161,49,138,55],[161,50,138,55,"TimeoutError"],[161,62,138,55],[161,63,138,56],[162,16,138,58,"body"],[162,20,138,62],[163,16,138,64,"url"],[164,14,138,68],[164,15,138,69],[164,16,138,70],[165,14,139,24,"timeout"],[166,12,140,20],[166,13,140,21],[166,14,140,22],[167,10,141,16],[167,11,141,17],[168,10,142,16,"requests"],[168,18,142,24],[169,10,143,16,"subscriptions"],[169,23,143,29],[170,10,144,16,"url"],[171,8,145,12],[171,9,145,13],[172,8,146,12,"socketClientCache"],[172,25,146,29],[172,26,146,30,"set"],[172,29,146,33],[172,30,146,34],[172,33,146,37,"key"],[172,36,146,40],[172,40,146,44,"url"],[172,43,146,47],[172,45,146,49],[172,47,146,51,"socketClient"],[172,59,146,63],[172,60,146,64],[173,8,147,12],[173,15,147,19],[173,16,147,20,"socketClient"],[173,28,147,32],[173,29,147,33],[174,6,148,8],[175,4,149,4],[175,5,149,5],[175,6,149,6],[176,4,150,4],[176,10,150,10],[176,11,150,11,"_"],[176,12,150,12],[176,14,150,14],[176,15,150,15,"socketClient_"],[176,28,150,28],[176,29,150,29],[176,30,150,30],[176,33,150,33],[176,39,150,39,"schedule"],[176,47,150,47],[176,48,150,48],[176,49,150,49],[177,4,151,4],[177,11,151,11,"socketClient_"],[177,24,151,24],[178,2,152,0],[179,0,152,1],[179,3]],"functionMap":{"names":["<global>","getSocketRpcClient","createBatchScheduler$argument_0.fn","setup","getSocket$argument_0.onClose","setTimeout$argument_0","getSocket$argument_0.onError","getSocket$argument_0.onOpen","getSocket$argument_0.onResponse","setInterval$argument_0","socketClient.close","socketClient.get__socket","socketClient.request","callback","socketClient.requestAsync","withTimeout$argument_0","Promise$argument_0"],"mappings":"AAA;OCK;YCW;YCS;oBCE;uCCW;6BDG;qBDC;oBGC;uCDc;6BCG;qBHC;oBIC;qBJG;oBKC;qBLS;iDMM,qBN;aDG;gBQK;iBRI;gBSC;iBTE;gBUC;qCCI;qBDe;iBVc;gBYC;uCCC,kBC;sBDI,CD;iBZI;SDO;CDI"},"hasCjsExports":false},"type":"js/module"}]}