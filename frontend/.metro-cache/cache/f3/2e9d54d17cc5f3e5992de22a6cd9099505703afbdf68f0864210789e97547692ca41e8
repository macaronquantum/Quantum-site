{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.CookieJar = exports.defaultBinaryType = exports.globalThisShim = exports.nextTick = void 0;\n  exports.createCookieJar = createCookieJar;\n  exports.parse = parse;\n  exports.nextTick = process.nextTick;\n  exports.globalThisShim = global;\n  exports.defaultBinaryType = \"nodebuffer\";\n  function createCookieJar() {\n    return new CookieJar();\n  }\n  /**\n   * @see https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie\n   */\n  function parse(setCookieString) {\n    const parts = setCookieString.split(\"; \");\n    const i = parts[0].indexOf(\"=\");\n    if (i === -1) {\n      return;\n    }\n    const name = parts[0].substring(0, i).trim();\n    if (!name.length) {\n      return;\n    }\n    let value = parts[0].substring(i + 1).trim();\n    if (value.charCodeAt(0) === 0x22) {\n      // remove double quotes\n      value = value.slice(1, -1);\n    }\n    const cookie = {\n      name,\n      value\n    };\n    for (let j = 1; j < parts.length; j++) {\n      const subParts = parts[j].split(\"=\");\n      if (subParts.length !== 2) {\n        continue;\n      }\n      const key = subParts[0].trim();\n      const value = subParts[1].trim();\n      switch (key) {\n        case \"Expires\":\n          cookie.expires = new Date(value);\n          break;\n        case \"Max-Age\":\n          const expiration = new Date();\n          expiration.setUTCSeconds(expiration.getUTCSeconds() + parseInt(value, 10));\n          cookie.expires = expiration;\n          break;\n        default:\n        // ignore other keys\n      }\n    }\n    return cookie;\n  }\n  class CookieJar {\n    constructor() {\n      this._cookies = new Map();\n    }\n    parseCookies(values) {\n      if (!values) {\n        return;\n      }\n      values.forEach(value => {\n        const parsed = parse(value);\n        if (parsed) {\n          this._cookies.set(parsed.name, parsed);\n        }\n      });\n    }\n    get cookies() {\n      const now = Date.now();\n      this._cookies.forEach((cookie, name) => {\n        var _a;\n        if (((_a = cookie.expires) === null || _a === void 0 ? void 0 : _a.getTime()) < now) {\n          this._cookies.delete(name);\n        }\n      });\n      return this._cookies.entries();\n    }\n    addCookies(xhr) {\n      const cookies = [];\n      for (const [name, cookie] of this.cookies) {\n        cookies.push(`${name}=${cookie.value}`);\n      }\n      if (cookies.length) {\n        xhr.setDisableHeaderCheck(true);\n        xhr.setRequestHeader(\"cookie\", cookies.join(\"; \"));\n      }\n    }\n    appendCookies(headers) {\n      for (const [name, cookie] of this.cookies) {\n        headers.append(\"cookie\", `${name}=${cookie.value}`);\n      }\n    }\n  }\n  exports.CookieJar = CookieJar;\n});","lineCount":102,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"CookieJar"],[7,19,3,17],[7,22,3,20,"exports"],[7,29,3,27],[7,30,3,28,"defaultBinaryType"],[7,47,3,45],[7,50,3,48,"exports"],[7,57,3,55],[7,58,3,56,"globalThisShim"],[7,72,3,70],[7,75,3,73,"exports"],[7,82,3,80],[7,83,3,81,"nextTick"],[7,91,3,89],[7,94,3,92],[7,99,3,97],[7,100,3,98],[8,2,4,0,"exports"],[8,9,4,7],[8,10,4,8,"createCookieJar"],[8,25,4,23],[8,28,4,26,"createCookieJar"],[8,43,4,41],[9,2,5,0,"exports"],[9,9,5,7],[9,10,5,8,"parse"],[9,15,5,13],[9,18,5,16,"parse"],[9,23,5,21],[10,2,6,0,"exports"],[10,9,6,7],[10,10,6,8,"nextTick"],[10,18,6,16],[10,21,6,19,"process"],[10,28,6,26],[10,29,6,27,"nextTick"],[10,37,6,35],[11,2,7,0,"exports"],[11,9,7,7],[11,10,7,8,"globalThisShim"],[11,24,7,22],[11,27,7,25,"global"],[11,33,7,31],[12,2,8,0,"exports"],[12,9,8,7],[12,10,8,8,"defaultBinaryType"],[12,27,8,25],[12,30,8,28],[12,42,8,40],[13,2,9,0],[13,11,9,9,"createCookieJar"],[13,26,9,24,"createCookieJar"],[13,27,9,24],[13,29,9,27],[14,4,10,4],[14,11,10,11],[14,15,10,15,"CookieJar"],[14,24,10,24],[14,25,10,25],[14,26,10,26],[15,2,11,0],[16,2,12,0],[17,0,13,0],[18,0,14,0],[19,2,15,0],[19,11,15,9,"parse"],[19,16,15,14,"parse"],[19,17,15,15,"setCookieString"],[19,32,15,30],[19,34,15,32],[20,4,16,4],[20,10,16,10,"parts"],[20,15,16,15],[20,18,16,18,"setCookieString"],[20,33,16,33],[20,34,16,34,"split"],[20,39,16,39],[20,40,16,40],[20,44,16,44],[20,45,16,45],[21,4,17,4],[21,10,17,10,"i"],[21,11,17,11],[21,14,17,14,"parts"],[21,19,17,19],[21,20,17,20],[21,21,17,21],[21,22,17,22],[21,23,17,23,"indexOf"],[21,30,17,30],[21,31,17,31],[21,34,17,34],[21,35,17,35],[22,4,18,4],[22,8,18,8,"i"],[22,9,18,9],[22,14,18,14],[22,15,18,15],[22,16,18,16],[22,18,18,18],[23,6,19,8],[24,4,20,4],[25,4,21,4],[25,10,21,10,"name"],[25,14,21,14],[25,17,21,17,"parts"],[25,22,21,22],[25,23,21,23],[25,24,21,24],[25,25,21,25],[25,26,21,26,"substring"],[25,35,21,35],[25,36,21,36],[25,37,21,37],[25,39,21,39,"i"],[25,40,21,40],[25,41,21,41],[25,42,21,42,"trim"],[25,46,21,46],[25,47,21,47],[25,48,21,48],[26,4,22,4],[26,8,22,8],[26,9,22,9,"name"],[26,13,22,13],[26,14,22,14,"length"],[26,20,22,20],[26,22,22,22],[27,6,23,8],[28,4,24,4],[29,4,25,4],[29,8,25,8,"value"],[29,13,25,13],[29,16,25,16,"parts"],[29,21,25,21],[29,22,25,22],[29,23,25,23],[29,24,25,24],[29,25,25,25,"substring"],[29,34,25,34],[29,35,25,35,"i"],[29,36,25,36],[29,39,25,39],[29,40,25,40],[29,41,25,41],[29,42,25,42,"trim"],[29,46,25,46],[29,47,25,47],[29,48,25,48],[30,4,26,4],[30,8,26,8,"value"],[30,13,26,13],[30,14,26,14,"charCodeAt"],[30,24,26,24],[30,25,26,25],[30,26,26,26],[30,27,26,27],[30,32,26,32],[30,36,26,36],[30,38,26,38],[31,6,27,8],[32,6,28,8,"value"],[32,11,28,13],[32,14,28,16,"value"],[32,19,28,21],[32,20,28,22,"slice"],[32,25,28,27],[32,26,28,28],[32,27,28,29],[32,29,28,31],[32,30,28,32],[32,31,28,33],[32,32,28,34],[33,4,29,4],[34,4,30,4],[34,10,30,10,"cookie"],[34,16,30,16],[34,19,30,19],[35,6,31,8,"name"],[35,10,31,12],[36,6,32,8,"value"],[37,4,33,4],[37,5,33,5],[38,4,34,4],[38,9,34,9],[38,13,34,13,"j"],[38,14,34,14],[38,17,34,17],[38,18,34,18],[38,20,34,20,"j"],[38,21,34,21],[38,24,34,24,"parts"],[38,29,34,29],[38,30,34,30,"length"],[38,36,34,36],[38,38,34,38,"j"],[38,39,34,39],[38,41,34,41],[38,43,34,43],[39,6,35,8],[39,12,35,14,"subParts"],[39,20,35,22],[39,23,35,25,"parts"],[39,28,35,30],[39,29,35,31,"j"],[39,30,35,32],[39,31,35,33],[39,32,35,34,"split"],[39,37,35,39],[39,38,35,40],[39,41,35,43],[39,42,35,44],[40,6,36,8],[40,10,36,12,"subParts"],[40,18,36,20],[40,19,36,21,"length"],[40,25,36,27],[40,30,36,32],[40,31,36,33],[40,33,36,35],[41,8,37,12],[42,6,38,8],[43,6,39,8],[43,12,39,14,"key"],[43,15,39,17],[43,18,39,20,"subParts"],[43,26,39,28],[43,27,39,29],[43,28,39,30],[43,29,39,31],[43,30,39,32,"trim"],[43,34,39,36],[43,35,39,37],[43,36,39,38],[44,6,40,8],[44,12,40,14,"value"],[44,17,40,19],[44,20,40,22,"subParts"],[44,28,40,30],[44,29,40,31],[44,30,40,32],[44,31,40,33],[44,32,40,34,"trim"],[44,36,40,38],[44,37,40,39],[44,38,40,40],[45,6,41,8],[45,14,41,16,"key"],[45,17,41,19],[46,8,42,12],[46,13,42,17],[46,22,42,26],[47,10,43,16,"cookie"],[47,16,43,22],[47,17,43,23,"expires"],[47,24,43,30],[47,27,43,33],[47,31,43,37,"Date"],[47,35,43,41],[47,36,43,42,"value"],[47,41,43,47],[47,42,43,48],[48,10,44,16],[49,8,45,12],[49,13,45,17],[49,22,45,26],[50,10,46,16],[50,16,46,22,"expiration"],[50,26,46,32],[50,29,46,35],[50,33,46,39,"Date"],[50,37,46,43],[50,38,46,44],[50,39,46,45],[51,10,47,16,"expiration"],[51,20,47,26],[51,21,47,27,"setUTCSeconds"],[51,34,47,40],[51,35,47,41,"expiration"],[51,45,47,51],[51,46,47,52,"getUTCSeconds"],[51,59,47,65],[51,60,47,66],[51,61,47,67],[51,64,47,70,"parseInt"],[51,72,47,78],[51,73,47,79,"value"],[51,78,47,84],[51,80,47,86],[51,82,47,88],[51,83,47,89],[51,84,47,90],[52,10,48,16,"cookie"],[52,16,48,22],[52,17,48,23,"expires"],[52,24,48,30],[52,27,48,33,"expiration"],[52,37,48,43],[53,10,49,16],[54,8,50,12],[55,8,51,12],[56,6,52,8],[57,4,53,4],[58,4,54,4],[58,11,54,11,"cookie"],[58,17,54,17],[59,2,55,0],[60,2,56,0],[60,8,56,6,"CookieJar"],[60,17,56,15],[60,18,56,16],[61,4,57,4,"constructor"],[61,15,57,15,"constructor"],[61,16,57,15],[61,18,57,18],[62,6,58,8],[62,10,58,12],[62,11,58,13,"_cookies"],[62,19,58,21],[62,22,58,24],[62,26,58,28,"Map"],[62,29,58,31],[62,30,58,32],[62,31,58,33],[63,4,59,4],[64,4,60,4,"parseCookies"],[64,16,60,16,"parseCookies"],[64,17,60,17,"values"],[64,23,60,23],[64,25,60,25],[65,6,61,8],[65,10,61,12],[65,11,61,13,"values"],[65,17,61,19],[65,19,61,21],[66,8,62,12],[67,6,63,8],[68,6,64,8,"values"],[68,12,64,14],[68,13,64,15,"forEach"],[68,20,64,22],[68,21,64,24,"value"],[68,26,64,29],[68,30,64,34],[69,8,65,12],[69,14,65,18,"parsed"],[69,20,65,24],[69,23,65,27,"parse"],[69,28,65,32],[69,29,65,33,"value"],[69,34,65,38],[69,35,65,39],[70,8,66,12],[70,12,66,16,"parsed"],[70,18,66,22],[70,20,66,24],[71,10,67,16],[71,14,67,20],[71,15,67,21,"_cookies"],[71,23,67,29],[71,24,67,30,"set"],[71,27,67,33],[71,28,67,34,"parsed"],[71,34,67,40],[71,35,67,41,"name"],[71,39,67,45],[71,41,67,47,"parsed"],[71,47,67,53],[71,48,67,54],[72,8,68,12],[73,6,69,8],[73,7,69,9],[73,8,69,10],[74,4,70,4],[75,4,71,4],[75,8,71,8,"cookies"],[75,15,71,15,"cookies"],[75,16,71,15],[75,18,71,18],[76,6,72,8],[76,12,72,14,"now"],[76,15,72,17],[76,18,72,20,"Date"],[76,22,72,24],[76,23,72,25,"now"],[76,26,72,28],[76,27,72,29],[76,28,72,30],[77,6,73,8],[77,10,73,12],[77,11,73,13,"_cookies"],[77,19,73,21],[77,20,73,22,"forEach"],[77,27,73,29],[77,28,73,30],[77,29,73,31,"cookie"],[77,35,73,37],[77,37,73,39,"name"],[77,41,73,43],[77,46,73,48],[78,8,74,12],[78,12,74,16,"_a"],[78,14,74,18],[79,8,75,12],[79,12,75,16],[79,13,75,17],[79,14,75,18,"_a"],[79,16,75,20],[79,19,75,23,"cookie"],[79,25,75,29],[79,26,75,30,"expires"],[79,33,75,37],[79,39,75,43],[79,43,75,47],[79,47,75,51,"_a"],[79,49,75,53],[79,54,75,58],[79,59,75,63],[79,60,75,64],[79,63,75,67],[79,68,75,72],[79,69,75,73],[79,72,75,76,"_a"],[79,74,75,78],[79,75,75,79,"getTime"],[79,82,75,86],[79,83,75,87],[79,84,75,88],[79,88,75,92,"now"],[79,91,75,95],[79,93,75,97],[80,10,76,16],[80,14,76,20],[80,15,76,21,"_cookies"],[80,23,76,29],[80,24,76,30,"delete"],[80,30,76,36],[80,31,76,37,"name"],[80,35,76,41],[80,36,76,42],[81,8,77,12],[82,6,78,8],[82,7,78,9],[82,8,78,10],[83,6,79,8],[83,13,79,15],[83,17,79,19],[83,18,79,20,"_cookies"],[83,26,79,28],[83,27,79,29,"entries"],[83,34,79,36],[83,35,79,37],[83,36,79,38],[84,4,80,4],[85,4,81,4,"addCookies"],[85,14,81,14,"addCookies"],[85,15,81,15,"xhr"],[85,18,81,18],[85,20,81,20],[86,6,82,8],[86,12,82,14,"cookies"],[86,19,82,21],[86,22,82,24],[86,24,82,26],[87,6,83,8],[87,11,83,13],[87,17,83,19],[87,18,83,20,"name"],[87,22,83,24],[87,24,83,26,"cookie"],[87,30,83,32],[87,31,83,33],[87,35,83,37],[87,39,83,41],[87,40,83,42,"cookies"],[87,47,83,49],[87,49,83,51],[88,8,84,12,"cookies"],[88,15,84,19],[88,16,84,20,"push"],[88,20,84,24],[88,21,84,25],[88,24,84,28,"name"],[88,28,84,32],[88,32,84,36,"cookie"],[88,38,84,42],[88,39,84,43,"value"],[88,44,84,48],[88,46,84,50],[88,47,84,51],[89,6,85,8],[90,6,86,8],[90,10,86,12,"cookies"],[90,17,86,19],[90,18,86,20,"length"],[90,24,86,26],[90,26,86,28],[91,8,87,12,"xhr"],[91,11,87,15],[91,12,87,16,"setDisableHeaderCheck"],[91,33,87,37],[91,34,87,38],[91,38,87,42],[91,39,87,43],[92,8,88,12,"xhr"],[92,11,88,15],[92,12,88,16,"setRequestHeader"],[92,28,88,32],[92,29,88,33],[92,37,88,41],[92,39,88,43,"cookies"],[92,46,88,50],[92,47,88,51,"join"],[92,51,88,55],[92,52,88,56],[92,56,88,60],[92,57,88,61],[92,58,88,62],[93,6,89,8],[94,4,90,4],[95,4,91,4,"appendCookies"],[95,17,91,17,"appendCookies"],[95,18,91,18,"headers"],[95,25,91,25],[95,27,91,27],[96,6,92,8],[96,11,92,13],[96,17,92,19],[96,18,92,20,"name"],[96,22,92,24],[96,24,92,26,"cookie"],[96,30,92,32],[96,31,92,33],[96,35,92,37],[96,39,92,41],[96,40,92,42,"cookies"],[96,47,92,49],[96,49,92,51],[97,8,93,12,"headers"],[97,15,93,19],[97,16,93,20,"append"],[97,22,93,26],[97,23,93,27],[97,31,93,35],[97,33,93,37],[97,36,93,40,"name"],[97,40,93,44],[97,44,93,48,"cookie"],[97,50,93,54],[97,51,93,55,"value"],[97,56,93,60],[97,58,93,62],[97,59,93,63],[98,6,94,8],[99,4,95,4],[100,2,96,0],[101,2,97,0,"exports"],[101,9,97,7],[101,10,97,8,"CookieJar"],[101,19,97,17],[101,22,97,20,"CookieJar"],[101,31,97,29],[102,0,97,30],[102,3]],"functionMap":{"names":["<global>","createCookieJar","parse","CookieJar","CookieJar#constructor","CookieJar#parseCookies","values.forEach$argument_0","CookieJar#get__cookies","_cookies.forEach$argument_0","CookieJar#addCookies","CookieJar#appendCookies"],"mappings":"AAA;ACQ;CDE;AEI;CFwC;AGC;ICC;KDE;IEC;uBCI;SDK;KFC;IIC;8BCE;SDK;KJE;IMC;KNS;IOC;KPI;CHC"},"hasCjsExports":true},"type":"js/module"}]}