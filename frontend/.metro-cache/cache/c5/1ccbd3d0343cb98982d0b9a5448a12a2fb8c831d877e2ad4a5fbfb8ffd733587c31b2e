{"dependencies":[{"name":"./enum","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":14,"index":55},"end":{"line":4,"column":31,"index":72}}],"key":"gyum9HaiytxYUYAerYZvNHG09ko=","exportNames":["*"],"imports":1}},{"name":"./types","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":14,"index":88},"end":{"line":5,"column":32,"index":106}}],"key":"iU0PUTt27rZ09z7DeRf4jWGkzmo=","exportNames":["*"],"imports":1}},{"name":"./util","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":14,"index":122},"end":{"line":6,"column":31,"index":139}}],"key":"hA8WsniBZrUJ/dmBZgrNdZcEmJ8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  module.exports = decoder;\n  var Enum = require(_dependencyMap[0], \"./enum\"),\n    types = require(_dependencyMap[1], \"./types\"),\n    util = require(_dependencyMap[2], \"./util\");\n  function missing(field) {\n    return \"missing required '\" + field.name + \"'\";\n  }\n\n  /**\n   * Generates a decoder specific to the specified message type.\n   * @param {Type} mtype Message type\n   * @returns {Codegen} Codegen instance\n   */\n  function decoder(mtype) {\n    /* eslint-disable no-unexpected-multiline */\n    var gen = util.codegen([\"r\", \"l\"], mtype.name + \"$decode\")(\"if(!(r instanceof Reader))\")(\"r=Reader.create(r)\")(\"var c=l===undefined?r.len:r.pos+l,m=new this.ctor\" + (mtype.fieldsArray.filter(function (field) {\n      return field.map;\n    }).length ? \",k,value\" : \"\"))(\"while(r.pos<c){\")(\"var t=r.uint32()\");\n    if (mtype.group) gen(\"if((t&7)===4)\")(\"break\");\n    gen(\"switch(t>>>3){\");\n    var i = 0;\n    for (; i < /* initializes */mtype.fieldsArray.length; ++i) {\n      var field = mtype._fieldsArray[i].resolve(),\n        type = field.resolvedType instanceof Enum ? \"int32\" : field.type,\n        ref = \"m\" + util.safeProp(field.name);\n      gen(\"case %i: {\", field.id);\n\n      // Map fields\n      if (field.map) {\n        gen(\"if(%s===util.emptyObject)\", ref)(\"%s={}\", ref)(\"var c2 = r.uint32()+r.pos\");\n        if (types.defaults[field.keyType] !== undefined) gen(\"k=%j\", types.defaults[field.keyType]);else gen(\"k=null\");\n        if (types.defaults[type] !== undefined) gen(\"value=%j\", types.defaults[type]);else gen(\"value=null\");\n        gen(\"while(r.pos<c2){\")(\"var tag2=r.uint32()\")(\"switch(tag2>>>3){\")(\"case 1: k=r.%s(); break\", field.keyType)(\"case 2:\");\n        if (types.basic[type] === undefined) gen(\"value=types[%i].decode(r,r.uint32())\", i); // can't be groups\n        else gen(\"value=r.%s()\", type);\n        gen(\"break\")(\"default:\")(\"r.skipType(tag2&7)\")(\"break\")(\"}\")(\"}\");\n        if (types.long[field.keyType] !== undefined) gen(\"%s[typeof k===\\\"object\\\"?util.longToHash(k):k]=value\", ref);else gen(\"%s[k]=value\", ref);\n\n        // Repeated fields\n      } else if (field.repeated) {\n        gen(\"if(!(%s&&%s.length))\", ref, ref)(\"%s=[]\", ref);\n\n        // Packable (always check for forward and backward compatiblity)\n        if (types.packed[type] !== undefined) gen(\"if((t&7)===2){\")(\"var c2=r.uint32()+r.pos\")(\"while(r.pos<c2)\")(\"%s.push(r.%s())\", ref, type)(\"}else\");\n\n        // Non-packed\n        if (types.basic[type] === undefined) gen(field.resolvedType.group ? \"%s.push(types[%i].decode(r))\" : \"%s.push(types[%i].decode(r,r.uint32()))\", ref, i);else gen(\"%s.push(r.%s())\", ref, type);\n\n        // Non-repeated\n      } else if (types.basic[type] === undefined) gen(field.resolvedType.group ? \"%s=types[%i].decode(r)\" : \"%s=types[%i].decode(r,r.uint32())\", ref, i);else gen(\"%s=r.%s()\", ref, type);\n      gen(\"break\")(\"}\");\n      // Unknown fields\n    }\n    gen(\"default:\")(\"r.skipType(t&7)\")(\"break\")(\"}\")(\"}\");\n\n    // Field presence\n    for (i = 0; i < mtype._fieldsArray.length; ++i) {\n      var rfield = mtype._fieldsArray[i];\n      if (rfield.required) gen(\"if(!m.hasOwnProperty(%j))\", rfield.name)(\"throw util.ProtocolError(%j,{instance:m})\", missing(rfield));\n    }\n    return gen(\"return m\");\n    /* eslint-enable no-unexpected-multiline */\n  }\n});","lineCount":67,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"module"],[4,8,2,6],[4,9,2,7,"exports"],[4,16,2,14],[4,19,2,17,"decoder"],[4,26,2,24],[5,2,4,0],[5,6,4,4,"Enum"],[5,10,4,8],[5,13,4,14,"require"],[5,20,4,21],[5,21,4,21,"_dependencyMap"],[5,35,4,21],[5,48,4,30],[5,49,4,31],[6,4,5,4,"types"],[6,9,5,9],[6,12,5,14,"require"],[6,19,5,21],[6,20,5,21,"_dependencyMap"],[6,34,5,21],[6,48,5,31],[6,49,5,32],[7,4,6,4,"util"],[7,8,6,8],[7,11,6,14,"require"],[7,18,6,21],[7,19,6,21,"_dependencyMap"],[7,33,6,21],[7,46,6,30],[7,47,6,31],[8,2,8,0],[8,11,8,9,"missing"],[8,18,8,16,"missing"],[8,19,8,17,"field"],[8,24,8,22],[8,26,8,24],[9,4,9,4],[9,11,9,11],[9,31,9,31],[9,34,9,34,"field"],[9,39,9,39],[9,40,9,40,"name"],[9,44,9,44],[9,47,9,47],[9,50,9,50],[10,2,10,0],[12,2,12,0],[13,0,13,0],[14,0,14,0],[15,0,15,0],[16,0,16,0],[17,2,17,0],[17,11,17,9,"decoder"],[17,18,17,16,"decoder"],[17,19,17,17,"mtype"],[17,24,17,22],[17,26,17,24],[18,4,18,4],[19,4,19,4],[19,8,19,8,"gen"],[19,11,19,11],[19,14,19,14,"util"],[19,18,19,18],[19,19,19,19,"codegen"],[19,26,19,26],[19,27,19,27],[19,28,19,28],[19,31,19,31],[19,33,19,33],[19,36,19,36],[19,37,19,37],[19,39,19,39,"mtype"],[19,44,19,44],[19,45,19,45,"name"],[19,49,19,49],[19,52,19,52],[19,61,19,61],[19,62,19,62],[19,63,20,5],[19,91,20,33],[19,92,20,34],[19,93,21,9],[19,113,21,29],[19,114,21,30],[19,115,22,5],[19,166,22,56],[19,170,22,60,"mtype"],[19,175,22,65],[19,176,22,66,"fieldsArray"],[19,187,22,77],[19,188,22,78,"filter"],[19,194,22,84],[19,195,22,85],[19,205,22,94,"field"],[19,210,22,99],[19,212,22,101],[20,6,22,103],[20,13,22,110,"field"],[20,18,22,115],[20,19,22,116,"map"],[20,22,22,119],[21,4,22,121],[21,5,22,122],[21,6,22,123],[21,7,22,124,"length"],[21,13,22,130],[21,16,22,133],[21,26,22,143],[21,29,22,146],[21,31,22,148],[21,32,22,149],[21,33,22,150],[21,34,23,5],[21,51,23,22],[21,52,23,23],[21,53,24,9],[21,71,24,27],[21,72,24,28],[22,4,25,4],[22,8,25,8,"mtype"],[22,13,25,13],[22,14,25,14,"group"],[22,19,25,19],[22,21,25,21,"gen"],[22,24,25,24],[22,25,26,9],[22,40,26,24],[22,41,26,25],[22,42,27,13],[22,49,27,20],[22,50,27,21],[23,4,28,4,"gen"],[23,7,28,7],[23,8,29,9],[23,24,29,25],[23,25,29,26],[24,4,31,4],[24,8,31,8,"i"],[24,9,31,9],[24,12,31,12],[24,13,31,13],[25,4,32,4],[25,11,32,11,"i"],[25,12,32,12],[25,15,32,15],[25,32,32,33,"mtype"],[25,37,32,38],[25,38,32,39,"fieldsArray"],[25,49,32,50],[25,50,32,51,"length"],[25,56,32,57],[25,58,32,59],[25,60,32,61,"i"],[25,61,32,62],[25,63,32,64],[26,6,33,8],[26,10,33,12,"field"],[26,15,33,17],[26,18,33,20,"mtype"],[26,23,33,25],[26,24,33,26,"_fieldsArray"],[26,36,33,38],[26,37,33,39,"i"],[26,38,33,40],[26,39,33,41],[26,40,33,42,"resolve"],[26,47,33,49],[26,48,33,50],[26,49,33,51],[27,8,34,12,"type"],[27,12,34,16],[27,15,34,20,"field"],[27,20,34,25],[27,21,34,26,"resolvedType"],[27,33,34,38],[27,45,34,50,"Enum"],[27,49,34,54],[27,52,34,57],[27,59,34,64],[27,62,34,67,"field"],[27,67,34,72],[27,68,34,73,"type"],[27,72,34,77],[28,8,35,12,"ref"],[28,11,35,15],[28,14,35,20],[28,17,35,23],[28,20,35,26,"util"],[28,24,35,30],[28,25,35,31,"safeProp"],[28,33,35,39],[28,34,35,40,"field"],[28,39,35,45],[28,40,35,46,"name"],[28,44,35,50],[28,45,35,51],[29,6,35,53,"gen"],[29,9,35,56],[29,10,36,13],[29,22,36,25],[29,24,36,27,"field"],[29,29,36,32],[29,30,36,33,"id"],[29,32,36,35],[29,33,36,36],[31,6,38,8],[32,6,39,8],[32,10,39,12,"field"],[32,15,39,17],[32,16,39,18,"map"],[32,19,39,21],[32,21,39,23],[33,8,39,25,"gen"],[33,11,39,28],[33,12,40,17],[33,39,40,44],[33,41,40,46,"ref"],[33,44,40,49],[33,45,40,50],[33,46,41,21],[33,53,41,28],[33,55,41,30,"ref"],[33,58,41,33],[33,59,41,34],[33,60,42,17],[33,87,42,44],[33,88,42,45],[34,8,44,12],[34,12,44,16,"types"],[34,17,44,21],[34,18,44,22,"defaults"],[34,26,44,30],[34,27,44,31,"field"],[34,32,44,36],[34,33,44,37,"keyType"],[34,40,44,44],[34,41,44,45],[34,46,44,50,"undefined"],[34,55,44,59],[34,57,44,61,"gen"],[34,60,44,64],[34,61,45,17],[34,67,45,23],[34,69,45,25,"types"],[34,74,45,30],[34,75,45,31,"defaults"],[34,83,45,39],[34,84,45,40,"field"],[34,89,45,45],[34,90,45,46,"keyType"],[34,97,45,53],[34,98,45,54],[34,99,45,55],[34,100,45,56],[34,105,46,17,"gen"],[34,108,46,20],[34,109,47,17],[34,117,47,25],[34,118,47,26],[35,8,49,12],[35,12,49,16,"types"],[35,17,49,21],[35,18,49,22,"defaults"],[35,26,49,30],[35,27,49,31,"type"],[35,31,49,35],[35,32,49,36],[35,37,49,41,"undefined"],[35,46,49,50],[35,48,49,52,"gen"],[35,51,49,55],[35,52,50,17],[35,62,50,27],[35,64,50,29,"types"],[35,69,50,34],[35,70,50,35,"defaults"],[35,78,50,43],[35,79,50,44,"type"],[35,83,50,48],[35,84,50,49],[35,85,50,50],[35,86,50,51],[35,91,51,17,"gen"],[35,94,51,20],[35,95,52,17],[35,107,52,29],[35,108,52,30],[36,8,54,12,"gen"],[36,11,54,15],[36,12,55,17],[36,30,55,35],[36,31,55,36],[36,32,56,21],[36,53,56,42],[36,54,56,43],[36,55,57,21],[36,74,57,40],[36,75,57,41],[36,76,58,25],[36,101,58,50],[36,103,58,52,"field"],[36,108,58,57],[36,109,58,58,"keyType"],[36,116,58,65],[36,117,58,66],[36,118,59,25],[36,127,59,34],[36,128,59,35],[37,8,61,12],[37,12,61,16,"types"],[37,17,61,21],[37,18,61,22,"basic"],[37,23,61,27],[37,24,61,28,"type"],[37,28,61,32],[37,29,61,33],[37,34,61,38,"undefined"],[37,43,61,47],[37,45,61,49,"gen"],[37,48,61,52],[37,49,62,29],[37,87,62,67],[37,89,62,69,"i"],[37,90,62,70],[37,91,62,71],[37,92,62,72],[37,93,62,73],[38,8,62,73],[38,13,63,17,"gen"],[38,16,63,20],[38,17,64,29],[38,31,64,43],[38,33,64,45,"type"],[38,37,64,49],[38,38,64,50],[39,8,66,12,"gen"],[39,11,66,15],[39,12,67,29],[39,19,67,36],[39,20,67,37],[39,21,68,25],[39,31,68,35],[39,32,68,36],[39,33,69,29],[39,53,69,49],[39,54,69,50],[39,55,70,29],[39,62,70,36],[39,63,70,37],[39,64,71,21],[39,67,71,24],[39,68,71,25],[39,69,72,17],[39,72,72,20],[39,73,72,21],[40,8,74,12],[40,12,74,16,"types"],[40,17,74,21],[40,18,74,22,"long"],[40,22,74,26],[40,23,74,27,"field"],[40,28,74,32],[40,29,74,33,"keyType"],[40,36,74,40],[40,37,74,41],[40,42,74,46,"undefined"],[40,51,74,55],[40,53,74,57,"gen"],[40,56,74,60],[40,57,75,17],[40,111,75,71],[40,113,75,73,"ref"],[40,116,75,76],[40,117,75,77],[40,118,75,78],[40,123,76,17,"gen"],[40,126,76,20],[40,127,77,17],[40,140,77,30],[40,142,77,32,"ref"],[40,145,77,35],[40,146,77,36],[42,8,79,8],[43,6,80,8],[43,7,80,9],[43,13,80,15],[43,17,80,19,"field"],[43,22,80,24],[43,23,80,25,"repeated"],[43,31,80,33],[43,33,80,35],[44,8,80,37,"gen"],[44,11,80,40],[44,12,82,17],[44,34,82,39],[44,36,82,41,"ref"],[44,39,82,44],[44,41,82,46,"ref"],[44,44,82,49],[44,45,82,50],[44,46,83,21],[44,53,83,28],[44,55,83,30,"ref"],[44,58,83,33],[44,59,83,34],[46,8,85,12],[47,8,86,12],[47,12,86,16,"types"],[47,17,86,21],[47,18,86,22,"packed"],[47,24,86,28],[47,25,86,29,"type"],[47,29,86,33],[47,30,86,34],[47,35,86,39,"undefined"],[47,44,86,48],[47,46,86,50,"gen"],[47,49,86,53],[47,50,87,17],[47,66,87,33],[47,67,87,34],[47,68,88,21],[47,93,88,46],[47,94,88,47],[47,95,89,21],[47,112,89,38],[47,113,89,39],[47,114,90,25],[47,131,90,42],[47,133,90,44,"ref"],[47,136,90,47],[47,138,90,49,"type"],[47,142,90,53],[47,143,90,54],[47,144,91,17],[47,151,91,24],[47,152,91,25],[49,8,93,12],[50,8,94,12],[50,12,94,16,"types"],[50,17,94,21],[50,18,94,22,"basic"],[50,23,94,27],[50,24,94,28,"type"],[50,28,94,32],[50,29,94,33],[50,34,94,38,"undefined"],[50,43,94,47],[50,45,94,49,"gen"],[50,48,94,52],[50,49,94,53,"field"],[50,54,94,58],[50,55,94,59,"resolvedType"],[50,67,94,71],[50,68,94,72,"group"],[50,73,94,77],[50,76,95,22],[50,106,95,52],[50,109,96,22],[50,150,96,63],[50,152,96,65,"ref"],[50,155,96,68],[50,157,96,70,"i"],[50,158,96,71],[50,159,96,72],[50,160,96,73],[50,165,97,17,"gen"],[50,168,97,20],[50,169,98,21],[50,186,98,38],[50,188,98,40,"ref"],[50,191,98,43],[50,193,98,45,"type"],[50,197,98,49],[50,198,98,50],[52,8,100,8],[53,6,101,8],[53,7,101,9],[53,13,101,15],[53,17,101,19,"types"],[53,22,101,24],[53,23,101,25,"basic"],[53,28,101,30],[53,29,101,31,"type"],[53,33,101,35],[53,34,101,36],[53,39,101,41,"undefined"],[53,48,101,50],[53,50,101,52,"gen"],[53,53,101,55],[53,54,101,56,"field"],[53,59,101,61],[53,60,101,62,"resolvedType"],[53,72,101,74],[53,73,101,75,"group"],[53,78,101,80],[53,81,102,18],[53,105,102,42],[53,108,103,18],[53,143,103,53],[53,145,103,55,"ref"],[53,148,103,58],[53,150,103,60,"i"],[53,151,103,61],[53,152,103,62],[53,153,103,63],[53,158,104,13,"gen"],[53,161,104,16],[53,162,105,17],[53,173,105,28],[53,175,105,30,"ref"],[53,178,105,33],[53,180,105,35,"type"],[53,184,105,39],[53,185,105,40],[54,6,106,8,"gen"],[54,9,106,11],[54,10,107,17],[54,17,107,24],[54,18,107,25],[54,19,108,13],[54,22,108,16],[54,23,108,17],[55,6,109,8],[56,4,110,4],[57,4,110,6,"gen"],[57,7,110,9],[57,8,111,13],[57,18,111,23],[57,19,111,24],[57,20,112,17],[57,37,112,34],[57,38,112,35],[57,39,113,17],[57,46,113,24],[57,47,113,25],[57,48,115,9],[57,51,115,12],[57,52,115,13],[57,53,116,5],[57,56,116,8],[57,57,116,9],[59,4,118,4],[60,4,119,4],[60,9,119,9,"i"],[60,10,119,10],[60,13,119,13],[60,14,119,14],[60,16,119,16,"i"],[60,17,119,17],[60,20,119,20,"mtype"],[60,25,119,25],[60,26,119,26,"_fieldsArray"],[60,38,119,38],[60,39,119,39,"length"],[60,45,119,45],[60,47,119,47],[60,49,119,49,"i"],[60,50,119,50],[60,52,119,52],[61,6,120,8],[61,10,120,12,"rfield"],[61,16,120,18],[61,19,120,21,"mtype"],[61,24,120,26],[61,25,120,27,"_fieldsArray"],[61,37,120,39],[61,38,120,40,"i"],[61,39,120,41],[61,40,120,42],[62,6,121,8],[62,10,121,12,"rfield"],[62,16,121,18],[62,17,121,19,"required"],[62,25,121,27],[62,27,121,29,"gen"],[62,30,121,32],[62,31,122,5],[62,58,122,32],[62,60,122,34,"rfield"],[62,66,122,40],[62,67,122,41,"name"],[62,71,122,45],[62,72,122,46],[62,73,123,9],[62,116,123,52],[62,118,123,54,"missing"],[62,125,123,61],[62,126,123,62,"rfield"],[62,132,123,68],[62,133,123,69],[62,134,123,70],[63,4,124,4],[64,4,126,4],[64,11,126,11,"gen"],[64,14,126,14],[64,15,127,5],[64,25,127,15],[64,26,127,16],[65,4,128,4],[66,2,129,0],[67,0,129,1],[67,3]],"functionMap":{"names":["<global>","missing","decoder","mtype.fieldsArray.filter$argument_0"],"mappings":"AAA;ACO;CDE;AEO;qFCK,qCD;CF2G"},"hasCjsExports":true},"type":"js/module"}]}