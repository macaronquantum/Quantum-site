{"dependencies":[{"name":"./_assert.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":65},"end":{"line":5,"column":54,"index":119}}],"key":"JuIzCx9oN0NamMZ1fsweFETOcFU=","exportNames":["*"],"imports":1}},{"name":"./utils.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":120},"end":{"line":6,"column":43,"index":163}}],"key":"NIaSEHO1E48gsZc7jH9Ex1xTHgE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"HMAC\", {\n    enumerable: true,\n    get: function () {\n      return HMAC;\n    }\n  });\n  Object.defineProperty(exports, \"hmac\", {\n    enumerable: true,\n    get: function () {\n      return hmac;\n    }\n  });\n  var _assertJs = require(_dependencyMap[0], \"./_assert.js\");\n  var _utilsJs = require(_dependencyMap[1], \"./utils.js\");\n  /**\n   * HMAC: RFC2104 message authentication code.\n   * @module\n   */\n\n  class HMAC extends _utilsJs.Hash {\n    constructor(hash, _key) {\n      super();\n      this.finished = false;\n      this.destroyed = false;\n      (0, _assertJs.ahash)(hash);\n      const key = (0, _utilsJs.toBytes)(_key);\n      this.iHash = hash.create();\n      if (typeof this.iHash.update !== 'function') throw new Error('Expected instance of class which extends utils.Hash');\n      this.blockLen = this.iHash.blockLen;\n      this.outputLen = this.iHash.outputLen;\n      const blockLen = this.blockLen;\n      const pad = new Uint8Array(blockLen);\n      // blockLen can be bigger than outputLen\n      pad.set(key.length > blockLen ? hash.create().update(key).digest() : key);\n      for (let i = 0; i < pad.length; i++) pad[i] ^= 0x36;\n      this.iHash.update(pad);\n      // By doing update (processing of first block) of outer hash here we can re-use it between multiple calls via clone\n      this.oHash = hash.create();\n      // Undo internal XOR && apply outer XOR\n      for (let i = 0; i < pad.length; i++) pad[i] ^= 0x36 ^ 0x5c;\n      this.oHash.update(pad);\n      pad.fill(0);\n    }\n    update(buf) {\n      (0, _assertJs.aexists)(this);\n      this.iHash.update(buf);\n      return this;\n    }\n    digestInto(out) {\n      (0, _assertJs.aexists)(this);\n      (0, _assertJs.abytes)(out, this.outputLen);\n      this.finished = true;\n      this.iHash.digestInto(out);\n      this.oHash.update(out);\n      this.oHash.digestInto(out);\n      this.destroy();\n    }\n    digest() {\n      const out = new Uint8Array(this.oHash.outputLen);\n      this.digestInto(out);\n      return out;\n    }\n    _cloneInto(to) {\n      // Create new instance without calling constructor since key already in state and we don't know it.\n      to || (to = Object.create(Object.getPrototypeOf(this), {}));\n      const {\n        oHash,\n        iHash,\n        finished,\n        destroyed,\n        blockLen,\n        outputLen\n      } = this;\n      to = to;\n      to.finished = finished;\n      to.destroyed = destroyed;\n      to.blockLen = blockLen;\n      to.outputLen = outputLen;\n      to.oHash = oHash._cloneInto(to.oHash);\n      to.iHash = iHash._cloneInto(to.iHash);\n      return to;\n    }\n    destroy() {\n      this.destroyed = true;\n      this.oHash.destroy();\n      this.iHash.destroy();\n    }\n  }\n  /**\n   * HMAC: RFC2104 message authentication code.\n   * @param hash - function that would be used e.g. sha256\n   * @param key - message key\n   * @param message - message data\n   * @example\n   * import { hmac } from '@noble/hashes/hmac';\n   * import { sha256 } from '@noble/hashes/sha2';\n   * const mac1 = hmac(sha256, 'key', 'message');\n   */\n  const hmac = (hash, key, message) => new HMAC(hash, key).update(message).digest();\n  hmac.create = (hash, key) => new HMAC(hash, key);\n});","lineCount":107,"map":[[7,2,7,0,"Object"],[7,8,7,0],[7,9,7,0,"defineProperty"],[7,23,7,0],[7,24,7,0,"exports"],[7,31,7,0],[8,4,7,0,"enumerable"],[8,14,7,0],[9,4,7,0,"get"],[9,7,7,0],[9,18,7,0,"get"],[9,19,7,0],[10,6,7,0],[10,13,7,0,"HMAC"],[10,17,7,0],[11,4,7,0],[12,2,7,0],[13,2,82,0,"Object"],[13,8,82,0],[13,9,82,0,"defineProperty"],[13,23,82,0],[13,24,82,0,"exports"],[13,31,82,0],[14,4,82,0,"enumerable"],[14,14,82,0],[15,4,82,0,"get"],[15,7,82,0],[15,18,82,0,"get"],[15,19,82,0],[16,6,82,0],[16,13,82,0,"hmac"],[16,17,82,0],[17,4,82,0],[18,2,82,0],[19,2,5,0],[19,6,5,0,"_assertJs"],[19,15,5,0],[19,18,5,0,"require"],[19,25,5,0],[19,26,5,0,"_dependencyMap"],[19,40,5,0],[20,2,6,0],[20,6,6,0,"_utilsJs"],[20,14,6,0],[20,17,6,0,"require"],[20,24,6,0],[20,25,6,0,"_dependencyMap"],[20,39,6,0],[21,2,1,0],[22,0,2,0],[23,0,3,0],[24,0,4,0],[26,2,7,7],[26,8,7,13,"HMAC"],[26,12,7,17],[26,21,7,26,"Hash"],[26,29,7,30],[26,30,7,30,"Hash"],[26,34,7,30],[26,35,7,31],[27,4,8,4,"constructor"],[27,15,8,15,"constructor"],[27,16,8,16,"hash"],[27,20,8,20],[27,22,8,22,"_key"],[27,26,8,26],[27,28,8,28],[28,6,9,8],[28,11,9,13],[28,12,9,14],[28,13,9,15],[29,6,10,8],[29,10,10,12],[29,11,10,13,"finished"],[29,19,10,21],[29,22,10,24],[29,27,10,29],[30,6,11,8],[30,10,11,12],[30,11,11,13,"destroyed"],[30,20,11,22],[30,23,11,25],[30,28,11,30],[31,6,12,8],[31,10,12,8,"ahash"],[31,19,12,13],[31,20,12,13,"ahash"],[31,25,12,13],[31,27,12,14,"hash"],[31,31,12,18],[31,32,12,19],[32,6,13,8],[32,12,13,14,"key"],[32,15,13,17],[32,18,13,20],[32,22,13,20,"toBytes"],[32,30,13,27],[32,31,13,27,"toBytes"],[32,38,13,27],[32,40,13,28,"_key"],[32,44,13,32],[32,45,13,33],[33,6,14,8],[33,10,14,12],[33,11,14,13,"iHash"],[33,16,14,18],[33,19,14,21,"hash"],[33,23,14,25],[33,24,14,26,"create"],[33,30,14,32],[33,31,14,33],[33,32,14,34],[34,6,15,8],[34,10,15,12],[34,17,15,19],[34,21,15,23],[34,22,15,24,"iHash"],[34,27,15,29],[34,28,15,30,"update"],[34,34,15,36],[34,39,15,41],[34,49,15,51],[34,51,16,12],[34,57,16,18],[34,61,16,22,"Error"],[34,66,16,27],[34,67,16,28],[34,120,16,81],[34,121,16,82],[35,6,17,8],[35,10,17,12],[35,11,17,13,"blockLen"],[35,19,17,21],[35,22,17,24],[35,26,17,28],[35,27,17,29,"iHash"],[35,32,17,34],[35,33,17,35,"blockLen"],[35,41,17,43],[36,6,18,8],[36,10,18,12],[36,11,18,13,"outputLen"],[36,20,18,22],[36,23,18,25],[36,27,18,29],[36,28,18,30,"iHash"],[36,33,18,35],[36,34,18,36,"outputLen"],[36,43,18,45],[37,6,19,8],[37,12,19,14,"blockLen"],[37,20,19,22],[37,23,19,25],[37,27,19,29],[37,28,19,30,"blockLen"],[37,36,19,38],[38,6,20,8],[38,12,20,14,"pad"],[38,15,20,17],[38,18,20,20],[38,22,20,24,"Uint8Array"],[38,32,20,34],[38,33,20,35,"blockLen"],[38,41,20,43],[38,42,20,44],[39,6,21,8],[40,6,22,8,"pad"],[40,9,22,11],[40,10,22,12,"set"],[40,13,22,15],[40,14,22,16,"key"],[40,17,22,19],[40,18,22,20,"length"],[40,24,22,26],[40,27,22,29,"blockLen"],[40,35,22,37],[40,38,22,40,"hash"],[40,42,22,44],[40,43,22,45,"create"],[40,49,22,51],[40,50,22,52],[40,51,22,53],[40,52,22,54,"update"],[40,58,22,60],[40,59,22,61,"key"],[40,62,22,64],[40,63,22,65],[40,64,22,66,"digest"],[40,70,22,72],[40,71,22,73],[40,72,22,74],[40,75,22,77,"key"],[40,78,22,80],[40,79,22,81],[41,6,23,8],[41,11,23,13],[41,15,23,17,"i"],[41,16,23,18],[41,19,23,21],[41,20,23,22],[41,22,23,24,"i"],[41,23,23,25],[41,26,23,28,"pad"],[41,29,23,31],[41,30,23,32,"length"],[41,36,23,38],[41,38,23,40,"i"],[41,39,23,41],[41,41,23,43],[41,43,24,12,"pad"],[41,46,24,15],[41,47,24,16,"i"],[41,48,24,17],[41,49,24,18],[41,53,24,22],[41,57,24,26],[42,6,25,8],[42,10,25,12],[42,11,25,13,"iHash"],[42,16,25,18],[42,17,25,19,"update"],[42,23,25,25],[42,24,25,26,"pad"],[42,27,25,29],[42,28,25,30],[43,6,26,8],[44,6,27,8],[44,10,27,12],[44,11,27,13,"oHash"],[44,16,27,18],[44,19,27,21,"hash"],[44,23,27,25],[44,24,27,26,"create"],[44,30,27,32],[44,31,27,33],[44,32,27,34],[45,6,28,8],[46,6,29,8],[46,11,29,13],[46,15,29,17,"i"],[46,16,29,18],[46,19,29,21],[46,20,29,22],[46,22,29,24,"i"],[46,23,29,25],[46,26,29,28,"pad"],[46,29,29,31],[46,30,29,32,"length"],[46,36,29,38],[46,38,29,40,"i"],[46,39,29,41],[46,41,29,43],[46,43,30,12,"pad"],[46,46,30,15],[46,47,30,16,"i"],[46,48,30,17],[46,49,30,18],[46,53,30,22],[46,57,30,26],[46,60,30,29],[46,64,30,33],[47,6,31,8],[47,10,31,12],[47,11,31,13,"oHash"],[47,16,31,18],[47,17,31,19,"update"],[47,23,31,25],[47,24,31,26,"pad"],[47,27,31,29],[47,28,31,30],[48,6,32,8,"pad"],[48,9,32,11],[48,10,32,12,"fill"],[48,14,32,16],[48,15,32,17],[48,16,32,18],[48,17,32,19],[49,4,33,4],[50,4,34,4,"update"],[50,10,34,10,"update"],[50,11,34,11,"buf"],[50,14,34,14],[50,16,34,16],[51,6,35,8],[51,10,35,8,"aexists"],[51,19,35,15],[51,20,35,15,"aexists"],[51,27,35,15],[51,29,35,16],[51,33,35,20],[51,34,35,21],[52,6,36,8],[52,10,36,12],[52,11,36,13,"iHash"],[52,16,36,18],[52,17,36,19,"update"],[52,23,36,25],[52,24,36,26,"buf"],[52,27,36,29],[52,28,36,30],[53,6,37,8],[53,13,37,15],[53,17,37,19],[54,4,38,4],[55,4,39,4,"digestInto"],[55,14,39,14,"digestInto"],[55,15,39,15,"out"],[55,18,39,18],[55,20,39,20],[56,6,40,8],[56,10,40,8,"aexists"],[56,19,40,15],[56,20,40,15,"aexists"],[56,27,40,15],[56,29,40,16],[56,33,40,20],[56,34,40,21],[57,6,41,8],[57,10,41,8,"abytes"],[57,19,41,14],[57,20,41,14,"abytes"],[57,26,41,14],[57,28,41,15,"out"],[57,31,41,18],[57,33,41,20],[57,37,41,24],[57,38,41,25,"outputLen"],[57,47,41,34],[57,48,41,35],[58,6,42,8],[58,10,42,12],[58,11,42,13,"finished"],[58,19,42,21],[58,22,42,24],[58,26,42,28],[59,6,43,8],[59,10,43,12],[59,11,43,13,"iHash"],[59,16,43,18],[59,17,43,19,"digestInto"],[59,27,43,29],[59,28,43,30,"out"],[59,31,43,33],[59,32,43,34],[60,6,44,8],[60,10,44,12],[60,11,44,13,"oHash"],[60,16,44,18],[60,17,44,19,"update"],[60,23,44,25],[60,24,44,26,"out"],[60,27,44,29],[60,28,44,30],[61,6,45,8],[61,10,45,12],[61,11,45,13,"oHash"],[61,16,45,18],[61,17,45,19,"digestInto"],[61,27,45,29],[61,28,45,30,"out"],[61,31,45,33],[61,32,45,34],[62,6,46,8],[62,10,46,12],[62,11,46,13,"destroy"],[62,18,46,20],[62,19,46,21],[62,20,46,22],[63,4,47,4],[64,4,48,4,"digest"],[64,10,48,10,"digest"],[64,11,48,10],[64,13,48,13],[65,6,49,8],[65,12,49,14,"out"],[65,15,49,17],[65,18,49,20],[65,22,49,24,"Uint8Array"],[65,32,49,34],[65,33,49,35],[65,37,49,39],[65,38,49,40,"oHash"],[65,43,49,45],[65,44,49,46,"outputLen"],[65,53,49,55],[65,54,49,56],[66,6,50,8],[66,10,50,12],[66,11,50,13,"digestInto"],[66,21,50,23],[66,22,50,24,"out"],[66,25,50,27],[66,26,50,28],[67,6,51,8],[67,13,51,15,"out"],[67,16,51,18],[68,4,52,4],[69,4,53,4,"_cloneInto"],[69,14,53,14,"_cloneInto"],[69,15,53,15,"to"],[69,17,53,17],[69,19,53,19],[70,6,54,8],[71,6,55,8,"to"],[71,8,55,10],[71,13,55,15,"to"],[71,15,55,17],[71,18,55,20,"Object"],[71,24,55,26],[71,25,55,27,"create"],[71,31,55,33],[71,32,55,34,"Object"],[71,38,55,40],[71,39,55,41,"getPrototypeOf"],[71,53,55,55],[71,54,55,56],[71,58,55,60],[71,59,55,61],[71,61,55,63],[71,62,55,64],[71,63,55,65],[71,64,55,66],[71,65,55,67],[72,6,56,8],[72,12,56,14],[73,8,56,16,"oHash"],[73,13,56,21],[74,8,56,23,"iHash"],[74,13,56,28],[75,8,56,30,"finished"],[75,16,56,38],[76,8,56,40,"destroyed"],[76,17,56,49],[77,8,56,51,"blockLen"],[77,16,56,59],[78,8,56,61,"outputLen"],[79,6,56,71],[79,7,56,72],[79,10,56,75],[79,14,56,79],[80,6,57,8,"to"],[80,8,57,10],[80,11,57,13,"to"],[80,13,57,15],[81,6,58,8,"to"],[81,8,58,10],[81,9,58,11,"finished"],[81,17,58,19],[81,20,58,22,"finished"],[81,28,58,30],[82,6,59,8,"to"],[82,8,59,10],[82,9,59,11,"destroyed"],[82,18,59,20],[82,21,59,23,"destroyed"],[82,30,59,32],[83,6,60,8,"to"],[83,8,60,10],[83,9,60,11,"blockLen"],[83,17,60,19],[83,20,60,22,"blockLen"],[83,28,60,30],[84,6,61,8,"to"],[84,8,61,10],[84,9,61,11,"outputLen"],[84,18,61,20],[84,21,61,23,"outputLen"],[84,30,61,32],[85,6,62,8,"to"],[85,8,62,10],[85,9,62,11,"oHash"],[85,14,62,16],[85,17,62,19,"oHash"],[85,22,62,24],[85,23,62,25,"_cloneInto"],[85,33,62,35],[85,34,62,36,"to"],[85,36,62,38],[85,37,62,39,"oHash"],[85,42,62,44],[85,43,62,45],[86,6,63,8,"to"],[86,8,63,10],[86,9,63,11,"iHash"],[86,14,63,16],[86,17,63,19,"iHash"],[86,22,63,24],[86,23,63,25,"_cloneInto"],[86,33,63,35],[86,34,63,36,"to"],[86,36,63,38],[86,37,63,39,"iHash"],[86,42,63,44],[86,43,63,45],[87,6,64,8],[87,13,64,15,"to"],[87,15,64,17],[88,4,65,4],[89,4,66,4,"destroy"],[89,11,66,11,"destroy"],[89,12,66,11],[89,14,66,14],[90,6,67,8],[90,10,67,12],[90,11,67,13,"destroyed"],[90,20,67,22],[90,23,67,25],[90,27,67,29],[91,6,68,8],[91,10,68,12],[91,11,68,13,"oHash"],[91,16,68,18],[91,17,68,19,"destroy"],[91,24,68,26],[91,25,68,27],[91,26,68,28],[92,6,69,8],[92,10,69,12],[92,11,69,13,"iHash"],[92,16,69,18],[92,17,69,19,"destroy"],[92,24,69,26],[92,25,69,27],[92,26,69,28],[93,4,70,4],[94,2,71,0],[95,2,72,0],[96,0,73,0],[97,0,74,0],[98,0,75,0],[99,0,76,0],[100,0,77,0],[101,0,78,0],[102,0,79,0],[103,0,80,0],[104,0,81,0],[105,2,82,7],[105,8,82,13,"hmac"],[105,12,82,17],[105,15,82,20,"hmac"],[105,16,82,21,"hash"],[105,20,82,25],[105,22,82,27,"key"],[105,25,82,30],[105,27,82,32,"message"],[105,34,82,39],[105,39,82,44],[105,43,82,48,"HMAC"],[105,47,82,52],[105,48,82,53,"hash"],[105,52,82,57],[105,54,82,59,"key"],[105,57,82,62],[105,58,82,63],[105,59,82,64,"update"],[105,65,82,70],[105,66,82,71,"message"],[105,73,82,78],[105,74,82,79],[105,75,82,80,"digest"],[105,81,82,86],[105,82,82,87],[105,83,82,88],[106,2,83,0,"hmac"],[106,6,83,4],[106,7,83,5,"create"],[106,13,83,11],[106,16,83,14],[106,17,83,15,"hash"],[106,21,83,19],[106,23,83,21,"key"],[106,26,83,24],[106,31,83,29],[106,35,83,33,"HMAC"],[106,39,83,37],[106,40,83,38,"hash"],[106,44,83,42],[106,46,83,44,"key"],[106,49,83,47],[106,50,83,48],[107,0,83,49],[107,3]],"functionMap":{"names":["<global>","HMAC","HMAC#constructor","HMAC#update","HMAC#digestInto","HMAC#digest","HMAC#_cloneInto","HMAC#destroy","hmac","create"],"mappings":"AAA;OCM;ICC;KDyB;IEC;KFI;IGC;KHQ;IIC;KJI;IKC;KLY;IMC;KNI;CDC;oBQW,oER;cSC,kCT"},"hasCjsExports":false},"type":"js/module"}]}