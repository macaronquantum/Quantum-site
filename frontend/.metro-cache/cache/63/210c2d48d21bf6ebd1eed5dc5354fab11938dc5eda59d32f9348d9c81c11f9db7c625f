{"dependencies":[{"name":"../errors/address.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":59,"index":59}}],"key":"djRg4iMlmYwR0YX7eauR7MRyp6M=","exportNames":["*"],"imports":1}},{"name":"../utils/address/isAddress.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":60},"end":{"line":2,"column":58,"index":118}}],"key":"ES12wvLQlWl5BANunhbMf0pflHw=","exportNames":["*"],"imports":1}},{"name":"../utils/data/concat.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":119},"end":{"line":3,"column":52,"index":171}}],"key":"PcPQ3IUMLG6HqCUxfcHzol/8QlI=","exportNames":["*"],"imports":1}},{"name":"../utils/encoding/toHex.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":172},"end":{"line":4,"column":51,"index":223}}],"key":"fyH4SVpgraMFpm6byA+NQZlzf0Q=","exportNames":["*"],"imports":1}},{"name":"../utils/encoding/toRlp.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":224},"end":{"line":5,"column":51,"index":275}}],"key":"p19m1DEXbXhcXjZvn5gwI0Pg/QU=","exportNames":["*"],"imports":1}},{"name":"../utils/transaction/serializeTransaction.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":276},"end":{"line":6,"column":110,"index":386}}],"key":"TdZV5/VwNS97p1Umj+FFpaWJwuI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.serializeTransaction = serializeTransaction;\n  Object.defineProperty(exports, \"serializers\", {\n    enumerable: true,\n    get: function () {\n      return serializers;\n    }\n  });\n  exports.assertTransactionDeposit = assertTransactionDeposit;\n  var _errorsAddressJs = require(_dependencyMap[0], \"../errors/address.js\");\n  var _utilsAddressIsAddressJs = require(_dependencyMap[1], \"../utils/address/isAddress.js\");\n  var _utilsDataConcatJs = require(_dependencyMap[2], \"../utils/data/concat.js\");\n  var _utilsEncodingToHexJs = require(_dependencyMap[3], \"../utils/encoding/toHex.js\");\n  var _utilsEncodingToRlpJs = require(_dependencyMap[4], \"../utils/encoding/toRlp.js\");\n  var _utilsTransactionSerializeTransactionJs = require(_dependencyMap[5], \"../utils/transaction/serializeTransaction.js\");\n  function serializeTransaction(transaction, signature) {\n    if (isDeposit(transaction)) return serializeTransactionDeposit(transaction);\n    return (0, _utilsTransactionSerializeTransactionJs.serializeTransaction)(transaction, signature);\n  }\n  const serializers = {\n    transaction: serializeTransaction\n  };\n  function serializeTransactionDeposit(transaction) {\n    assertTransactionDeposit(transaction);\n    const {\n      sourceHash,\n      data,\n      from,\n      gas,\n      isSystemTx,\n      mint,\n      to,\n      value\n    } = transaction;\n    const serializedTransaction = [sourceHash, from, to ?? '0x', mint ? (0, _utilsEncodingToHexJs.toHex)(mint) : '0x', value ? (0, _utilsEncodingToHexJs.toHex)(value) : '0x', gas ? (0, _utilsEncodingToHexJs.toHex)(gas) : '0x', isSystemTx ? '0x1' : '0x', data ?? '0x'];\n    return (0, _utilsDataConcatJs.concatHex)(['0x7e', (0, _utilsEncodingToRlpJs.toRlp)(serializedTransaction)]);\n  }\n  function isDeposit(transaction) {\n    if (transaction.type === 'deposit') return true;\n    if (typeof transaction.sourceHash !== 'undefined') return true;\n    return false;\n  }\n  function assertTransactionDeposit(transaction) {\n    const {\n      from,\n      to\n    } = transaction;\n    if (from && !(0, _utilsAddressIsAddressJs.isAddress)(from)) throw new _errorsAddressJs.InvalidAddressError({\n      address: from\n    });\n    if (to && !(0, _utilsAddressIsAddressJs.isAddress)(to)) throw new _errorsAddressJs.InvalidAddressError({\n      address: to\n    });\n  }\n});","lineCount":60,"map":[[7,2,7,0,"exports"],[7,9,7,0],[7,10,7,0,"serializeTransaction"],[7,30,7,0],[7,33,7,0,"serializeTransaction"],[7,53,7,0],[8,2,12,0,"Object"],[8,8,12,0],[8,9,12,0,"defineProperty"],[8,23,12,0],[8,24,12,0,"exports"],[8,31,12,0],[9,4,12,0,"enumerable"],[9,14,12,0],[10,4,12,0,"get"],[10,7,12,0],[10,18,12,0,"get"],[10,19,12,0],[11,6,12,0],[11,13,12,0,"serializers"],[11,24,12,0],[12,4,12,0],[13,2,12,0],[14,2,40,0,"exports"],[14,9,40,0],[14,10,40,0,"assertTransactionDeposit"],[14,34,40,0],[14,37,40,0,"assertTransactionDeposit"],[14,61,40,0],[15,2,1,0],[15,6,1,0,"_errorsAddressJs"],[15,22,1,0],[15,25,1,0,"require"],[15,32,1,0],[15,33,1,0,"_dependencyMap"],[15,47,1,0],[16,2,2,0],[16,6,2,0,"_utilsAddressIsAddressJs"],[16,30,2,0],[16,33,2,0,"require"],[16,40,2,0],[16,41,2,0,"_dependencyMap"],[16,55,2,0],[17,2,3,0],[17,6,3,0,"_utilsDataConcatJs"],[17,24,3,0],[17,27,3,0,"require"],[17,34,3,0],[17,35,3,0,"_dependencyMap"],[17,49,3,0],[18,2,4,0],[18,6,4,0,"_utilsEncodingToHexJs"],[18,27,4,0],[18,30,4,0,"require"],[18,37,4,0],[18,38,4,0,"_dependencyMap"],[18,52,4,0],[19,2,5,0],[19,6,5,0,"_utilsEncodingToRlpJs"],[19,27,5,0],[19,30,5,0,"require"],[19,37,5,0],[19,38,5,0,"_dependencyMap"],[19,52,5,0],[20,2,6,0],[20,6,6,0,"_utilsTransactionSerializeTransactionJs"],[20,45,6,0],[20,48,6,0,"require"],[20,55,6,0],[20,56,6,0,"_dependencyMap"],[20,70,6,0],[21,2,7,7],[21,11,7,16,"serializeTransaction"],[21,31,7,36,"serializeTransaction"],[21,32,7,37,"transaction"],[21,43,7,48],[21,45,7,50,"signature"],[21,54,7,59],[21,56,7,61],[22,4,8,4],[22,8,8,8,"isDeposit"],[22,17,8,17],[22,18,8,18,"transaction"],[22,29,8,29],[22,30,8,30],[22,32,9,8],[22,39,9,15,"serializeTransactionDeposit"],[22,66,9,42],[22,67,9,43,"transaction"],[22,78,9,54],[22,79,9,55],[23,4,10,4],[23,11,10,11],[23,15,10,11,"serializeTransaction_"],[23,54,10,32],[23,55,10,32,"serializeTransaction"],[23,75,10,32],[23,77,10,33,"transaction"],[23,88,10,44],[23,90,10,46,"signature"],[23,99,10,55],[23,100,10,56],[24,2,11,0],[25,2,12,7],[25,8,12,13,"serializers"],[25,19,12,24],[25,22,12,27],[26,4,13,4,"transaction"],[26,15,13,15],[26,17,13,17,"serializeTransaction"],[27,2,14,0],[27,3,14,1],[28,2,15,0],[28,11,15,9,"serializeTransactionDeposit"],[28,38,15,36,"serializeTransactionDeposit"],[28,39,15,37,"transaction"],[28,50,15,48],[28,52,15,50],[29,4,16,4,"assertTransactionDeposit"],[29,28,16,28],[29,29,16,29,"transaction"],[29,40,16,40],[29,41,16,41],[30,4,17,4],[30,10,17,10],[31,6,17,12,"sourceHash"],[31,16,17,22],[32,6,17,24,"data"],[32,10,17,28],[33,6,17,30,"from"],[33,10,17,34],[34,6,17,36,"gas"],[34,9,17,39],[35,6,17,41,"isSystemTx"],[35,16,17,51],[36,6,17,53,"mint"],[36,10,17,57],[37,6,17,59,"to"],[37,8,17,61],[38,6,17,63,"value"],[39,4,17,69],[39,5,17,70],[39,8,17,73,"transaction"],[39,19,17,84],[40,4,18,4],[40,10,18,10,"serializedTransaction"],[40,31,18,31],[40,34,18,34],[40,35,19,8,"sourceHash"],[40,45,19,18],[40,47,20,8,"from"],[40,51,20,12],[40,53,21,8,"to"],[40,55,21,10],[40,59,21,14],[40,63,21,18],[40,65,22,8,"mint"],[40,69,22,12],[40,72,22,15],[40,76,22,15,"toHex"],[40,97,22,20],[40,98,22,20,"toHex"],[40,103,22,20],[40,105,22,21,"mint"],[40,109,22,25],[40,110,22,26],[40,113,22,29],[40,117,22,33],[40,119,23,8,"value"],[40,124,23,13],[40,127,23,16],[40,131,23,16,"toHex"],[40,152,23,21],[40,153,23,21,"toHex"],[40,158,23,21],[40,160,23,22,"value"],[40,165,23,27],[40,166,23,28],[40,169,23,31],[40,173,23,35],[40,175,24,8,"gas"],[40,178,24,11],[40,181,24,14],[40,185,24,14,"toHex"],[40,206,24,19],[40,207,24,19,"toHex"],[40,212,24,19],[40,214,24,20,"gas"],[40,217,24,23],[40,218,24,24],[40,221,24,27],[40,225,24,31],[40,227,25,8,"isSystemTx"],[40,237,25,18],[40,240,25,21],[40,245,25,26],[40,248,25,29],[40,252,25,33],[40,254,26,8,"data"],[40,258,26,12],[40,262,26,16],[40,266,26,20],[40,267,27,5],[41,4,28,4],[41,11,28,11],[41,15,28,11,"concatHex"],[41,33,28,20],[41,34,28,20,"concatHex"],[41,43,28,20],[41,45,28,21],[41,46,29,8],[41,52,29,14],[41,54,30,8],[41,58,30,8,"toRlp"],[41,79,30,13],[41,80,30,13,"toRlp"],[41,85,30,13],[41,87,30,14,"serializedTransaction"],[41,108,30,35],[41,109,30,36],[41,110,31,5],[41,111,31,6],[42,2,32,0],[43,2,33,0],[43,11,33,9,"isDeposit"],[43,20,33,18,"isDeposit"],[43,21,33,19,"transaction"],[43,32,33,30],[43,34,33,32],[44,4,34,4],[44,8,34,8,"transaction"],[44,19,34,19],[44,20,34,20,"type"],[44,24,34,24],[44,29,34,29],[44,38,34,38],[44,40,35,8],[44,47,35,15],[44,51,35,19],[45,4,36,4],[45,8,36,8],[45,15,36,15,"transaction"],[45,26,36,26],[45,27,36,27,"sourceHash"],[45,37,36,37],[45,42,36,42],[45,53,36,53],[45,55,37,8],[45,62,37,15],[45,66,37,19],[46,4,38,4],[46,11,38,11],[46,16,38,16],[47,2,39,0],[48,2,40,7],[48,11,40,16,"assertTransactionDeposit"],[48,35,40,40,"assertTransactionDeposit"],[48,36,40,41,"transaction"],[48,47,40,52],[48,49,40,54],[49,4,41,4],[49,10,41,10],[50,6,41,12,"from"],[50,10,41,16],[51,6,41,18,"to"],[52,4,41,21],[52,5,41,22],[52,8,41,25,"transaction"],[52,19,41,36],[53,4,42,4],[53,8,42,8,"from"],[53,12,42,12],[53,16,42,16],[53,17,42,17],[53,21,42,17,"isAddress"],[53,45,42,26],[53,46,42,26,"isAddress"],[53,55,42,26],[53,57,42,27,"from"],[53,61,42,31],[53,62,42,32],[53,64,43,8],[53,70,43,14],[53,74,43,18,"InvalidAddressError"],[53,90,43,37],[53,91,43,37,"InvalidAddressError"],[53,110,43,37],[53,111,43,38],[54,6,43,40,"address"],[54,13,43,47],[54,15,43,49,"from"],[55,4,43,54],[55,5,43,55],[55,6,43,56],[56,4,44,4],[56,8,44,8,"to"],[56,10,44,10],[56,14,44,14],[56,15,44,15],[56,19,44,15,"isAddress"],[56,43,44,24],[56,44,44,24,"isAddress"],[56,53,44,24],[56,55,44,25,"to"],[56,57,44,27],[56,58,44,28],[56,60,45,8],[56,66,45,14],[56,70,45,18,"InvalidAddressError"],[56,86,45,37],[56,87,45,37,"InvalidAddressError"],[56,106,45,37],[56,107,45,38],[57,6,45,40,"address"],[57,13,45,47],[57,15,45,49,"to"],[58,4,45,52],[58,5,45,53],[58,6,45,54],[59,2,46,0],[60,0,46,1],[60,3]],"functionMap":{"names":["<global>","serializeTransaction","serializeTransactionDeposit","isDeposit","assertTransactionDeposit"],"mappings":"AAA;OCM;CDI;AEI;CFiB;AGC;CHM;OIC;CJM"},"hasCjsExports":false},"type":"js/module"}]}