{"dependencies":[{"name":"../data/isHex.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":41,"index":41}}],"key":"NhiexdC6BtPYhT7eyfi4LNFFKTs=","exportNames":["*"],"imports":1}},{"name":"../data/size.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":42},"end":{"line":2,"column":39,"index":81}}],"key":"U4xVlv6fru75wWM2ksCXz7lLGZk=","exportNames":["*"],"imports":1}},{"name":"../encoding/fromHex.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":82},"end":{"line":3,"column":67,"index":149}}],"key":"tPRb/LmYZw+KWpPxVF48i1uoQUQ=","exportNames":["*"],"imports":1}},{"name":"../encoding/toHex.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":150},"end":{"line":4,"column":45,"index":195}}],"key":"1u7+Hy8ShwFUBPl4caP50RjfjdI=","exportNames":["*"],"imports":1}},{"name":"@noble/curves/secp256k1","data":{"asyncType":"async","isESMImport":true,"locs":[{"start":{"line":7,"column":32,"index":345},"end":{"line":7,"column":65,"index":378}}],"key":"9bAkH0pi0OOa8gXk+nMfpsTwdco=","exportNames":["*"],"imports":1}},{"name":"expo/internal/async-require-module","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":26,"index":339},"end":{"line":7,"column":65,"index":378}}],"key":"y8mhXL4zKvSVvgnacXXOn0UU+QQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.recoverPublicKey = recoverPublicKey;\n  var _dataIsHexJs = require(_dependencyMap[0], \"../data/isHex.js\");\n  var _dataSizeJs = require(_dependencyMap[1], \"../data/size.js\");\n  var _encodingFromHexJs = require(_dependencyMap[2], \"../encoding/fromHex.js\");\n  var _encodingToHexJs = require(_dependencyMap[3], \"../encoding/toHex.js\");\n  async function recoverPublicKey({\n    hash,\n    signature\n  }) {\n    const hashHex = (0, _dataIsHexJs.isHex)(hash) ? hash : (0, _encodingToHexJs.toHex)(hash);\n    const {\n      secp256k1\n    } = await require(_dependencyMap[5], \"expo/internal/async-require-module\")(_dependencyMap[4], _dependencyMap.paths, \"@noble/curves/secp256k1\");\n    const signature_ = (() => {\n      // typeof signature: `Signature`\n      if (typeof signature === 'object' && 'r' in signature && 's' in signature) {\n        const {\n          r,\n          s,\n          v,\n          yParity\n        } = signature;\n        const yParityOrV = Number(yParity ?? v);\n        const recoveryBit = toRecoveryBit(yParityOrV);\n        return new secp256k1.Signature((0, _encodingFromHexJs.hexToBigInt)(r), (0, _encodingFromHexJs.hexToBigInt)(s)).addRecoveryBit(recoveryBit);\n      }\n      // typeof signature: `Hex | ByteArray`\n      const signatureHex = (0, _dataIsHexJs.isHex)(signature) ? signature : (0, _encodingToHexJs.toHex)(signature);\n      if ((0, _dataSizeJs.size)(signatureHex) !== 65) throw new Error('invalid signature length');\n      const yParityOrV = (0, _encodingFromHexJs.hexToNumber)(`0x${signatureHex.slice(130)}`);\n      const recoveryBit = toRecoveryBit(yParityOrV);\n      return secp256k1.Signature.fromCompact(signatureHex.substring(2, 130)).addRecoveryBit(recoveryBit);\n    })();\n    const publicKey = signature_.recoverPublicKey(hashHex.substring(2)).toHex(false);\n    return `0x${publicKey}`;\n  }\n  function toRecoveryBit(yParityOrV) {\n    if (yParityOrV === 0 || yParityOrV === 1) return yParityOrV;\n    if (yParityOrV === 27) return 0;\n    if (yParityOrV === 28) return 1;\n    throw new Error('Invalid yParityOrV value');\n  }\n});","lineCount":49,"map":[[7,2,5,0,"exports"],[7,9,5,0],[7,10,5,0,"recoverPublicKey"],[7,26,5,0],[7,29,5,0,"recoverPublicKey"],[7,45,5,0],[8,2,1,0],[8,6,1,0,"_dataIsHexJs"],[8,18,1,0],[8,21,1,0,"require"],[8,28,1,0],[8,29,1,0,"_dependencyMap"],[8,43,1,0],[9,2,2,0],[9,6,2,0,"_dataSizeJs"],[9,17,2,0],[9,20,2,0,"require"],[9,27,2,0],[9,28,2,0,"_dependencyMap"],[9,42,2,0],[10,2,3,0],[10,6,3,0,"_encodingFromHexJs"],[10,24,3,0],[10,27,3,0,"require"],[10,34,3,0],[10,35,3,0,"_dependencyMap"],[10,49,3,0],[11,2,4,0],[11,6,4,0,"_encodingToHexJs"],[11,22,4,0],[11,25,4,0,"require"],[11,32,4,0],[11,33,4,0,"_dependencyMap"],[11,47,4,0],[12,2,5,7],[12,17,5,22,"recoverPublicKey"],[12,33,5,38,"recoverPublicKey"],[12,34,5,39],[13,4,5,41,"hash"],[13,8,5,45],[14,4,5,47,"signature"],[15,2,5,58],[15,3,5,59],[15,5,5,61],[16,4,6,4],[16,10,6,10,"hashHex"],[16,17,6,17],[16,20,6,20],[16,24,6,20,"isHex"],[16,36,6,25],[16,37,6,25,"isHex"],[16,42,6,25],[16,44,6,26,"hash"],[16,48,6,30],[16,49,6,31],[16,52,6,34,"hash"],[16,56,6,38],[16,59,6,41],[16,63,6,41,"toHex"],[16,79,6,46],[16,80,6,46,"toHex"],[16,85,6,46],[16,87,6,47,"hash"],[16,91,6,51],[16,92,6,52],[17,4,7,4],[17,10,7,10],[18,6,7,12,"secp256k1"],[19,4,7,22],[19,5,7,23],[19,8,7,26],[19,14,7,26,"require"],[19,21,7,26],[19,22,7,26,"_dependencyMap"],[19,36,7,26],[19,79,7,26,"_dependencyMap"],[19,93,7,26],[19,98,7,26,"_dependencyMap"],[19,112,7,26],[19,113,7,26,"paths"],[19,118,7,26],[19,146,7,65],[20,4,8,4],[20,10,8,10,"signature_"],[20,20,8,20],[20,23,8,23],[20,24,8,24],[20,30,8,30],[21,6,9,8],[22,6,10,8],[22,10,10,12],[22,17,10,19,"signature"],[22,26,10,28],[22,31,10,33],[22,39,10,41],[22,43,10,45],[22,46,10,48],[22,50,10,52,"signature"],[22,59,10,61],[22,63,10,65],[22,66,10,68],[22,70,10,72,"signature"],[22,79,10,81],[22,81,10,83],[23,8,11,12],[23,14,11,18],[24,10,11,20,"r"],[24,11,11,21],[25,10,11,23,"s"],[25,11,11,24],[26,10,11,26,"v"],[26,11,11,27],[27,10,11,29,"yParity"],[28,8,11,37],[28,9,11,38],[28,12,11,41,"signature"],[28,21,11,50],[29,8,12,12],[29,14,12,18,"yParityOrV"],[29,24,12,28],[29,27,12,31,"Number"],[29,33,12,37],[29,34,12,38,"yParity"],[29,41,12,45],[29,45,12,49,"v"],[29,46,12,50],[29,47,12,51],[30,8,13,12],[30,14,13,18,"recoveryBit"],[30,25,13,29],[30,28,13,32,"toRecoveryBit"],[30,41,13,45],[30,42,13,46,"yParityOrV"],[30,52,13,56],[30,53,13,57],[31,8,14,12],[31,15,14,19],[31,19,14,23,"secp256k1"],[31,28,14,32],[31,29,14,33,"Signature"],[31,38,14,42],[31,39,14,43],[31,43,14,43,"hexToBigInt"],[31,61,14,54],[31,62,14,54,"hexToBigInt"],[31,73,14,54],[31,75,14,55,"r"],[31,76,14,56],[31,77,14,57],[31,79,14,59],[31,83,14,59,"hexToBigInt"],[31,101,14,70],[31,102,14,70,"hexToBigInt"],[31,113,14,70],[31,115,14,71,"s"],[31,116,14,72],[31,117,14,73],[31,118,14,74],[31,119,14,75,"addRecoveryBit"],[31,133,14,89],[31,134,14,90,"recoveryBit"],[31,145,14,101],[31,146,14,102],[32,6,15,8],[33,6,16,8],[34,6,17,8],[34,12,17,14,"signatureHex"],[34,24,17,26],[34,27,17,29],[34,31,17,29,"isHex"],[34,43,17,34],[34,44,17,34,"isHex"],[34,49,17,34],[34,51,17,35,"signature"],[34,60,17,44],[34,61,17,45],[34,64,17,48,"signature"],[34,73,17,57],[34,76,17,60],[34,80,17,60,"toHex"],[34,96,17,65],[34,97,17,65,"toHex"],[34,102,17,65],[34,104,17,66,"signature"],[34,113,17,75],[34,114,17,76],[35,6,18,8],[35,10,18,12],[35,14,18,12,"size"],[35,25,18,16],[35,26,18,16,"size"],[35,30,18,16],[35,32,18,17,"signatureHex"],[35,44,18,29],[35,45,18,30],[35,50,18,35],[35,52,18,37],[35,54,19,12],[35,60,19,18],[35,64,19,22,"Error"],[35,69,19,27],[35,70,19,28],[35,96,19,54],[35,97,19,55],[36,6,20,8],[36,12,20,14,"yParityOrV"],[36,22,20,24],[36,25,20,27],[36,29,20,27,"hexToNumber"],[36,47,20,38],[36,48,20,38,"hexToNumber"],[36,59,20,38],[36,61,20,39],[36,66,20,44,"signatureHex"],[36,78,20,56],[36,79,20,57,"slice"],[36,84,20,62],[36,85,20,63],[36,88,20,66],[36,89,20,67],[36,91,20,69],[36,92,20,70],[37,6,21,8],[37,12,21,14,"recoveryBit"],[37,23,21,25],[37,26,21,28,"toRecoveryBit"],[37,39,21,41],[37,40,21,42,"yParityOrV"],[37,50,21,52],[37,51,21,53],[38,6,22,8],[38,13,22,15,"secp256k1"],[38,22,22,24],[38,23,22,25,"Signature"],[38,32,22,34],[38,33,22,35,"fromCompact"],[38,44,22,46],[38,45,22,47,"signatureHex"],[38,57,22,59],[38,58,22,60,"substring"],[38,67,22,69],[38,68,22,70],[38,69,22,71],[38,71,22,73],[38,74,22,76],[38,75,22,77],[38,76,22,78],[38,77,22,79,"addRecoveryBit"],[38,91,22,93],[38,92,22,94,"recoveryBit"],[38,103,22,105],[38,104,22,106],[39,4,23,4],[39,5,23,5],[39,7,23,7],[39,8,23,8],[40,4,24,4],[40,10,24,10,"publicKey"],[40,19,24,19],[40,22,24,22,"signature_"],[40,32,24,32],[40,33,25,9,"recoverPublicKey"],[40,49,25,25],[40,50,25,26,"hashHex"],[40,57,25,33],[40,58,25,34,"substring"],[40,67,25,43],[40,68,25,44],[40,69,25,45],[40,70,25,46],[40,71,25,47],[40,72,26,9,"toHex"],[40,77,26,14],[40,78,26,15],[40,83,26,20],[40,84,26,21],[41,4,27,4],[41,11,27,11],[41,16,27,16,"publicKey"],[41,25,27,25],[41,27,27,27],[42,2,28,0],[43,2,29,0],[43,11,29,9,"toRecoveryBit"],[43,24,29,22,"toRecoveryBit"],[43,25,29,23,"yParityOrV"],[43,35,29,33],[43,37,29,35],[44,4,30,4],[44,8,30,8,"yParityOrV"],[44,18,30,18],[44,23,30,23],[44,24,30,24],[44,28,30,28,"yParityOrV"],[44,38,30,38],[44,43,30,43],[44,44,30,44],[44,46,31,8],[44,53,31,15,"yParityOrV"],[44,63,31,25],[45,4,32,4],[45,8,32,8,"yParityOrV"],[45,18,32,18],[45,23,32,23],[45,25,32,25],[45,27,33,8],[45,34,33,15],[45,35,33,16],[46,4,34,4],[46,8,34,8,"yParityOrV"],[46,18,34,18],[46,23,34,23],[46,25,34,25],[46,27,35,8],[46,34,35,15],[46,35,35,16],[47,4,36,4],[47,10,36,10],[47,14,36,14,"Error"],[47,19,36,19],[47,20,36,20],[47,46,36,46],[47,47,36,47],[48,2,37,0],[49,0,37,1],[49,3]],"functionMap":{"names":["<global>","recoverPublicKey","<anonymous>","toRecoveryBit"],"mappings":"AAA;OCI;wBCG;KDe;CDK;AGC;CHQ"},"hasCjsExports":false},"type":"js/module"}]}