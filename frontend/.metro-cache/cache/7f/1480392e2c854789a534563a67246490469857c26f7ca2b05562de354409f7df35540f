{"dependencies":[{"name":"../../errors/node.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":62,"index":62}}],"key":"77WMnM7SznuAKwCFdGhR5ZXGxsM=","exportNames":["*"],"imports":1}},{"name":"../../errors/rpc.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":63},"end":{"line":2,"column":93,"index":156}}],"key":"zzuuH+nFKSb2Q8jW2Edg8fdhe/g=","exportNames":["*"],"imports":1}},{"name":"../../utils/wait.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":157},"end":{"line":3,"column":43,"index":200}}],"key":"NKuI88+z+kJiTc2V0TuFKnDBBps=","exportNames":["*"],"imports":1}},{"name":"./createTransport.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":201},"end":{"line":4,"column":56,"index":257}}],"key":"IMAs7VdCtDa1Nl7Tey+wGJLFCUk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.fallback = fallback;\n  exports.rankTransports = rankTransports;\n  var _errorsNodeJs = require(_dependencyMap[0], \"../../errors/node.js\");\n  var _errorsRpcJs = require(_dependencyMap[1], \"../../errors/rpc.js\");\n  var _utilsWaitJs = require(_dependencyMap[2], \"../../utils/wait.js\");\n  var _createTransportJs = require(_dependencyMap[3], \"./createTransport.js\");\n  function fallback(transports_, config = {}) {\n    const {\n      key = 'fallback',\n      name = 'Fallback',\n      rank = false,\n      retryCount,\n      retryDelay\n    } = config;\n    return ({\n      chain,\n      pollingInterval = 4_000,\n      timeout,\n      ...rest\n    }) => {\n      let transports = transports_;\n      let onResponse = () => {};\n      const transport = (0, _createTransportJs.createTransport)({\n        key,\n        name,\n        async request({\n          method,\n          params\n        }) {\n          let includes;\n          const fetch = async (i = 0) => {\n            const transport = transports[i]({\n              ...rest,\n              chain,\n              retryCount: 0,\n              timeout\n            });\n            try {\n              const response = await transport.request({\n                method,\n                params\n              });\n              onResponse({\n                method,\n                params: params,\n                response,\n                transport,\n                status: 'success'\n              });\n              return response;\n            } catch (err) {\n              onResponse({\n                error: err,\n                method,\n                params: params,\n                transport,\n                status: 'error'\n              });\n              if (shouldThrow(err)) throw err;\n              // If we've reached the end of the fallbacks, throw the error.\n              if (i === transports.length - 1) throw err;\n              // Check if at least one other transport includes the method\n              includes ??= transports.slice(i + 1).some(transport => {\n                const {\n                  include,\n                  exclude\n                } = transport({\n                  chain\n                }).config.methods || {};\n                if (include) return include.includes(method);\n                if (exclude) return !exclude.includes(method);\n                return true;\n              });\n              if (!includes) throw err;\n              // Otherwise, try the next fallback.\n              return fetch(i + 1);\n            }\n          };\n          return fetch();\n        },\n        retryCount,\n        retryDelay,\n        type: 'fallback'\n      }, {\n        onResponse: fn => onResponse = fn,\n        transports: transports.map(fn => fn({\n          chain,\n          retryCount: 0\n        }))\n      });\n      if (rank) {\n        const rankOptions = typeof rank === 'object' ? rank : {};\n        rankTransports({\n          chain,\n          interval: rankOptions.interval ?? pollingInterval,\n          onTransports: transports_ => transports = transports_,\n          ping: rankOptions.ping,\n          sampleCount: rankOptions.sampleCount,\n          timeout: rankOptions.timeout,\n          transports,\n          weights: rankOptions.weights\n        });\n      }\n      return transport;\n    };\n  }\n  function shouldThrow(error) {\n    if ('code' in error && typeof error.code === 'number') {\n      if (error.code === _errorsRpcJs.TransactionRejectedRpcError.code || error.code === _errorsRpcJs.UserRejectedRequestError.code || _errorsNodeJs.ExecutionRevertedError.nodeMessage.test(error.message) || error.code === 5000 // CAIP UserRejectedRequestError\n      ) return true;\n    }\n    return false;\n  }\n  /** @internal */\n  function rankTransports({\n    chain,\n    interval = 4_000,\n    onTransports,\n    ping,\n    sampleCount = 10,\n    timeout = 1_000,\n    transports,\n    weights = {}\n  }) {\n    const {\n      stability: stabilityWeight = 0.7,\n      latency: latencyWeight = 0.3\n    } = weights;\n    const samples = [];\n    const rankTransports_ = async () => {\n      // 1. Take a sample from each Transport.\n      const sample = await Promise.all(transports.map(async transport => {\n        const transport_ = transport({\n          chain,\n          retryCount: 0,\n          timeout\n        });\n        const start = Date.now();\n        let end;\n        let success;\n        try {\n          await (ping ? ping({\n            transport: transport_\n          }) : transport_.request({\n            method: 'net_listening'\n          }));\n          success = 1;\n        } catch {\n          success = 0;\n        } finally {\n          end = Date.now();\n        }\n        const latency = end - start;\n        return {\n          latency,\n          success\n        };\n      }));\n      // 2. Store the sample. If we have more than `sampleCount` samples, remove\n      // the oldest sample.\n      samples.push(sample);\n      if (samples.length > sampleCount) samples.shift();\n      // 3. Calculate the max latency from samples.\n      const maxLatency = Math.max(...samples.map(sample => Math.max(...sample.map(({\n        latency\n      }) => latency))));\n      // 4. Calculate the score for each Transport.\n      const scores = transports.map((_, i) => {\n        const latencies = samples.map(sample => sample[i].latency);\n        const meanLatency = latencies.reduce((acc, latency) => acc + latency, 0) / latencies.length;\n        const latencyScore = 1 - meanLatency / maxLatency;\n        const successes = samples.map(sample => sample[i].success);\n        const stabilityScore = successes.reduce((acc, success) => acc + success, 0) / successes.length;\n        if (stabilityScore === 0) return [0, i];\n        return [latencyWeight * latencyScore + stabilityWeight * stabilityScore, i];\n      }).sort((a, b) => b[0] - a[0]);\n      // 5. Sort the Transports by score.\n      onTransports(scores.map(([, i]) => transports[i]));\n      // 6. Wait, and then rank again.\n      await (0, _utilsWaitJs.wait)(interval);\n      rankTransports_();\n    };\n    rankTransports_();\n  }\n});","lineCount":191,"map":[[7,2,5,0,"exports"],[7,9,5,0],[7,10,5,0,"fallback"],[7,18,5,0],[7,21,5,0,"fallback"],[7,29,5,0],[8,2,101,0,"exports"],[8,9,101,0],[8,10,101,0,"rankTransports"],[8,24,101,0],[8,27,101,0,"rankTransports"],[8,41,101,0],[9,2,1,0],[9,6,1,0,"_errorsNodeJs"],[9,19,1,0],[9,22,1,0,"require"],[9,29,1,0],[9,30,1,0,"_dependencyMap"],[9,44,1,0],[10,2,2,0],[10,6,2,0,"_errorsRpcJs"],[10,18,2,0],[10,21,2,0,"require"],[10,28,2,0],[10,29,2,0,"_dependencyMap"],[10,43,2,0],[11,2,3,0],[11,6,3,0,"_utilsWaitJs"],[11,18,3,0],[11,21,3,0,"require"],[11,28,3,0],[11,29,3,0,"_dependencyMap"],[11,43,3,0],[12,2,4,0],[12,6,4,0,"_createTransportJs"],[12,24,4,0],[12,27,4,0,"require"],[12,34,4,0],[12,35,4,0,"_dependencyMap"],[12,49,4,0],[13,2,5,7],[13,11,5,16,"fallback"],[13,19,5,24,"fallback"],[13,20,5,25,"transports_"],[13,31,5,36],[13,33,5,38,"config"],[13,39,5,44],[13,42,5,47],[13,43,5,48],[13,44,5,49],[13,46,5,51],[14,4,6,4],[14,10,6,10],[15,6,6,12,"key"],[15,9,6,15],[15,12,6,18],[15,22,6,28],[16,6,6,30,"name"],[16,10,6,34],[16,13,6,37],[16,23,6,47],[17,6,6,49,"rank"],[17,10,6,53],[17,13,6,56],[17,18,6,61],[18,6,6,63,"retryCount"],[18,16,6,73],[19,6,6,75,"retryDelay"],[20,4,6,87],[20,5,6,88],[20,8,6,91,"config"],[20,14,6,97],[21,4,7,4],[21,11,7,12],[21,12,7,13],[22,6,7,15,"chain"],[22,11,7,20],[23,6,7,22,"pollingInterval"],[23,21,7,37],[23,24,7,40],[23,29,7,45],[24,6,7,47,"timeout"],[24,13,7,54],[25,6,7,56],[25,9,7,59,"rest"],[26,4,7,64],[26,5,7,65],[26,10,7,70],[27,6,8,8],[27,10,8,12,"transports"],[27,20,8,22],[27,23,8,25,"transports_"],[27,34,8,36],[28,6,9,8],[28,10,9,12,"onResponse"],[28,20,9,22],[28,23,9,25,"onResponse"],[28,24,9,25],[28,29,9,31],[28,30,9,33],[28,31,9,34],[29,6,10,8],[29,12,10,14,"transport"],[29,21,10,23],[29,24,10,26],[29,28,10,26,"createTransport"],[29,46,10,41],[29,47,10,41,"createTransport"],[29,62,10,41],[29,64,10,42],[30,8,11,12,"key"],[30,11,11,15],[31,8,12,12,"name"],[31,12,12,16],[32,8,13,12],[32,14,13,18,"request"],[32,21,13,25,"request"],[32,22,13,26],[33,10,13,28,"method"],[33,16,13,34],[34,10,13,36,"params"],[35,8,13,43],[35,9,13,44],[35,11,13,46],[36,10,14,16],[36,14,14,20,"includes"],[36,22,14,28],[37,10,15,16],[37,16,15,22,"fetch"],[37,21,15,27],[37,24,15,30],[37,30,15,30,"fetch"],[37,31,15,37,"i"],[37,32,15,38],[37,35,15,41],[37,36,15,42],[37,41,15,47],[38,12,16,20],[38,18,16,26,"transport"],[38,27,16,35],[38,30,16,38,"transports"],[38,40,16,48],[38,41,16,49,"i"],[38,42,16,50],[38,43,16,51],[38,44,16,52],[39,14,17,24],[39,17,17,27,"rest"],[39,21,17,31],[40,14,18,24,"chain"],[40,19,18,29],[41,14,19,24,"retryCount"],[41,24,19,34],[41,26,19,36],[41,27,19,37],[42,14,20,24,"timeout"],[43,12,21,20],[43,13,21,21],[43,14,21,22],[44,12,22,20],[44,16,22,24],[45,14,23,24],[45,20,23,30,"response"],[45,28,23,38],[45,31,23,41],[45,37,23,47,"transport"],[45,46,23,56],[45,47,23,57,"request"],[45,54,23,64],[45,55,23,65],[46,16,24,28,"method"],[46,22,24,34],[47,16,25,28,"params"],[48,14,26,24],[48,15,26,25],[48,16,26,26],[49,14,27,24,"onResponse"],[49,24,27,34],[49,25,27,35],[50,16,28,28,"method"],[50,22,28,34],[51,16,29,28,"params"],[51,22,29,34],[51,24,29,36,"params"],[51,30,29,42],[52,16,30,28,"response"],[52,24,30,36],[53,16,31,28,"transport"],[53,25,31,37],[54,16,32,28,"status"],[54,22,32,34],[54,24,32,36],[55,14,33,24],[55,15,33,25],[55,16,33,26],[56,14,34,24],[56,21,34,31,"response"],[56,29,34,39],[57,12,35,20],[57,13,35,21],[57,14,36,20],[57,21,36,27,"err"],[57,24,36,30],[57,26,36,32],[58,14,37,24,"onResponse"],[58,24,37,34],[58,25,37,35],[59,16,38,28,"error"],[59,21,38,33],[59,23,38,35,"err"],[59,26,38,38],[60,16,39,28,"method"],[60,22,39,34],[61,16,40,28,"params"],[61,22,40,34],[61,24,40,36,"params"],[61,30,40,42],[62,16,41,28,"transport"],[62,25,41,37],[63,16,42,28,"status"],[63,22,42,34],[63,24,42,36],[64,14,43,24],[64,15,43,25],[64,16,43,26],[65,14,44,24],[65,18,44,28,"shouldThrow"],[65,29,44,39],[65,30,44,40,"err"],[65,33,44,43],[65,34,44,44],[65,36,45,28],[65,42,45,34,"err"],[65,45,45,37],[66,14,46,24],[67,14,47,24],[67,18,47,28,"i"],[67,19,47,29],[67,24,47,34,"transports"],[67,34,47,44],[67,35,47,45,"length"],[67,41,47,51],[67,44,47,54],[67,45,47,55],[67,47,48,28],[67,53,48,34,"err"],[67,56,48,37],[68,14,49,24],[69,14,50,24,"includes"],[69,22,50,32],[69,27,50,37,"transports"],[69,37,50,47],[69,38,50,48,"slice"],[69,43,50,53],[69,44,50,54,"i"],[69,45,50,55],[69,48,50,58],[69,49,50,59],[69,50,50,60],[69,51,50,61,"some"],[69,55,50,65],[69,56,50,67,"transport"],[69,65,50,76],[69,69,50,81],[70,16,51,28],[70,22,51,34],[71,18,51,36,"include"],[71,25,51,43],[72,18,51,45,"exclude"],[73,16,51,53],[73,17,51,54],[73,20,51,57,"transport"],[73,29,51,66],[73,30,51,67],[74,18,51,69,"chain"],[75,16,51,75],[75,17,51,76],[75,18,51,77],[75,19,51,78,"config"],[75,25,51,84],[75,26,51,85,"methods"],[75,33,51,92],[75,37,51,96],[75,38,51,97],[75,39,51,98],[76,16,52,28],[76,20,52,32,"include"],[76,27,52,39],[76,29,53,32],[76,36,53,39,"include"],[76,43,53,46],[76,44,53,47,"includes"],[76,52,53,55],[76,53,53,56,"method"],[76,59,53,62],[76,60,53,63],[77,16,54,28],[77,20,54,32,"exclude"],[77,27,54,39],[77,29,55,32],[77,36,55,39],[77,37,55,40,"exclude"],[77,44,55,47],[77,45,55,48,"includes"],[77,53,55,56],[77,54,55,57,"method"],[77,60,55,63],[77,61,55,64],[78,16,56,28],[78,23,56,35],[78,27,56,39],[79,14,57,24],[79,15,57,25],[79,16,57,26],[80,14,58,24],[80,18,58,28],[80,19,58,29,"includes"],[80,27,58,37],[80,29,59,28],[80,35,59,34,"err"],[80,38,59,37],[81,14,60,24],[82,14,61,24],[82,21,61,31,"fetch"],[82,26,61,36],[82,27,61,37,"i"],[82,28,61,38],[82,31,61,41],[82,32,61,42],[82,33,61,43],[83,12,62,20],[84,10,63,16],[84,11,63,17],[85,10,64,16],[85,17,64,23,"fetch"],[85,22,64,28],[85,23,64,29],[85,24,64,30],[86,8,65,12],[86,9,65,13],[87,8,66,12,"retryCount"],[87,18,66,22],[88,8,67,12,"retryDelay"],[88,18,67,22],[89,8,68,12,"type"],[89,12,68,16],[89,14,68,18],[90,6,69,8],[90,7,69,9],[90,9,69,11],[91,8,70,12,"onResponse"],[91,18,70,22],[91,20,70,25,"fn"],[91,22,70,27],[91,26,70,33,"onResponse"],[91,36,70,43],[91,39,70,46,"fn"],[91,41,70,49],[92,8,71,12,"transports"],[92,18,71,22],[92,20,71,24,"transports"],[92,30,71,34],[92,31,71,35,"map"],[92,34,71,38],[92,35,71,40,"fn"],[92,37,71,42],[92,41,71,47,"fn"],[92,43,71,49],[92,44,71,50],[93,10,71,52,"chain"],[93,15,71,57],[94,10,71,59,"retryCount"],[94,20,71,69],[94,22,71,71],[95,8,71,73],[95,9,71,74],[95,10,71,75],[96,6,72,8],[96,7,72,9],[96,8,72,10],[97,6,73,8],[97,10,73,12,"rank"],[97,14,73,16],[97,16,73,18],[98,8,74,12],[98,14,74,18,"rankOptions"],[98,25,74,29],[98,28,74,33],[98,35,74,40,"rank"],[98,39,74,44],[98,44,74,49],[98,52,74,57],[98,55,74,60,"rank"],[98,59,74,64],[98,62,74,67],[98,63,74,68],[98,64,74,70],[99,8,75,12,"rankTransports"],[99,22,75,26],[99,23,75,27],[100,10,76,16,"chain"],[100,15,76,21],[101,10,77,16,"interval"],[101,18,77,24],[101,20,77,26,"rankOptions"],[101,31,77,37],[101,32,77,38,"interval"],[101,40,77,46],[101,44,77,50,"pollingInterval"],[101,59,77,65],[102,10,78,16,"onTransports"],[102,22,78,28],[102,24,78,31,"transports_"],[102,35,78,42],[102,39,78,48,"transports"],[102,49,78,58],[102,52,78,61,"transports_"],[102,63,78,73],[103,10,79,16,"ping"],[103,14,79,20],[103,16,79,22,"rankOptions"],[103,27,79,33],[103,28,79,34,"ping"],[103,32,79,38],[104,10,80,16,"sampleCount"],[104,21,80,27],[104,23,80,29,"rankOptions"],[104,34,80,40],[104,35,80,41,"sampleCount"],[104,46,80,52],[105,10,81,16,"timeout"],[105,17,81,23],[105,19,81,25,"rankOptions"],[105,30,81,36],[105,31,81,37,"timeout"],[105,38,81,44],[106,10,82,16,"transports"],[106,20,82,26],[107,10,83,16,"weights"],[107,17,83,23],[107,19,83,25,"rankOptions"],[107,30,83,36],[107,31,83,37,"weights"],[108,8,84,12],[108,9,84,13],[108,10,84,14],[109,6,85,8],[110,6,86,8],[110,13,86,15,"transport"],[110,22,86,24],[111,4,87,4],[111,5,87,5],[112,2,88,0],[113,2,89,0],[113,11,89,9,"shouldThrow"],[113,22,89,20,"shouldThrow"],[113,23,89,21,"error"],[113,28,89,26],[113,30,89,28],[114,4,90,4],[114,8,90,8],[114,14,90,14],[114,18,90,18,"error"],[114,23,90,23],[114,27,90,27],[114,34,90,34,"error"],[114,39,90,39],[114,40,90,40,"code"],[114,44,90,44],[114,49,90,49],[114,57,90,57],[114,59,90,59],[115,6,91,8],[115,10,91,12,"error"],[115,15,91,17],[115,16,91,18,"code"],[115,20,91,22],[115,25,91,27,"TransactionRejectedRpcError"],[115,37,91,54],[115,38,91,54,"TransactionRejectedRpcError"],[115,65,91,54],[115,66,91,55,"code"],[115,70,91,59],[115,74,92,12,"error"],[115,79,92,17],[115,80,92,18,"code"],[115,84,92,22],[115,89,92,27,"UserRejectedRequestError"],[115,101,92,51],[115,102,92,51,"UserRejectedRequestError"],[115,126,92,51],[115,127,92,52,"code"],[115,131,92,56],[115,135,93,12,"ExecutionRevertedError"],[115,148,93,34],[115,149,93,34,"ExecutionRevertedError"],[115,171,93,34],[115,172,93,35,"nodeMessage"],[115,183,93,46],[115,184,93,47,"test"],[115,188,93,51],[115,189,93,52,"error"],[115,194,93,57],[115,195,93,58,"message"],[115,202,93,65],[115,203,93,66],[115,207,94,12,"error"],[115,212,94,17],[115,213,94,18,"code"],[115,217,94,22],[115,222,94,27],[115,226,94,31],[115,227,94,32],[116,6,94,32],[116,8,96,12],[116,15,96,19],[116,19,96,23],[117,4,97,4],[118,4,98,4],[118,11,98,11],[118,16,98,16],[119,2,99,0],[120,2,100,0],[121,2,101,7],[121,11,101,16,"rankTransports"],[121,25,101,30,"rankTransports"],[121,26,101,31],[122,4,101,33,"chain"],[122,9,101,38],[123,4,101,40,"interval"],[123,12,101,48],[123,15,101,51],[123,20,101,56],[124,4,101,58,"onTransports"],[124,16,101,70],[125,4,101,72,"ping"],[125,8,101,76],[126,4,101,78,"sampleCount"],[126,15,101,89],[126,18,101,92],[126,20,101,94],[127,4,101,96,"timeout"],[127,11,101,103],[127,14,101,106],[127,19,101,111],[128,4,101,113,"transports"],[128,14,101,123],[129,4,101,125,"weights"],[129,11,101,132],[129,14,101,135],[129,15,101,136],[130,2,101,139],[130,3,101,140],[130,5,101,142],[131,4,102,4],[131,10,102,10],[132,6,102,12,"stability"],[132,15,102,21],[132,17,102,23,"stabilityWeight"],[132,32,102,38],[132,35,102,41],[132,38,102,44],[133,6,102,46,"latency"],[133,13,102,53],[133,15,102,55,"latencyWeight"],[133,28,102,68],[133,31,102,71],[134,4,102,75],[134,5,102,76],[134,8,102,79,"weights"],[134,15,102,86],[135,4,103,4],[135,10,103,10,"samples"],[135,17,103,17],[135,20,103,20],[135,22,103,22],[136,4,104,4],[136,10,104,10,"rankTransports_"],[136,25,104,25],[136,28,104,28],[136,34,104,28,"rankTransports_"],[136,35,104,28],[136,40,104,40],[137,6,105,8],[138,6,106,8],[138,12,106,14,"sample"],[138,18,106,20],[138,21,106,23],[138,27,106,29,"Promise"],[138,34,106,36],[138,35,106,37,"all"],[138,38,106,40],[138,39,106,41,"transports"],[138,49,106,51],[138,50,106,52,"map"],[138,53,106,55],[138,54,106,56],[138,60,106,63,"transport"],[138,69,106,72],[138,73,106,77],[139,8,107,12],[139,14,107,18,"transport_"],[139,24,107,28],[139,27,107,31,"transport"],[139,36,107,40],[139,37,107,41],[140,10,107,43,"chain"],[140,15,107,48],[141,10,107,50,"retryCount"],[141,20,107,60],[141,22,107,62],[141,23,107,63],[142,10,107,65,"timeout"],[143,8,107,73],[143,9,107,74],[143,10,107,75],[144,8,108,12],[144,14,108,18,"start"],[144,19,108,23],[144,22,108,26,"Date"],[144,26,108,30],[144,27,108,31,"now"],[144,30,108,34],[144,31,108,35],[144,32,108,36],[145,8,109,12],[145,12,109,16,"end"],[145,15,109,19],[146,8,110,12],[146,12,110,16,"success"],[146,19,110,23],[147,8,111,12],[147,12,111,16],[148,10,112,16],[148,17,112,23,"ping"],[148,21,112,27],[148,24,113,22,"ping"],[148,28,113,26],[148,29,113,27],[149,12,113,29,"transport"],[149,21,113,38],[149,23,113,40,"transport_"],[150,10,113,51],[150,11,113,52],[150,12,113,53],[150,15,114,22,"transport_"],[150,25,114,32],[150,26,114,33,"request"],[150,33,114,40],[150,34,114,41],[151,12,114,43,"method"],[151,18,114,49],[151,20,114,51],[152,10,114,67],[152,11,114,68],[152,12,114,69],[152,13,114,70],[153,10,115,16,"success"],[153,17,115,23],[153,20,115,26],[153,21,115,27],[154,8,116,12],[154,9,116,13],[154,10,117,12],[154,16,117,18],[155,10,118,16,"success"],[155,17,118,23],[155,20,118,26],[155,21,118,27],[156,8,119,12],[156,9,119,13],[156,18,120,20],[157,10,121,16,"end"],[157,13,121,19],[157,16,121,22,"Date"],[157,20,121,26],[157,21,121,27,"now"],[157,24,121,30],[157,25,121,31],[157,26,121,32],[158,8,122,12],[159,8,123,12],[159,14,123,18,"latency"],[159,21,123,25],[159,24,123,28,"end"],[159,27,123,31],[159,30,123,34,"start"],[159,35,123,39],[160,8,124,12],[160,15,124,19],[161,10,124,21,"latency"],[161,17,124,28],[162,10,124,30,"success"],[163,8,124,38],[163,9,124,39],[164,6,125,8],[164,7,125,9],[164,8,125,10],[164,9,125,11],[165,6,126,8],[166,6,127,8],[167,6,128,8,"samples"],[167,13,128,15],[167,14,128,16,"push"],[167,18,128,20],[167,19,128,21,"sample"],[167,25,128,27],[167,26,128,28],[168,6,129,8],[168,10,129,12,"samples"],[168,17,129,19],[168,18,129,20,"length"],[168,24,129,26],[168,27,129,29,"sampleCount"],[168,38,129,40],[168,40,130,12,"samples"],[168,47,130,19],[168,48,130,20,"shift"],[168,53,130,25],[168,54,130,26],[168,55,130,27],[169,6,131,8],[170,6,132,8],[170,12,132,14,"maxLatency"],[170,22,132,24],[170,25,132,27,"Math"],[170,29,132,31],[170,30,132,32,"max"],[170,33,132,35],[170,34,132,36],[170,37,132,39,"samples"],[170,44,132,46],[170,45,132,47,"map"],[170,48,132,50],[170,49,132,52,"sample"],[170,55,132,58],[170,59,132,63,"Math"],[170,63,132,67],[170,64,132,68,"max"],[170,67,132,71],[170,68,132,72],[170,71,132,75,"sample"],[170,77,132,81],[170,78,132,82,"map"],[170,81,132,85],[170,82,132,86],[170,83,132,87],[171,8,132,89,"latency"],[172,6,132,97],[172,7,132,98],[172,12,132,103,"latency"],[172,19,132,110],[172,20,132,111],[172,21,132,112],[172,22,132,113],[172,23,132,114],[173,6,133,8],[174,6,134,8],[174,12,134,14,"scores"],[174,18,134,20],[174,21,134,23,"transports"],[174,31,134,33],[174,32,135,13,"map"],[174,35,135,16],[174,36,135,17],[174,37,135,18,"_"],[174,38,135,19],[174,40,135,21,"i"],[174,41,135,22],[174,46,135,27],[175,8,136,12],[175,14,136,18,"latencies"],[175,23,136,27],[175,26,136,30,"samples"],[175,33,136,37],[175,34,136,38,"map"],[175,37,136,41],[175,38,136,43,"sample"],[175,44,136,49],[175,48,136,54,"sample"],[175,54,136,60],[175,55,136,61,"i"],[175,56,136,62],[175,57,136,63],[175,58,136,64,"latency"],[175,65,136,71],[175,66,136,72],[176,8,137,12],[176,14,137,18,"meanLatency"],[176,25,137,29],[176,28,137,32,"latencies"],[176,37,137,41],[176,38,137,42,"reduce"],[176,44,137,48],[176,45,137,49],[176,46,137,50,"acc"],[176,49,137,53],[176,51,137,55,"latency"],[176,58,137,62],[176,63,137,67,"acc"],[176,66,137,70],[176,69,137,73,"latency"],[176,76,137,80],[176,78,137,82],[176,79,137,83],[176,80,137,84],[176,83,138,16,"latencies"],[176,92,138,25],[176,93,138,26,"length"],[176,99,138,32],[177,8,139,12],[177,14,139,18,"latencyScore"],[177,26,139,30],[177,29,139,33],[177,30,139,34],[177,33,139,37,"meanLatency"],[177,44,139,48],[177,47,139,51,"maxLatency"],[177,57,139,61],[178,8,140,12],[178,14,140,18,"successes"],[178,23,140,27],[178,26,140,30,"samples"],[178,33,140,37],[178,34,140,38,"map"],[178,37,140,41],[178,38,140,43,"sample"],[178,44,140,49],[178,48,140,54,"sample"],[178,54,140,60],[178,55,140,61,"i"],[178,56,140,62],[178,57,140,63],[178,58,140,64,"success"],[178,65,140,71],[178,66,140,72],[179,8,141,12],[179,14,141,18,"stabilityScore"],[179,28,141,32],[179,31,141,35,"successes"],[179,40,141,44],[179,41,141,45,"reduce"],[179,47,141,51],[179,48,141,52],[179,49,141,53,"acc"],[179,52,141,56],[179,54,141,58,"success"],[179,61,141,65],[179,66,141,70,"acc"],[179,69,141,73],[179,72,141,76,"success"],[179,79,141,83],[179,81,141,85],[179,82,141,86],[179,83,141,87],[179,86,142,16,"successes"],[179,95,142,25],[179,96,142,26,"length"],[179,102,142,32],[180,8,143,12],[180,12,143,16,"stabilityScore"],[180,26,143,30],[180,31,143,35],[180,32,143,36],[180,34,144,16],[180,41,144,23],[180,42,144,24],[180,43,144,25],[180,45,144,27,"i"],[180,46,144,28],[180,47,144,29],[181,8,145,12],[181,15,145,19],[181,16,146,16,"latencyWeight"],[181,29,146,29],[181,32,146,32,"latencyScore"],[181,44,146,44],[181,47,146,47,"stabilityWeight"],[181,62,146,62],[181,65,146,65,"stabilityScore"],[181,79,146,79],[181,81,147,16,"i"],[181,82,147,17],[181,83,148,13],[182,6,149,8],[182,7,149,9],[182,8,149,10],[182,9,150,13,"sort"],[182,13,150,17],[182,14,150,18],[182,15,150,19,"a"],[182,16,150,20],[182,18,150,22,"b"],[182,19,150,23],[182,24,150,28,"b"],[182,25,150,29],[182,26,150,30],[182,27,150,31],[182,28,150,32],[182,31,150,35,"a"],[182,32,150,36],[182,33,150,37],[182,34,150,38],[182,35,150,39],[182,36,150,40],[183,6,151,8],[184,6,152,8,"onTransports"],[184,18,152,20],[184,19,152,21,"scores"],[184,25,152,27],[184,26,152,28,"map"],[184,29,152,31],[184,30,152,32],[184,31,152,33],[184,34,152,36,"i"],[184,35,152,37],[184,36,152,38],[184,41,152,43,"transports"],[184,51,152,53],[184,52,152,54,"i"],[184,53,152,55],[184,54,152,56],[184,55,152,57],[184,56,152,58],[185,6,153,8],[186,6,154,8],[186,12,154,14],[186,16,154,14,"wait"],[186,28,154,18],[186,29,154,18,"wait"],[186,33,154,18],[186,35,154,19,"interval"],[186,43,154,27],[186,44,154,28],[187,6,155,8,"rankTransports_"],[187,21,155,23],[187,22,155,24],[187,23,155,25],[188,4,156,4],[188,5,156,5],[189,4,157,4,"rankTransports_"],[189,19,157,19],[189,20,157,20],[189,21,157,21],[190,2,158,0],[191,0,158,1],[191,3]],"functionMap":{"names":["<global>","fallback","<anonymous>","onResponse","createTransport$argument_0.request","fetch","transports.slice.some$argument_0","createTransport$argument_1.onResponse","transports.map$argument_0","rankTransports$argument_0.onTransports","shouldThrow","rankTransports","rankTransports_","samples.map$argument_0","sample.map$argument_0","latencies.reduce$argument_0","successes.reduce$argument_0","transports.map.sort$argument_0","scores.map$argument_0"],"mappings":"AAA;OCI;YCE;yBCE,SD;YEI;8BCE;kECmC;yBDO;iBDM;aFE;wBKK,yBL;uCMC,oCN;8BOO,2CP;KDS;CDC;AUC;CVU;OWE;4BCG;wDJE;SImB;mDCO,mCC,wBD,ED;iBJG;0CKC,6BL;iDOC,+BP;0CKG,6BL;oDQC,+BR;SIQ;kBKC,qBL;gCME,wBN;KDI;CXE"},"hasCjsExports":false},"type":"js/module"}]}