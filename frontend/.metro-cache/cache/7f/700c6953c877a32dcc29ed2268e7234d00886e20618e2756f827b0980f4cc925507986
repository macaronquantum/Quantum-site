{"dependencies":[{"name":"@noble/curves/secp256k1","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"csK47Jl21yyHbYXmqNFvld7NybI=","exportNames":["*"],"imports":1}},{"name":"../../utils/encoding/toHex.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":53},"end":{"line":2,"column":61,"index":114}}],"key":"U2IsyW1seIe5m4FUbe8axrr/0FQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.parseSignature = parseSignature;\n  var _nobleCurvesSecp256k = require(_dependencyMap[0], \"@noble/curves/secp256k1\");\n  var _utilsEncodingToHexJs = require(_dependencyMap[1], \"../../utils/encoding/toHex.js\");\n  /**\n   * @description Parses a hex formatted signature into a structured signature.\n   *\n   * @param signatureHex Signature in hex format.\n   * @returns The structured signature.\n   *\n   * @example\n   * parseSignature('0x6e100a352ec6ad1b70802290e18aeed190704973570f3b8ed42cb9808e2ea6bf4a90a229a244495b41890987806fcbd2d5d23fc0dbe5f5256c2613c039d76db81c')\n   * // { r: '0x...', s: '0x...', v: 28n }\n   */\n  function parseSignature(signatureHex) {\n    const {\n      r,\n      s\n    } = _nobleCurvesSecp256k.secp256k1.Signature.fromCompact(signatureHex.slice(2, 130));\n    const yParityOrV = Number(`0x${signatureHex.slice(130)}`);\n    const [v, yParity] = (() => {\n      if (yParityOrV === 0 || yParityOrV === 1) return [undefined, yParityOrV];\n      if (yParityOrV === 27) return [BigInt(yParityOrV), 0];\n      if (yParityOrV === 28) return [BigInt(yParityOrV), 1];\n      throw new Error('Invalid yParityOrV value');\n    })();\n    if (typeof v !== 'undefined') return {\n      r: (0, _utilsEncodingToHexJs.numberToHex)(r, {\n        size: 32\n      }),\n      s: (0, _utilsEncodingToHexJs.numberToHex)(s, {\n        size: 32\n      }),\n      v,\n      yParity\n    };\n    return {\n      r: (0, _utilsEncodingToHexJs.numberToHex)(r, {\n        size: 32\n      }),\n      s: (0, _utilsEncodingToHexJs.numberToHex)(s, {\n        size: 32\n      }),\n      yParity\n    };\n  }\n});","lineCount":52,"map":[[7,2,13,0,"exports"],[7,9,13,0],[7,10,13,0,"parseSignature"],[7,24,13,0],[7,27,13,0,"parseSignature"],[7,41,13,0],[8,2,1,0],[8,6,1,0,"_nobleCurvesSecp256k"],[8,26,1,0],[8,29,1,0,"require"],[8,36,1,0],[8,37,1,0,"_dependencyMap"],[8,51,1,0],[9,2,2,0],[9,6,2,0,"_utilsEncodingToHexJs"],[9,27,2,0],[9,30,2,0,"require"],[9,37,2,0],[9,38,2,0,"_dependencyMap"],[9,52,2,0],[10,2,3,0],[11,0,4,0],[12,0,5,0],[13,0,6,0],[14,0,7,0],[15,0,8,0],[16,0,9,0],[17,0,10,0],[18,0,11,0],[19,0,12,0],[20,2,13,7],[20,11,13,16,"parseSignature"],[20,25,13,30,"parseSignature"],[20,26,13,31,"signatureHex"],[20,38,13,43],[20,40,13,45],[21,4,14,4],[21,10,14,10],[22,6,14,12,"r"],[22,7,14,13],[23,6,14,15,"s"],[24,4,14,17],[24,5,14,18],[24,8,14,21,"secp256k1"],[24,28,14,30],[24,29,14,30,"secp256k1"],[24,38,14,30],[24,39,14,31,"Signature"],[24,48,14,40],[24,49,14,41,"fromCompact"],[24,60,14,52],[24,61,14,53,"signatureHex"],[24,73,14,65],[24,74,14,66,"slice"],[24,79,14,71],[24,80,14,72],[24,81,14,73],[24,83,14,75],[24,86,14,78],[24,87,14,79],[24,88,14,80],[25,4,15,4],[25,10,15,10,"yParityOrV"],[25,20,15,20],[25,23,15,23,"Number"],[25,29,15,29],[25,30,15,30],[25,35,15,35,"signatureHex"],[25,47,15,47],[25,48,15,48,"slice"],[25,53,15,53],[25,54,15,54],[25,57,15,57],[25,58,15,58],[25,60,15,60],[25,61,15,61],[26,4,16,4],[26,10,16,10],[26,11,16,11,"v"],[26,12,16,12],[26,14,16,14,"yParity"],[26,21,16,21],[26,22,16,22],[26,25,16,25],[26,26,16,26],[26,32,16,32],[27,6,17,8],[27,10,17,12,"yParityOrV"],[27,20,17,22],[27,25,17,27],[27,26,17,28],[27,30,17,32,"yParityOrV"],[27,40,17,42],[27,45,17,47],[27,46,17,48],[27,48,18,12],[27,55,18,19],[27,56,18,20,"undefined"],[27,65,18,29],[27,67,18,31,"yParityOrV"],[27,77,18,41],[27,78,18,42],[28,6,19,8],[28,10,19,12,"yParityOrV"],[28,20,19,22],[28,25,19,27],[28,27,19,29],[28,29,20,12],[28,36,20,19],[28,37,20,20,"BigInt"],[28,43,20,26],[28,44,20,27,"yParityOrV"],[28,54,20,37],[28,55,20,38],[28,57,20,40],[28,58,20,41],[28,59,20,42],[29,6,21,8],[29,10,21,12,"yParityOrV"],[29,20,21,22],[29,25,21,27],[29,27,21,29],[29,29,22,12],[29,36,22,19],[29,37,22,20,"BigInt"],[29,43,22,26],[29,44,22,27,"yParityOrV"],[29,54,22,37],[29,55,22,38],[29,57,22,40],[29,58,22,41],[29,59,22,42],[30,6,23,8],[30,12,23,14],[30,16,23,18,"Error"],[30,21,23,23],[30,22,23,24],[30,48,23,50],[30,49,23,51],[31,4,24,4],[31,5,24,5],[31,7,24,7],[31,8,24,8],[32,4,25,4],[32,8,25,8],[32,15,25,15,"v"],[32,16,25,16],[32,21,25,21],[32,32,25,32],[32,34,26,8],[32,41,26,15],[33,6,27,12,"r"],[33,7,27,13],[33,9,27,15],[33,13,27,15,"numberToHex"],[33,34,27,26],[33,35,27,26,"numberToHex"],[33,46,27,26],[33,48,27,27,"r"],[33,49,27,28],[33,51,27,30],[34,8,27,32,"size"],[34,12,27,36],[34,14,27,38],[35,6,27,41],[35,7,27,42],[35,8,27,43],[36,6,28,12,"s"],[36,7,28,13],[36,9,28,15],[36,13,28,15,"numberToHex"],[36,34,28,26],[36,35,28,26,"numberToHex"],[36,46,28,26],[36,48,28,27,"s"],[36,49,28,28],[36,51,28,30],[37,8,28,32,"size"],[37,12,28,36],[37,14,28,38],[38,6,28,41],[38,7,28,42],[38,8,28,43],[39,6,29,12,"v"],[39,7,29,13],[40,6,30,12,"yParity"],[41,4,31,8],[41,5,31,9],[42,4,32,4],[42,11,32,11],[43,6,33,8,"r"],[43,7,33,9],[43,9,33,11],[43,13,33,11,"numberToHex"],[43,34,33,22],[43,35,33,22,"numberToHex"],[43,46,33,22],[43,48,33,23,"r"],[43,49,33,24],[43,51,33,26],[44,8,33,28,"size"],[44,12,33,32],[44,14,33,34],[45,6,33,37],[45,7,33,38],[45,8,33,39],[46,6,34,8,"s"],[46,7,34,9],[46,9,34,11],[46,13,34,11,"numberToHex"],[46,34,34,22],[46,35,34,22,"numberToHex"],[46,46,34,22],[46,48,34,23,"s"],[46,49,34,24],[46,51,34,26],[47,8,34,28,"size"],[47,12,34,32],[47,14,34,34],[48,6,34,37],[48,7,34,38],[48,8,34,39],[49,6,35,8,"yParity"],[50,4,36,4],[50,5,36,5],[51,2,37,0],[52,0,37,1],[52,3]],"functionMap":{"names":["<global>","parseSignature","<anonymous>"],"mappings":"AAA;OCY;0BCG;KDQ;CDa"},"hasCjsExports":false},"type":"js/module"}]}