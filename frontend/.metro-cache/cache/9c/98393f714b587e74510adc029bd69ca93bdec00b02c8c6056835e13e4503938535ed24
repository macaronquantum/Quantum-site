{"dependencies":[{"name":"../../constants/abis.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":88,"index":88}}],"key":"LZvwvaZmwAX6SyAqVHRt5iP6qx8=","exportNames":["*"],"imports":1}},{"name":"../../utils/abi/decodeFunctionResult.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":89},"end":{"line":2,"column":80,"index":169}}],"key":"kTyTrS0/fV5/YN79eeV1YCQApII=","exportNames":["*"],"imports":1}},{"name":"../../utils/abi/encodeFunctionData.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":170},"end":{"line":3,"column":76,"index":246}}],"key":"OuSySdoC0ezpBCAwaIZplowPkvk=","exportNames":["*"],"imports":1}},{"name":"../../utils/chain/getChainContractAddress.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":247},"end":{"line":4,"column":88,"index":335}}],"key":"8qS5kCcV3GKt7vxDZBWLzJuplRM=","exportNames":["*"],"imports":1}},{"name":"../../utils/encoding/toHex.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":336},"end":{"line":5,"column":54,"index":390}}],"key":"U2IsyW1seIe5m4FUbe8axrr/0FQ=","exportNames":["*"],"imports":1}},{"name":"../../utils/ens/errors.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":391},"end":{"line":6,"column":73,"index":464}}],"key":"PnlrScciUN4PT5dk7YYfSZS8dDA=","exportNames":["*"],"imports":1}},{"name":"../../utils/ens/namehash.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":465},"end":{"line":7,"column":55,"index":520}}],"key":"LrLJ4tMmO+bDUw+6voQwj4+mN5E=","exportNames":["*"],"imports":1}},{"name":"../../utils/ens/packetToBytes.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":521},"end":{"line":8,"column":66,"index":587}}],"key":"vy6lnJxRhohVWN+VTecRsVVoAi0=","exportNames":["*"],"imports":1}},{"name":"../../utils/getAction.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":588},"end":{"line":9,"column":53,"index":641}}],"key":"vt4scbNyA2t/tyY0oQJI6AZPJS4=","exportNames":["*"],"imports":1}},{"name":"../public/readContract.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":642},"end":{"line":10,"column":58,"index":700}}],"key":"duxLiRpfja/POd/F8+OKH9hCagk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.getEnsText = getEnsText;\n  var _constantsAbisJs = require(_dependencyMap[0], \"../../constants/abis.js\");\n  var _utilsAbiDecodeFunctionResultJs = require(_dependencyMap[1], \"../../utils/abi/decodeFunctionResult.js\");\n  var _utilsAbiEncodeFunctionDataJs = require(_dependencyMap[2], \"../../utils/abi/encodeFunctionData.js\");\n  var _utilsChainGetChainContractAddressJs = require(_dependencyMap[3], \"../../utils/chain/getChainContractAddress.js\");\n  var _utilsEncodingToHexJs = require(_dependencyMap[4], \"../../utils/encoding/toHex.js\");\n  var _utilsEnsErrorsJs = require(_dependencyMap[5], \"../../utils/ens/errors.js\");\n  var _utilsEnsNamehashJs = require(_dependencyMap[6], \"../../utils/ens/namehash.js\");\n  var _utilsEnsPacketToBytesJs = require(_dependencyMap[7], \"../../utils/ens/packetToBytes.js\");\n  var _utilsGetActionJs = require(_dependencyMap[8], \"../../utils/getAction.js\");\n  var _publicReadContractJs = require(_dependencyMap[9], \"../public/readContract.js\");\n  /**\n   * Gets a text record for specified ENS name.\n   *\n   * - Docs: https://viem.sh/docs/ens/actions/getEnsResolver\n   * - Examples: https://stackblitz.com/github/wevm/viem/tree/main/examples/ens\n   *\n   * Calls `resolve(bytes, bytes)` on ENS Universal Resolver Contract.\n   *\n   * Since ENS names prohibit certain forbidden characters (e.g. underscore) and have other validation rules, you likely want to [normalize ENS names](https://docs.ens.domains/contract-api-reference/name-processing#normalising-names) with [UTS-46 normalization](https://unicode.org/reports/tr46) before passing them to `getEnsAddress`. You can use the built-in [`normalize`](https://viem.sh/docs/ens/utilities/normalize) function for this.\n   *\n   * @param client - Client to use\n   * @param parameters - {@link GetEnsTextParameters}\n   * @returns Address for ENS resolver. {@link GetEnsTextReturnType}\n   *\n   * @example\n   * import { createPublicClient, http } from 'viem'\n   * import { mainnet } from 'viem/chains'\n   * import { getEnsText, normalize } from 'viem/ens'\n   *\n   * const client = createPublicClient({\n   *   chain: mainnet,\n   *   transport: http(),\n   * })\n   * const twitterRecord = await getEnsText(client, {\n   *   name: normalize('wevm.eth'),\n   *   key: 'com.twitter',\n   * })\n   * // 'wevm_dev'\n   */\n  async function getEnsText(client, {\n    blockNumber,\n    blockTag,\n    name,\n    key,\n    gatewayUrls,\n    strict,\n    universalResolverAddress: universalResolverAddress_\n  }) {\n    let universalResolverAddress = universalResolverAddress_;\n    if (!universalResolverAddress) {\n      if (!client.chain) throw new Error('client chain not configured. universalResolverAddress is required.');\n      universalResolverAddress = (0, _utilsChainGetChainContractAddressJs.getChainContractAddress)({\n        blockNumber,\n        chain: client.chain,\n        contract: 'ensUniversalResolver'\n      });\n    }\n    try {\n      const readContractParameters = {\n        address: universalResolverAddress,\n        abi: _constantsAbisJs.universalResolverResolveAbi,\n        functionName: 'resolve',\n        args: [(0, _utilsEncodingToHexJs.toHex)((0, _utilsEnsPacketToBytesJs.packetToBytes)(name)), (0, _utilsAbiEncodeFunctionDataJs.encodeFunctionData)({\n          abi: _constantsAbisJs.textResolverAbi,\n          functionName: 'text',\n          args: [(0, _utilsEnsNamehashJs.namehash)(name), key]\n        })],\n        blockNumber,\n        blockTag\n      };\n      const readContractAction = (0, _utilsGetActionJs.getAction)(client, _publicReadContractJs.readContract, 'readContract');\n      const res = gatewayUrls ? await readContractAction({\n        ...readContractParameters,\n        args: [...readContractParameters.args, gatewayUrls]\n      }) : await readContractAction(readContractParameters);\n      if (res[0] === '0x') return null;\n      const record = (0, _utilsAbiDecodeFunctionResultJs.decodeFunctionResult)({\n        abi: _constantsAbisJs.textResolverAbi,\n        functionName: 'text',\n        data: res[0]\n      });\n      return record === '' ? null : record;\n    } catch (err) {\n      if (strict) throw err;\n      if ((0, _utilsEnsErrorsJs.isNullUniversalResolverError)(err, 'resolve')) return null;\n      throw err;\n    }\n  }\n});","lineCount":96,"map":[[7,2,40,0,"exports"],[7,9,40,0],[7,10,40,0,"getEnsText"],[7,20,40,0],[7,23,40,0,"getEnsText"],[7,33,40,0],[8,2,1,0],[8,6,1,0,"_constantsAbisJs"],[8,22,1,0],[8,25,1,0,"require"],[8,32,1,0],[8,33,1,0,"_dependencyMap"],[8,47,1,0],[9,2,2,0],[9,6,2,0,"_utilsAbiDecodeFunctionResultJs"],[9,37,2,0],[9,40,2,0,"require"],[9,47,2,0],[9,48,2,0,"_dependencyMap"],[9,62,2,0],[10,2,3,0],[10,6,3,0,"_utilsAbiEncodeFunctionDataJs"],[10,35,3,0],[10,38,3,0,"require"],[10,45,3,0],[10,46,3,0,"_dependencyMap"],[10,60,3,0],[11,2,4,0],[11,6,4,0,"_utilsChainGetChainContractAddressJs"],[11,42,4,0],[11,45,4,0,"require"],[11,52,4,0],[11,53,4,0,"_dependencyMap"],[11,67,4,0],[12,2,5,0],[12,6,5,0,"_utilsEncodingToHexJs"],[12,27,5,0],[12,30,5,0,"require"],[12,37,5,0],[12,38,5,0,"_dependencyMap"],[12,52,5,0],[13,2,6,0],[13,6,6,0,"_utilsEnsErrorsJs"],[13,23,6,0],[13,26,6,0,"require"],[13,33,6,0],[13,34,6,0,"_dependencyMap"],[13,48,6,0],[14,2,7,0],[14,6,7,0,"_utilsEnsNamehashJs"],[14,25,7,0],[14,28,7,0,"require"],[14,35,7,0],[14,36,7,0,"_dependencyMap"],[14,50,7,0],[15,2,8,0],[15,6,8,0,"_utilsEnsPacketToBytesJs"],[15,30,8,0],[15,33,8,0,"require"],[15,40,8,0],[15,41,8,0,"_dependencyMap"],[15,55,8,0],[16,2,9,0],[16,6,9,0,"_utilsGetActionJs"],[16,23,9,0],[16,26,9,0,"require"],[16,33,9,0],[16,34,9,0,"_dependencyMap"],[16,48,9,0],[17,2,10,0],[17,6,10,0,"_publicReadContractJs"],[17,27,10,0],[17,30,10,0,"require"],[17,37,10,0],[17,38,10,0,"_dependencyMap"],[17,52,10,0],[18,2,11,0],[19,0,12,0],[20,0,13,0],[21,0,14,0],[22,0,15,0],[23,0,16,0],[24,0,17,0],[25,0,18,0],[26,0,19,0],[27,0,20,0],[28,0,21,0],[29,0,22,0],[30,0,23,0],[31,0,24,0],[32,0,25,0],[33,0,26,0],[34,0,27,0],[35,0,28,0],[36,0,29,0],[37,0,30,0],[38,0,31,0],[39,0,32,0],[40,0,33,0],[41,0,34,0],[42,0,35,0],[43,0,36,0],[44,0,37,0],[45,0,38,0],[46,0,39,0],[47,2,40,7],[47,17,40,22,"getEnsText"],[47,27,40,32,"getEnsText"],[47,28,40,33,"client"],[47,34,40,39],[47,36,40,41],[48,4,40,43,"blockNumber"],[48,15,40,54],[49,4,40,56,"blockTag"],[49,12,40,64],[50,4,40,66,"name"],[50,8,40,70],[51,4,40,72,"key"],[51,7,40,75],[52,4,40,77,"gatewayUrls"],[52,15,40,88],[53,4,40,90,"strict"],[53,10,40,96],[54,4,40,98,"universalResolverAddress"],[54,28,40,122],[54,30,40,124,"universalResolverAddress_"],[55,2,40,151],[55,3,40,152],[55,5,40,154],[56,4,41,4],[56,8,41,8,"universalResolverAddress"],[56,32,41,32],[56,35,41,35,"universalResolverAddress_"],[56,60,41,60],[57,4,42,4],[57,8,42,8],[57,9,42,9,"universalResolverAddress"],[57,33,42,33],[57,35,42,35],[58,6,43,8],[58,10,43,12],[58,11,43,13,"client"],[58,17,43,19],[58,18,43,20,"chain"],[58,23,43,25],[58,25,44,12],[58,31,44,18],[58,35,44,22,"Error"],[58,40,44,27],[58,41,44,28],[58,109,44,96],[58,110,44,97],[59,6,45,8,"universalResolverAddress"],[59,30,45,32],[59,33,45,35],[59,37,45,35,"getChainContractAddress"],[59,73,45,58],[59,74,45,58,"getChainContractAddress"],[59,97,45,58],[59,99,45,59],[60,8,46,12,"blockNumber"],[60,19,46,23],[61,8,47,12,"chain"],[61,13,47,17],[61,15,47,19,"client"],[61,21,47,25],[61,22,47,26,"chain"],[61,27,47,31],[62,8,48,12,"contract"],[62,16,48,20],[62,18,48,22],[63,6,49,8],[63,7,49,9],[63,8,49,10],[64,4,50,4],[65,4,51,4],[65,8,51,8],[66,6,52,8],[66,12,52,14,"readContractParameters"],[66,34,52,36],[66,37,52,39],[67,8,53,12,"address"],[67,15,53,19],[67,17,53,21,"universalResolverAddress"],[67,41,53,45],[68,8,54,12,"abi"],[68,11,54,15],[68,13,54,17,"universalResolverResolveAbi"],[68,29,54,44],[68,30,54,44,"universalResolverResolveAbi"],[68,57,54,44],[69,8,55,12,"functionName"],[69,20,55,24],[69,22,55,26],[69,31,55,35],[70,8,56,12,"args"],[70,12,56,16],[70,14,56,18],[70,15,57,16],[70,19,57,16,"toHex"],[70,40,57,21],[70,41,57,21,"toHex"],[70,46,57,21],[70,48,57,22],[70,52,57,22,"packetToBytes"],[70,76,57,35],[70,77,57,35,"packetToBytes"],[70,90,57,35],[70,92,57,36,"name"],[70,96,57,40],[70,97,57,41],[70,98,57,42],[70,100,58,16],[70,104,58,16,"encodeFunctionData"],[70,133,58,34],[70,134,58,34,"encodeFunctionData"],[70,152,58,34],[70,154,58,35],[71,10,59,20,"abi"],[71,13,59,23],[71,15,59,25,"textResolverAbi"],[71,31,59,40],[71,32,59,40,"textResolverAbi"],[71,47,59,40],[72,10,60,20,"functionName"],[72,22,60,32],[72,24,60,34],[72,30,60,40],[73,10,61,20,"args"],[73,14,61,24],[73,16,61,26],[73,17,61,27],[73,21,61,27,"namehash"],[73,40,61,35],[73,41,61,35,"namehash"],[73,49,61,35],[73,51,61,36,"name"],[73,55,61,40],[73,56,61,41],[73,58,61,43,"key"],[73,61,61,46],[74,8,62,16],[74,9,62,17],[74,10,62,18],[74,11,63,13],[75,8,64,12,"blockNumber"],[75,19,64,23],[76,8,65,12,"blockTag"],[77,6,66,8],[77,7,66,9],[78,6,67,8],[78,12,67,14,"readContractAction"],[78,30,67,32],[78,33,67,35],[78,37,67,35,"getAction"],[78,54,67,44],[78,55,67,44,"getAction"],[78,64,67,44],[78,66,67,45,"client"],[78,72,67,51],[78,74,67,53,"readContract"],[78,95,67,65],[78,96,67,65,"readContract"],[78,108,67,65],[78,110,67,67],[78,124,67,81],[78,125,67,82],[79,6,68,8],[79,12,68,14,"res"],[79,15,68,17],[79,18,68,20,"gatewayUrls"],[79,29,68,31],[79,32,69,14],[79,38,69,20,"readContractAction"],[79,56,69,38],[79,57,69,39],[80,8,70,16],[80,11,70,19,"readContractParameters"],[80,33,70,41],[81,8,71,16,"args"],[81,12,71,20],[81,14,71,22],[81,15,71,23],[81,18,71,26,"readContractParameters"],[81,40,71,48],[81,41,71,49,"args"],[81,45,71,53],[81,47,71,55,"gatewayUrls"],[81,58,71,66],[82,6,72,12],[82,7,72,13],[82,8,72,14],[82,11,73,14],[82,17,73,20,"readContractAction"],[82,35,73,38],[82,36,73,39,"readContractParameters"],[82,58,73,61],[82,59,73,62],[83,6,74,8],[83,10,74,12,"res"],[83,13,74,15],[83,14,74,16],[83,15,74,17],[83,16,74,18],[83,21,74,23],[83,25,74,27],[83,27,75,12],[83,34,75,19],[83,38,75,23],[84,6,76,8],[84,12,76,14,"record"],[84,18,76,20],[84,21,76,23],[84,25,76,23,"decodeFunctionResult"],[84,56,76,43],[84,57,76,43,"decodeFunctionResult"],[84,77,76,43],[84,79,76,44],[85,8,77,12,"abi"],[85,11,77,15],[85,13,77,17,"textResolverAbi"],[85,29,77,32],[85,30,77,32,"textResolverAbi"],[85,45,77,32],[86,8,78,12,"functionName"],[86,20,78,24],[86,22,78,26],[86,28,78,32],[87,8,79,12,"data"],[87,12,79,16],[87,14,79,18,"res"],[87,17,79,21],[87,18,79,22],[87,19,79,23],[88,6,80,8],[88,7,80,9],[88,8,80,10],[89,6,81,8],[89,13,81,15,"record"],[89,19,81,21],[89,24,81,26],[89,26,81,28],[89,29,81,31],[89,33,81,35],[89,36,81,38,"record"],[89,42,81,44],[90,4,82,4],[90,5,82,5],[90,6,83,4],[90,13,83,11,"err"],[90,16,83,14],[90,18,83,16],[91,6,84,8],[91,10,84,12,"strict"],[91,16,84,18],[91,18,85,12],[91,24,85,18,"err"],[91,27,85,21],[92,6,86,8],[92,10,86,12],[92,14,86,12,"isNullUniversalResolverError"],[92,31,86,40],[92,32,86,40,"isNullUniversalResolverError"],[92,60,86,40],[92,62,86,41,"err"],[92,65,86,44],[92,67,86,46],[92,76,86,55],[92,77,86,56],[92,79,87,12],[92,86,87,19],[92,90,87,23],[93,6,88,8],[93,12,88,14,"err"],[93,15,88,17],[94,4,89,4],[95,2,90,0],[96,0,90,1],[96,3]],"functionMap":{"names":["<global>","getEnsText"],"mappings":"AAA;OCuC;CDkD"},"hasCjsExports":false},"type":"js/module"}]}