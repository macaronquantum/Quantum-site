{"dependencies":[{"name":"@ledgerhq/hw-transport","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":39,"index":255},"end":{"line":6,"column":72,"index":288}}],"key":"wIWbIpZOqCZTaFOBaXjFwrl9plc=","exportNames":["*"],"imports":1}},{"name":"@ledgerhq/devices/hid-framing","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":38,"index":329},"end":{"line":7,"column":78,"index":369}}],"key":"l3rYBm/3C+bpgIWYrEnyE5UgBAQ=","exportNames":["*"],"imports":1}},{"name":"@ledgerhq/devices","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":18,"index":390},"end":{"line":8,"column":46,"index":418}}],"key":"hiKfRu4kfqnZSlR/XPA0qEJR030=","exportNames":["*"],"imports":1}},{"name":"@ledgerhq/logs","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":15,"index":435},"end":{"line":9,"column":40,"index":460}}],"key":"TcP06KCCaChT+K2dhWlxrZGOmhQ=","exportNames":["*"],"imports":1}},{"name":"@ledgerhq/errors","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":17,"index":479},"end":{"line":10,"column":44,"index":506}}],"key":"arrYL/Db6POWKOBPyXvHvPnB40M=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var __importDefault = this && this.__importDefault || function (mod) {\n    return mod && mod.__esModule ? mod : {\n      \"default\": mod\n    };\n  };\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  const hw_transport_1 = __importDefault(require(_dependencyMap[0], \"@ledgerhq/hw-transport\"));\n  const hid_framing_1 = __importDefault(require(_dependencyMap[1], \"@ledgerhq/devices/hid-framing\"));\n  const devices_1 = require(_dependencyMap[2], \"@ledgerhq/devices\");\n  const logs_1 = require(_dependencyMap[3], \"@ledgerhq/logs\");\n  const errors_1 = require(_dependencyMap[4], \"@ledgerhq/errors\");\n  const ledgerDevices = [{\n    vendorId: devices_1.ledgerUSBVendorId\n  }];\n  const isSupported = () => Promise.resolve(!!(window.navigator && window.navigator.hid));\n  const getHID = () => {\n    // $FlowFixMe\n    const {\n      hid\n    } = navigator;\n    if (!hid) throw new errors_1.TransportError(\"navigator.hid is not supported\", \"HIDNotSupported\");\n    return hid;\n  };\n  async function requestLedgerDevices() {\n    const device = await getHID().requestDevice({\n      filters: ledgerDevices\n    });\n    if (Array.isArray(device)) return device;\n    return [device];\n  }\n  async function getLedgerDevices() {\n    const devices = await getHID().getDevices();\n    return devices.filter(d => d.vendorId === devices_1.ledgerUSBVendorId);\n  }\n  async function getFirstLedgerDevice() {\n    const existingDevices = await getLedgerDevices();\n    if (existingDevices.length > 0) return existingDevices[0];\n    const devices = await requestLedgerDevices();\n    return devices[0];\n  }\n  /**\n   * WebHID Transport implementation\n   * @example\n   * import TransportWebHID from \"@ledgerhq/hw-transport-webhid\";\n   * ...\n   * TransportWebHID.create().then(transport => ...)\n   */\n  class TransportWebHID extends hw_transport_1.default {\n    channel = Math.floor(Math.random() * 0xffff);\n    packetSize = 64;\n    constructor(device) {\n      super();\n      this.device = device;\n      this.deviceModel = typeof device.productId === \"number\" ? (0, devices_1.identifyUSBProductId)(device.productId) : undefined;\n      device.addEventListener(\"inputreport\", this.onInputReport);\n    }\n    inputs = [];\n    read = () => {\n      if (this.inputs.length) {\n        return Promise.resolve(this.inputs.shift());\n      }\n      return new Promise(success => {\n        this.inputCallback = success;\n      });\n    };\n    onInputReport = e => {\n      const buffer = Buffer.from(e.data.buffer);\n      if (this.inputCallback) {\n        this.inputCallback(buffer);\n        this.inputCallback = null;\n      } else {\n        this.inputs.push(buffer);\n      }\n    };\n    /**\n     * Check if WebUSB transport is supported.\n     */\n    static isSupported = isSupported;\n    /**\n     * List the WebUSB devices that was previously authorized by the user.\n     */\n    static list = getLedgerDevices;\n    /**\n     * Actively listen to WebUSB devices and emit ONE device\n     * that was either accepted before, if not it will trigger the native permission UI.\n     *\n     * Important: it must be called in the context of a UI click!\n     */\n    static listen = observer => {\n      let unsubscribed = false;\n      getFirstLedgerDevice().then(device => {\n        if (!device) {\n          observer.error(new errors_1.TransportOpenUserCancelled(\"Access denied to use Ledger device\"));\n        } else if (!unsubscribed) {\n          const deviceModel = typeof device.productId === \"number\" ? (0, devices_1.identifyUSBProductId)(device.productId) : undefined;\n          observer.next({\n            type: \"add\",\n            descriptor: device,\n            deviceModel\n          });\n          observer.complete();\n        }\n      }, error => {\n        observer.error(new errors_1.TransportOpenUserCancelled(error.message));\n      });\n      function unsubscribe() {\n        unsubscribed = true;\n      }\n      return {\n        unsubscribe\n      };\n    };\n    /**\n     * Similar to create() except it will always display the device permission (even if some devices are already accepted).\n     */\n    static async request() {\n      const [device] = await requestLedgerDevices();\n      return TransportWebHID.open(device);\n    }\n    /**\n     * Similar to create() except it will never display the device permission (it returns a Promise<?Transport>, null if it fails to find a device).\n     */\n    static async openConnected() {\n      const devices = await getLedgerDevices();\n      if (devices.length === 0) return null;\n      return TransportWebHID.open(devices[0]);\n    }\n    /**\n     * Create a Ledger transport with a HIDDevice\n     */\n    static async open(device) {\n      await device.open();\n      const transport = new TransportWebHID(device);\n      const onDisconnect = e => {\n        if (device === e.device) {\n          getHID().removeEventListener(\"disconnect\", onDisconnect);\n          transport._emitDisconnect(new errors_1.DisconnectedDevice());\n        }\n      };\n      getHID().addEventListener(\"disconnect\", onDisconnect);\n      return transport;\n    }\n    _disconnectEmitted = false;\n    _emitDisconnect = e => {\n      if (this._disconnectEmitted) return;\n      this._disconnectEmitted = true;\n      this.emit(\"disconnect\", e);\n    };\n    /**\n     * Release the transport device\n     */\n    async close() {\n      await this.exchangeBusyPromise;\n      this.device.removeEventListener(\"inputreport\", this.onInputReport);\n      await this.device.close();\n    }\n    /**\n     * Exchange with the device using APDU protocol.\n     * @param apdu\n     * @returns a promise of apdu response\n     */\n    exchange = async apdu => {\n      const b = await this.exchangeAtomicImpl(async () => {\n        const {\n          channel,\n          packetSize\n        } = this;\n        (0, logs_1.log)(\"apdu\", \"=> \" + apdu.toString(\"hex\"));\n        const framing = (0, hid_framing_1.default)(channel, packetSize);\n        // Write...\n        const blocks = framing.makeBlocks(apdu);\n        for (let i = 0; i < blocks.length; i++) {\n          await this.device.sendReport(0, blocks[i]);\n        }\n        // Read...\n        let result;\n        let acc;\n        while (!(result = framing.getReducedResult(acc))) {\n          try {\n            const buffer = await this.read();\n            acc = framing.reduceResponse(acc, buffer);\n          } catch (e) {\n            if (e instanceof errors_1.TransportError && e.id === \"InvalidChannel\") {\n              // this can happen if the device is connected\n              // on a different channel (like another app)\n              // in this case we just filter out the event\n              continue;\n            }\n            throw e;\n          }\n        }\n        (0, logs_1.log)(\"apdu\", \"<= \" + result.toString(\"hex\"));\n        return result;\n      }).catch(e => {\n        if (e && e.message && e.message.includes(\"write\")) {\n          this._emitDisconnect(e);\n          throw new errors_1.DisconnectedDeviceDuringOperation(e.message);\n        }\n        throw e;\n      });\n      return b;\n    };\n    setScrambleKey() {}\n  }\n  exports.default = TransportWebHID;\n});","lineCount":211,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0],[4,6,2,4,"__importDefault"],[4,21,2,19],[4,24,2,23],[4,28,2,27],[4,32,2,31],[4,36,2,35],[4,37,2,36,"__importDefault"],[4,52,2,51],[4,56,2,56],[4,66,2,66,"mod"],[4,69,2,69],[4,71,2,71],[5,4,3,4],[5,11,3,12,"mod"],[5,14,3,15],[5,18,3,19,"mod"],[5,21,3,22],[5,22,3,23,"__esModule"],[5,32,3,33],[5,35,3,37,"mod"],[5,38,3,40],[5,41,3,43],[6,6,3,45],[6,15,3,54],[6,17,3,56,"mod"],[7,4,3,60],[7,5,3,61],[8,2,4,0],[8,3,4,1],[9,2,5,0,"Object"],[9,8,5,6],[9,9,5,7,"defineProperty"],[9,23,5,21],[9,24,5,22,"exports"],[9,31,5,29],[9,33,5,31],[9,45,5,43],[9,47,5,45],[10,4,5,47,"value"],[10,9,5,52],[10,11,5,54],[11,2,5,59],[11,3,5,60],[11,4,5,61],[12,2,6,0],[12,8,6,6,"hw_transport_1"],[12,22,6,20],[12,25,6,23,"__importDefault"],[12,40,6,38],[12,41,6,39,"require"],[12,48,6,46],[12,49,6,46,"_dependencyMap"],[12,63,6,46],[12,92,6,71],[12,93,6,72],[12,94,6,73],[13,2,7,0],[13,8,7,6,"hid_framing_1"],[13,21,7,19],[13,24,7,22,"__importDefault"],[13,39,7,37],[13,40,7,38,"require"],[13,47,7,45],[13,48,7,45,"_dependencyMap"],[13,62,7,45],[13,98,7,77],[13,99,7,78],[13,100,7,79],[14,2,8,0],[14,8,8,6,"devices_1"],[14,17,8,15],[14,20,8,18,"require"],[14,27,8,25],[14,28,8,25,"_dependencyMap"],[14,42,8,25],[14,66,8,45],[14,67,8,46],[15,2,9,0],[15,8,9,6,"logs_1"],[15,14,9,12],[15,17,9,15,"require"],[15,24,9,22],[15,25,9,22,"_dependencyMap"],[15,39,9,22],[15,60,9,39],[15,61,9,40],[16,2,10,0],[16,8,10,6,"errors_1"],[16,16,10,14],[16,19,10,17,"require"],[16,26,10,24],[16,27,10,24,"_dependencyMap"],[16,41,10,24],[16,64,10,43],[16,65,10,44],[17,2,11,0],[17,8,11,6,"ledgerDevices"],[17,21,11,19],[17,24,11,22],[17,25,12,4],[18,4,13,8,"vendorId"],[18,12,13,16],[18,14,13,18,"devices_1"],[18,23,13,27],[18,24,13,28,"ledgerUSBVendorId"],[19,2,14,4],[19,3,14,5],[19,4,15,1],[20,2,16,0],[20,8,16,6,"isSupported"],[20,19,16,17],[20,22,16,20,"isSupported"],[20,23,16,20],[20,28,16,26,"Promise"],[20,35,16,33],[20,36,16,34,"resolve"],[20,43,16,41],[20,44,16,42],[20,45,16,43],[20,47,16,45,"window"],[20,53,16,51],[20,54,16,52,"navigator"],[20,63,16,61],[20,67,16,65,"window"],[20,73,16,71],[20,74,16,72,"navigator"],[20,83,16,81],[20,84,16,82,"hid"],[20,87,16,85],[20,88,16,86],[20,89,16,87],[21,2,17,0],[21,8,17,6,"getHID"],[21,14,17,12],[21,17,17,15,"getHID"],[21,18,17,15],[21,23,17,21],[22,4,18,4],[23,4,19,4],[23,10,19,10],[24,6,19,12,"hid"],[25,4,19,16],[25,5,19,17],[25,8,19,20,"navigator"],[25,17,19,29],[26,4,20,4],[26,8,20,8],[26,9,20,9,"hid"],[26,12,20,12],[26,14,21,8],[26,20,21,14],[26,24,21,18,"errors_1"],[26,32,21,26],[26,33,21,27,"TransportError"],[26,47,21,41],[26,48,21,42],[26,80,21,74],[26,82,21,76],[26,99,21,93],[26,100,21,94],[27,4,22,4],[27,11,22,11,"hid"],[27,14,22,14],[28,2,23,0],[28,3,23,1],[29,2,24,0],[29,17,24,15,"requestLedgerDevices"],[29,37,24,35,"requestLedgerDevices"],[29,38,24,35],[29,40,24,38],[30,4,25,4],[30,10,25,10,"device"],[30,16,25,16],[30,19,25,19],[30,25,25,25,"getHID"],[30,31,25,31],[30,32,25,32],[30,33,25,33],[30,34,25,34,"requestDevice"],[30,47,25,47],[30,48,25,48],[31,6,26,8,"filters"],[31,13,26,15],[31,15,26,17,"ledgerDevices"],[32,4,27,4],[32,5,27,5],[32,6,27,6],[33,4,28,4],[33,8,28,8,"Array"],[33,13,28,13],[33,14,28,14,"isArray"],[33,21,28,21],[33,22,28,22,"device"],[33,28,28,28],[33,29,28,29],[33,31,29,8],[33,38,29,15,"device"],[33,44,29,21],[34,4,30,4],[34,11,30,11],[34,12,30,12,"device"],[34,18,30,18],[34,19,30,19],[35,2,31,0],[36,2,32,0],[36,17,32,15,"getLedgerDevices"],[36,33,32,31,"getLedgerDevices"],[36,34,32,31],[36,36,32,34],[37,4,33,4],[37,10,33,10,"devices"],[37,17,33,17],[37,20,33,20],[37,26,33,26,"getHID"],[37,32,33,32],[37,33,33,33],[37,34,33,34],[37,35,33,35,"getDevices"],[37,45,33,45],[37,46,33,46],[37,47,33,47],[38,4,34,4],[38,11,34,11,"devices"],[38,18,34,18],[38,19,34,19,"filter"],[38,25,34,25],[38,26,34,26,"d"],[38,27,34,27],[38,31,34,31,"d"],[38,32,34,32],[38,33,34,33,"vendorId"],[38,41,34,41],[38,46,34,46,"devices_1"],[38,55,34,55],[38,56,34,56,"ledgerUSBVendorId"],[38,73,34,73],[38,74,34,74],[39,2,35,0],[40,2,36,0],[40,17,36,15,"getFirstLedgerDevice"],[40,37,36,35,"getFirstLedgerDevice"],[40,38,36,35],[40,40,36,38],[41,4,37,4],[41,10,37,10,"existingDevices"],[41,25,37,25],[41,28,37,28],[41,34,37,34,"getLedgerDevices"],[41,50,37,50],[41,51,37,51],[41,52,37,52],[42,4,38,4],[42,8,38,8,"existingDevices"],[42,23,38,23],[42,24,38,24,"length"],[42,30,38,30],[42,33,38,33],[42,34,38,34],[42,36,39,8],[42,43,39,15,"existingDevices"],[42,58,39,30],[42,59,39,31],[42,60,39,32],[42,61,39,33],[43,4,40,4],[43,10,40,10,"devices"],[43,17,40,17],[43,20,40,20],[43,26,40,26,"requestLedgerDevices"],[43,46,40,46],[43,47,40,47],[43,48,40,48],[44,4,41,4],[44,11,41,11,"devices"],[44,18,41,18],[44,19,41,19],[44,20,41,20],[44,21,41,21],[45,2,42,0],[46,2,43,0],[47,0,44,0],[48,0,45,0],[49,0,46,0],[50,0,47,0],[51,0,48,0],[52,0,49,0],[53,2,50,0],[53,8,50,6,"TransportWebHID"],[53,23,50,21],[53,32,50,30,"hw_transport_1"],[53,46,50,44],[53,47,50,45,"default"],[53,54,50,52],[53,55,50,53],[54,4,53,4,"channel"],[54,11,53,11],[54,14,53,14,"Math"],[54,18,53,18],[54,19,53,19,"floor"],[54,24,53,24],[54,25,53,25,"Math"],[54,29,53,29],[54,30,53,30,"random"],[54,36,53,36],[54,37,53,37],[54,38,53,38],[54,41,53,41],[54,47,53,47],[54,48,53,48],[55,4,54,4,"packetSize"],[55,14,54,14],[55,17,54,17],[55,19,54,19],[56,4,55,4,"constructor"],[56,15,55,15,"constructor"],[56,16,55,16,"device"],[56,22,55,22],[56,24,55,24],[57,6,56,8],[57,11,56,13],[57,12,56,14],[57,13,56,15],[58,6,57,8],[58,10,57,12],[58,11,57,13,"device"],[58,17,57,19],[58,20,57,22,"device"],[58,26,57,28],[59,6,58,8],[59,10,58,12],[59,11,58,13,"deviceModel"],[59,22,58,24],[59,25,59,12],[59,32,59,19,"device"],[59,38,59,25],[59,39,59,26,"productId"],[59,48,59,35],[59,53,59,40],[59,61,59,48],[59,64,59,51],[59,65,59,52],[59,66,59,53],[59,68,59,55,"devices_1"],[59,77,59,64],[59,78,59,65,"identifyUSBProductId"],[59,98,59,85],[59,100,59,87,"device"],[59,106,59,93],[59,107,59,94,"productId"],[59,116,59,103],[59,117,59,104],[59,120,59,107,"undefined"],[59,129,59,116],[60,6,60,8,"device"],[60,12,60,14],[60,13,60,15,"addEventListener"],[60,29,60,31],[60,30,60,32],[60,43,60,45],[60,45,60,47],[60,49,60,51],[60,50,60,52,"onInputReport"],[60,63,60,65],[60,64,60,66],[61,4,61,4],[62,4,62,4,"inputs"],[62,10,62,10],[62,13,62,13],[62,15,62,15],[63,4,64,4,"read"],[63,8,64,8],[63,11,64,11,"read"],[63,12,64,11],[63,17,64,17],[64,6,65,8],[64,10,65,12],[64,14,65,16],[64,15,65,17,"inputs"],[64,21,65,23],[64,22,65,24,"length"],[64,28,65,30],[64,30,65,32],[65,8,66,12],[65,15,66,19,"Promise"],[65,22,66,26],[65,23,66,27,"resolve"],[65,30,66,34],[65,31,66,35],[65,35,66,39],[65,36,66,40,"inputs"],[65,42,66,46],[65,43,66,47,"shift"],[65,48,66,52],[65,49,66,53],[65,50,66,54],[65,51,66,55],[66,6,67,8],[67,6,68,8],[67,13,68,15],[67,17,68,19,"Promise"],[67,24,68,26],[67,25,68,27,"success"],[67,32,68,34],[67,36,68,38],[68,8,69,12],[68,12,69,16],[68,13,69,17,"inputCallback"],[68,26,69,30],[68,29,69,33,"success"],[68,36,69,40],[69,6,70,8],[69,7,70,9],[69,8,70,10],[70,4,71,4],[70,5,71,5],[71,4,72,4,"onInputReport"],[71,17,72,17],[71,20,72,21,"e"],[71,21,72,22],[71,25,72,27],[72,6,73,8],[72,12,73,14,"buffer"],[72,18,73,20],[72,21,73,23,"Buffer"],[72,27,73,29],[72,28,73,30,"from"],[72,32,73,34],[72,33,73,35,"e"],[72,34,73,36],[72,35,73,37,"data"],[72,39,73,41],[72,40,73,42,"buffer"],[72,46,73,48],[72,47,73,49],[73,6,74,8],[73,10,74,12],[73,14,74,16],[73,15,74,17,"inputCallback"],[73,28,74,30],[73,30,74,32],[74,8,75,12],[74,12,75,16],[74,13,75,17,"inputCallback"],[74,26,75,30],[74,27,75,31,"buffer"],[74,33,75,37],[74,34,75,38],[75,8,76,12],[75,12,76,16],[75,13,76,17,"inputCallback"],[75,26,76,30],[75,29,76,33],[75,33,76,37],[76,6,77,8],[76,7,77,9],[76,13,78,13],[77,8,79,12],[77,12,79,16],[77,13,79,17,"inputs"],[77,19,79,23],[77,20,79,24,"push"],[77,24,79,28],[77,25,79,29,"buffer"],[77,31,79,35],[77,32,79,36],[78,6,80,8],[79,4,81,4],[79,5,81,5],[80,4,82,4],[81,0,83,0],[82,0,84,0],[83,4,85,4],[83,11,85,11,"isSupported"],[83,22,85,22],[83,25,85,25,"isSupported"],[83,36,85,36],[84,4,86,4],[85,0,87,0],[86,0,88,0],[87,4,89,4],[87,11,89,11,"list"],[87,15,89,15],[87,18,89,18,"getLedgerDevices"],[87,34,89,34],[88,4,90,4],[89,0,91,0],[90,0,92,0],[91,0,93,0],[92,0,94,0],[93,0,95,0],[94,4,96,4],[94,11,96,11,"listen"],[94,17,96,17],[94,20,96,21,"observer"],[94,28,96,29],[94,32,96,34],[95,6,97,8],[95,10,97,12,"unsubscribed"],[95,22,97,24],[95,25,97,27],[95,30,97,32],[96,6,98,8,"getFirstLedgerDevice"],[96,26,98,28],[96,27,98,29],[96,28,98,30],[96,29,98,31,"then"],[96,33,98,35],[96,34,98,36,"device"],[96,40,98,42],[96,44,98,46],[97,8,99,12],[97,12,99,16],[97,13,99,17,"device"],[97,19,99,23],[97,21,99,25],[98,10,100,16,"observer"],[98,18,100,24],[98,19,100,25,"error"],[98,24,100,30],[98,25,100,31],[98,29,100,35,"errors_1"],[98,37,100,43],[98,38,100,44,"TransportOpenUserCancelled"],[98,64,100,70],[98,65,100,71],[98,101,100,107],[98,102,100,108],[98,103,100,109],[99,8,101,12],[99,9,101,13],[99,15,102,17],[99,19,102,21],[99,20,102,22,"unsubscribed"],[99,32,102,34],[99,34,102,36],[100,10,103,16],[100,16,103,22,"deviceModel"],[100,27,103,33],[100,30,103,36],[100,37,103,43,"device"],[100,43,103,49],[100,44,103,50,"productId"],[100,53,103,59],[100,58,103,64],[100,66,103,72],[100,69,104,22],[100,70,104,23],[100,71,104,24],[100,73,104,26,"devices_1"],[100,82,104,35],[100,83,104,36,"identifyUSBProductId"],[100,103,104,56],[100,105,104,58,"device"],[100,111,104,64],[100,112,104,65,"productId"],[100,121,104,74],[100,122,104,75],[100,125,105,22,"undefined"],[100,134,105,31],[101,10,106,16,"observer"],[101,18,106,24],[101,19,106,25,"next"],[101,23,106,29],[101,24,106,30],[102,12,107,20,"type"],[102,16,107,24],[102,18,107,26],[102,23,107,31],[103,12,108,20,"descriptor"],[103,22,108,30],[103,24,108,32,"device"],[103,30,108,38],[104,12,109,20,"deviceModel"],[105,10,110,16],[105,11,110,17],[105,12,110,18],[106,10,111,16,"observer"],[106,18,111,24],[106,19,111,25,"complete"],[106,27,111,33],[106,28,111,34],[106,29,111,35],[107,8,112,12],[108,6,113,8],[108,7,113,9],[108,9,113,11,"error"],[108,14,113,16],[108,18,113,20],[109,8,114,12,"observer"],[109,16,114,20],[109,17,114,21,"error"],[109,22,114,26],[109,23,114,27],[109,27,114,31,"errors_1"],[109,35,114,39],[109,36,114,40,"TransportOpenUserCancelled"],[109,62,114,66],[109,63,114,67,"error"],[109,68,114,72],[109,69,114,73,"message"],[109,76,114,80],[109,77,114,81],[109,78,114,82],[110,6,115,8],[110,7,115,9],[110,8,115,10],[111,6,116,8],[111,15,116,17,"unsubscribe"],[111,26,116,28,"unsubscribe"],[111,27,116,28],[111,29,116,31],[112,8,117,12,"unsubscribed"],[112,20,117,24],[112,23,117,27],[112,27,117,31],[113,6,118,8],[114,6,119,8],[114,13,119,15],[115,8,120,12,"unsubscribe"],[116,6,121,8],[116,7,121,9],[117,4,122,4],[117,5,122,5],[118,4,123,4],[119,0,124,0],[120,0,125,0],[121,4,126,4],[121,17,126,17,"request"],[121,24,126,24,"request"],[121,25,126,24],[121,27,126,27],[122,6,127,8],[122,12,127,14],[122,13,127,15,"device"],[122,19,127,21],[122,20,127,22],[122,23,127,25],[122,29,127,31,"requestLedgerDevices"],[122,49,127,51],[122,50,127,52],[122,51,127,53],[123,6,128,8],[123,13,128,15,"TransportWebHID"],[123,28,128,30],[123,29,128,31,"open"],[123,33,128,35],[123,34,128,36,"device"],[123,40,128,42],[123,41,128,43],[124,4,129,4],[125,4,130,4],[126,0,131,0],[127,0,132,0],[128,4,133,4],[128,17,133,17,"openConnected"],[128,30,133,30,"openConnected"],[128,31,133,30],[128,33,133,33],[129,6,134,8],[129,12,134,14,"devices"],[129,19,134,21],[129,22,134,24],[129,28,134,30,"getLedgerDevices"],[129,44,134,46],[129,45,134,47],[129,46,134,48],[130,6,135,8],[130,10,135,12,"devices"],[130,17,135,19],[130,18,135,20,"length"],[130,24,135,26],[130,29,135,31],[130,30,135,32],[130,32,136,12],[130,39,136,19],[130,43,136,23],[131,6,137,8],[131,13,137,15,"TransportWebHID"],[131,28,137,30],[131,29,137,31,"open"],[131,33,137,35],[131,34,137,36,"devices"],[131,41,137,43],[131,42,137,44],[131,43,137,45],[131,44,137,46],[131,45,137,47],[132,4,138,4],[133,4,139,4],[134,0,140,0],[135,0,141,0],[136,4,142,4],[136,17,142,17,"open"],[136,21,142,21,"open"],[136,22,142,22,"device"],[136,28,142,28],[136,30,142,30],[137,6,143,8],[137,12,143,14,"device"],[137,18,143,20],[137,19,143,21,"open"],[137,23,143,25],[137,24,143,26],[137,25,143,27],[138,6,144,8],[138,12,144,14,"transport"],[138,21,144,23],[138,24,144,26],[138,28,144,30,"TransportWebHID"],[138,43,144,45],[138,44,144,46,"device"],[138,50,144,52],[138,51,144,53],[139,6,145,8],[139,12,145,14,"onDisconnect"],[139,24,145,26],[139,27,145,29,"e"],[139,28,145,30],[139,32,145,34],[140,8,146,12],[140,12,146,16,"device"],[140,18,146,22],[140,23,146,27,"e"],[140,24,146,28],[140,25,146,29,"device"],[140,31,146,35],[140,33,146,37],[141,10,147,16,"getHID"],[141,16,147,22],[141,17,147,23],[141,18,147,24],[141,19,147,25,"removeEventListener"],[141,38,147,44],[141,39,147,45],[141,51,147,57],[141,53,147,59,"onDisconnect"],[141,65,147,71],[141,66,147,72],[142,10,148,16,"transport"],[142,19,148,25],[142,20,148,26,"_emitDisconnect"],[142,35,148,41],[142,36,148,42],[142,40,148,46,"errors_1"],[142,48,148,54],[142,49,148,55,"DisconnectedDevice"],[142,67,148,73],[142,68,148,74],[142,69,148,75],[142,70,148,76],[143,8,149,12],[144,6,150,8],[144,7,150,9],[145,6,151,8,"getHID"],[145,12,151,14],[145,13,151,15],[145,14,151,16],[145,15,151,17,"addEventListener"],[145,31,151,33],[145,32,151,34],[145,44,151,46],[145,46,151,48,"onDisconnect"],[145,58,151,60],[145,59,151,61],[146,6,152,8],[146,13,152,15,"transport"],[146,22,152,24],[147,4,153,4],[148,4,154,4,"_disconnectEmitted"],[148,22,154,22],[148,25,154,25],[148,30,154,30],[149,4,155,4,"_emitDisconnect"],[149,19,155,19],[149,22,155,23,"e"],[149,23,155,24],[149,27,155,29],[150,6,156,8],[150,10,156,12],[150,14,156,16],[150,15,156,17,"_disconnectEmitted"],[150,33,156,35],[150,35,157,12],[151,6,158,8],[151,10,158,12],[151,11,158,13,"_disconnectEmitted"],[151,29,158,31],[151,32,158,34],[151,36,158,38],[152,6,159,8],[152,10,159,12],[152,11,159,13,"emit"],[152,15,159,17],[152,16,159,18],[152,28,159,30],[152,30,159,32,"e"],[152,31,159,33],[152,32,159,34],[153,4,160,4],[153,5,160,5],[154,4,161,4],[155,0,162,0],[156,0,163,0],[157,4,164,4],[157,10,164,10,"close"],[157,15,164,15,"close"],[157,16,164,15],[157,18,164,18],[158,6,165,8],[158,12,165,14],[158,16,165,18],[158,17,165,19,"exchangeBusyPromise"],[158,36,165,38],[159,6,166,8],[159,10,166,12],[159,11,166,13,"device"],[159,17,166,19],[159,18,166,20,"removeEventListener"],[159,37,166,39],[159,38,166,40],[159,51,166,53],[159,53,166,55],[159,57,166,59],[159,58,166,60,"onInputReport"],[159,71,166,73],[159,72,166,74],[160,6,167,8],[160,12,167,14],[160,16,167,18],[160,17,167,19,"device"],[160,23,167,25],[160,24,167,26,"close"],[160,29,167,31],[160,30,167,32],[160,31,167,33],[161,4,168,4],[162,4,169,4],[163,0,170,0],[164,0,171,0],[165,0,172,0],[166,0,173,0],[167,4,174,4,"exchange"],[167,12,174,12],[167,15,174,15],[167,21,174,22,"apdu"],[167,25,174,26],[167,29,174,31],[168,6,175,8],[168,12,175,14,"b"],[168,13,175,15],[168,16,175,18],[168,22,175,24],[168,26,175,28],[168,27,175,29,"exchangeAtomicImpl"],[168,45,175,47],[168,46,175,48],[168,58,175,60],[169,8,176,12],[169,14,176,18],[170,10,176,20,"channel"],[170,17,176,27],[171,10,176,29,"packetSize"],[172,8,176,40],[172,9,176,41],[172,12,176,44],[172,16,176,48],[173,8,177,12],[173,9,177,13],[173,10,177,14],[173,12,177,16,"logs_1"],[173,18,177,22],[173,19,177,23,"log"],[173,22,177,26],[173,24,177,28],[173,30,177,34],[173,32,177,36],[173,37,177,41],[173,40,177,44,"apdu"],[173,44,177,48],[173,45,177,49,"toString"],[173,53,177,57],[173,54,177,58],[173,59,177,63],[173,60,177,64],[173,61,177,65],[174,8,178,12],[174,14,178,18,"framing"],[174,21,178,25],[174,24,178,28],[174,25,178,29],[174,26,178,30],[174,28,178,32,"hid_framing_1"],[174,41,178,45],[174,42,178,46,"default"],[174,49,178,53],[174,51,178,55,"channel"],[174,58,178,62],[174,60,178,64,"packetSize"],[174,70,178,74],[174,71,178,75],[175,8,179,12],[176,8,180,12],[176,14,180,18,"blocks"],[176,20,180,24],[176,23,180,27,"framing"],[176,30,180,34],[176,31,180,35,"makeBlocks"],[176,41,180,45],[176,42,180,46,"apdu"],[176,46,180,50],[176,47,180,51],[177,8,181,12],[177,13,181,17],[177,17,181,21,"i"],[177,18,181,22],[177,21,181,25],[177,22,181,26],[177,24,181,28,"i"],[177,25,181,29],[177,28,181,32,"blocks"],[177,34,181,38],[177,35,181,39,"length"],[177,41,181,45],[177,43,181,47,"i"],[177,44,181,48],[177,46,181,50],[177,48,181,52],[178,10,182,16],[178,16,182,22],[178,20,182,26],[178,21,182,27,"device"],[178,27,182,33],[178,28,182,34,"sendReport"],[178,38,182,44],[178,39,182,45],[178,40,182,46],[178,42,182,48,"blocks"],[178,48,182,54],[178,49,182,55,"i"],[178,50,182,56],[178,51,182,57],[178,52,182,58],[179,8,183,12],[180,8,184,12],[181,8,185,12],[181,12,185,16,"result"],[181,18,185,22],[182,8,186,12],[182,12,186,16,"acc"],[182,15,186,19],[183,8,187,12],[183,15,187,19],[183,17,187,21,"result"],[183,23,187,27],[183,26,187,30,"framing"],[183,33,187,37],[183,34,187,38,"getReducedResult"],[183,50,187,54],[183,51,187,55,"acc"],[183,54,187,58],[183,55,187,59],[183,56,187,60],[183,58,187,62],[184,10,188,16],[184,14,188,20],[185,12,189,20],[185,18,189,26,"buffer"],[185,24,189,32],[185,27,189,35],[185,33,189,41],[185,37,189,45],[185,38,189,46,"read"],[185,42,189,50],[185,43,189,51],[185,44,189,52],[186,12,190,20,"acc"],[186,15,190,23],[186,18,190,26,"framing"],[186,25,190,33],[186,26,190,34,"reduceResponse"],[186,40,190,48],[186,41,190,49,"acc"],[186,44,190,52],[186,46,190,54,"buffer"],[186,52,190,60],[186,53,190,61],[187,10,191,16],[187,11,191,17],[187,12,192,16],[187,19,192,23,"e"],[187,20,192,24],[187,22,192,26],[188,12,193,20],[188,16,193,24,"e"],[188,17,193,25],[188,29,193,37,"errors_1"],[188,37,193,45],[188,38,193,46,"TransportError"],[188,52,193,60],[188,56,193,64,"e"],[188,57,193,65],[188,58,193,66,"id"],[188,60,193,68],[188,65,193,73],[188,81,193,89],[188,83,193,91],[189,14,194,24],[190,14,195,24],[191,14,196,24],[192,14,197,24],[193,12,198,20],[194,12,199,20],[194,18,199,26,"e"],[194,19,199,27],[195,10,200,16],[196,8,201,12],[197,8,202,12],[197,9,202,13],[197,10,202,14],[197,12,202,16,"logs_1"],[197,18,202,22],[197,19,202,23,"log"],[197,22,202,26],[197,24,202,28],[197,30,202,34],[197,32,202,36],[197,37,202,41],[197,40,202,44,"result"],[197,46,202,50],[197,47,202,51,"toString"],[197,55,202,59],[197,56,202,60],[197,61,202,65],[197,62,202,66],[197,63,202,67],[198,8,203,12],[198,15,203,19,"result"],[198,21,203,25],[199,6,204,8],[199,7,204,9],[199,8,204,10],[199,9,204,11,"catch"],[199,14,204,16],[199,15,204,17,"e"],[199,16,204,18],[199,20,204,22],[200,8,205,12],[200,12,205,16,"e"],[200,13,205,17],[200,17,205,21,"e"],[200,18,205,22],[200,19,205,23,"message"],[200,26,205,30],[200,30,205,34,"e"],[200,31,205,35],[200,32,205,36,"message"],[200,39,205,43],[200,40,205,44,"includes"],[200,48,205,52],[200,49,205,53],[200,56,205,60],[200,57,205,61],[200,59,205,63],[201,10,206,16],[201,14,206,20],[201,15,206,21,"_emitDisconnect"],[201,30,206,36],[201,31,206,37,"e"],[201,32,206,38],[201,33,206,39],[202,10,207,16],[202,16,207,22],[202,20,207,26,"errors_1"],[202,28,207,34],[202,29,207,35,"DisconnectedDeviceDuringOperation"],[202,62,207,68],[202,63,207,69,"e"],[202,64,207,70],[202,65,207,71,"message"],[202,72,207,78],[202,73,207,79],[203,8,208,12],[204,8,209,12],[204,14,209,18,"e"],[204,15,209,19],[205,6,210,8],[205,7,210,9],[205,8,210,10],[206,6,211,8],[206,13,211,15,"b"],[206,14,211,16],[207,4,212,4],[207,5,212,5],[208,4,213,4,"setScrambleKey"],[208,18,213,18,"setScrambleKey"],[208,19,213,18],[208,21,213,21],[208,22,213,23],[209,2,214,0],[210,2,215,0,"exports"],[210,9,215,7],[210,10,215,8,"default"],[210,17,215,15],[210,20,215,18,"TransportWebHID"],[210,35,215,33],[211,0,215,34],[211,3]],"functionMap":{"names":["<global>","<anonymous>","isSupported","getHID","requestLedgerDevices","getLedgerDevices","devices.filter$argument_0","getFirstLedgerDevice","TransportWebHID","constructor","read","Promise$argument_0","onInputReport","listen","getFirstLedgerDevice.then$argument_0","getFirstLedgerDevice.then$argument_1","unsubscribe","request","openConnected","open","onDisconnect","_emitDisconnect","close","exchange","exchangeAtomicImpl$argument_0","exchangeAtomicImpl._catch$argument_0","setScrambleKey"],"mappings":"AAA;wDCC;CDE;oBEY,mEF;eGC;CHM;AIC;CJO;AKC;0BCE,+CD;CLC;AOC;CPM;AQQ;ICK;KDM;WEG;2BCI;SDE;KFC;oBIC;KJS;oBKe;oCCE;SDe,EE;SFE;QGC;SHE;KLI;ISI;KTG;IUI;KVK;IWI;6BCG;SDK;KXG;sBaE;KbK;IcI;KdI;eeM;gDCC;SD6B,QE;SFM;KfE;IkBC,oBlB;CRC"},"hasCjsExports":true},"type":"js/module"}]}