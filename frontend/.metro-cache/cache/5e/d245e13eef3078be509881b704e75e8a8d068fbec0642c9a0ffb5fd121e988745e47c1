{"dependencies":[{"name":"../../utils/promise/withCache.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":72,"index":72}}],"key":"NibCjCxapiL9xix+Qup4HTjIKO8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.getBlockNumberCache = getBlockNumberCache;\n  exports.getBlockNumber = getBlockNumber;\n  var _utilsPromiseWithCacheJs = require(_dependencyMap[0], \"../../utils/promise/withCache.js\");\n  const cacheKey = id => `blockNumber.${id}`;\n  /** @internal */\n  function getBlockNumberCache(id) {\n    return (0, _utilsPromiseWithCacheJs.getCache)(cacheKey(id));\n  }\n  /**\n   * Returns the number of the most recent block seen.\n   *\n   * - Docs: https://viem.sh/docs/actions/public/getBlockNumber\n   * - Examples: https://stackblitz.com/github/wevm/viem/tree/main/examples/blocks_fetching-blocks\n   * - JSON-RPC Methods: [`eth_blockNumber`](https://ethereum.org/en/developers/docs/apis/json-rpc/#eth_blocknumber)\n   *\n   * @param client - Client to use\n   * @param parameters - {@link GetBlockNumberParameters}\n   * @returns The number of the block. {@link GetBlockNumberReturnType}\n   *\n   * @example\n   * import { createPublicClient, http } from 'viem'\n   * import { mainnet } from 'viem/chains'\n   * import { getBlockNumber } from 'viem/public'\n   *\n   * const client = createPublicClient({\n   *   chain: mainnet,\n   *   transport: http(),\n   * })\n   * const blockNumber = await getBlockNumber(client)\n   * // 69420n\n   */\n  async function getBlockNumber(client, {\n    cacheTime = client.cacheTime\n  } = {}) {\n    const blockNumberHex = await (0, _utilsPromiseWithCacheJs.withCache)(() => client.request({\n      method: 'eth_blockNumber'\n    }), {\n      cacheKey: cacheKey(client.uid),\n      cacheTime\n    });\n    return BigInt(blockNumberHex);\n  }\n});","lineCount":49,"map":[[7,2,4,0,"exports"],[7,9,4,0],[7,10,4,0,"getBlockNumberCache"],[7,29,4,0],[7,32,4,0,"getBlockNumberCache"],[7,51,4,0],[8,2,30,0,"exports"],[8,9,30,0],[8,10,30,0,"getBlockNumber"],[8,24,30,0],[8,27,30,0,"getBlockNumber"],[8,41,30,0],[9,2,1,0],[9,6,1,0,"_utilsPromiseWithCacheJs"],[9,30,1,0],[9,33,1,0,"require"],[9,40,1,0],[9,41,1,0,"_dependencyMap"],[9,55,1,0],[10,2,2,0],[10,8,2,6,"cacheKey"],[10,16,2,14],[10,19,2,18,"id"],[10,21,2,20],[10,25,2,25],[10,40,2,40,"id"],[10,42,2,42],[10,44,2,44],[11,2,3,0],[12,2,4,7],[12,11,4,16,"getBlockNumberCache"],[12,30,4,35,"getBlockNumberCache"],[12,31,4,36,"id"],[12,33,4,38],[12,35,4,40],[13,4,5,4],[13,11,5,11],[13,15,5,11,"getCache"],[13,39,5,19],[13,40,5,19,"getCache"],[13,48,5,19],[13,50,5,20,"cacheKey"],[13,58,5,28],[13,59,5,29,"id"],[13,61,5,31],[13,62,5,32],[13,63,5,33],[14,2,6,0],[15,2,7,0],[16,0,8,0],[17,0,9,0],[18,0,10,0],[19,0,11,0],[20,0,12,0],[21,0,13,0],[22,0,14,0],[23,0,15,0],[24,0,16,0],[25,0,17,0],[26,0,18,0],[27,0,19,0],[28,0,20,0],[29,0,21,0],[30,0,22,0],[31,0,23,0],[32,0,24,0],[33,0,25,0],[34,0,26,0],[35,0,27,0],[36,0,28,0],[37,0,29,0],[38,2,30,7],[38,17,30,22,"getBlockNumber"],[38,31,30,36,"getBlockNumber"],[38,32,30,37,"client"],[38,38,30,43],[38,40,30,45],[39,4,30,47,"cacheTime"],[39,13,30,56],[39,16,30,59,"client"],[39,22,30,65],[39,23,30,66,"cacheTime"],[40,2,30,76],[40,3,30,77],[40,6,30,80],[40,7,30,81],[40,8,30,82],[40,10,30,84],[41,4,31,4],[41,10,31,10,"blockNumberHex"],[41,24,31,24],[41,27,31,27],[41,33,31,33],[41,37,31,33,"withCache"],[41,61,31,42],[41,62,31,42,"withCache"],[41,71,31,42],[41,73,31,43],[41,79,31,49,"client"],[41,85,31,55],[41,86,31,56,"request"],[41,93,31,63],[41,94,31,64],[42,6,32,8,"method"],[42,12,32,14],[42,14,32,16],[43,4,33,4],[43,5,33,5],[43,6,33,6],[43,8,33,8],[44,6,33,10,"cacheKey"],[44,14,33,18],[44,16,33,20,"cacheKey"],[44,24,33,28],[44,25,33,29,"client"],[44,31,33,35],[44,32,33,36,"uid"],[44,35,33,39],[44,36,33,40],[45,6,33,42,"cacheTime"],[46,4,33,52],[46,5,33,53],[46,6,33,54],[47,4,34,4],[47,11,34,11,"BigInt"],[47,17,34,17],[47,18,34,18,"blockNumberHex"],[47,32,34,32],[47,33,34,33],[48,2,35,0],[49,0,35,1],[49,3]],"functionMap":{"names":["<global>","cacheKey","getBlockNumberCache","getBlockNumber","withCache$argument_0"],"mappings":"AAA;iBCC,2BD;OEE;CFE;OGwB;2CCC;MDE;CHE"},"hasCjsExports":false},"type":"js/module"}]}