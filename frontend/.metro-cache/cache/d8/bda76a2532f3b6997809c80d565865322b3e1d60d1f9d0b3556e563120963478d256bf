{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.getSolBalance = getSolBalance;\n  exports.getQuantumBalance = getQuantumBalance;\n  exports.getAllTokenAccounts = getAllTokenAccounts;\n  exports.getUsdToEurRate = getUsdToEurRate;\n  Object.defineProperty(exports, \"QUANTUM_MINT\", {\n    enumerable: true,\n    get: function () {\n      return QUANTUM_MINT;\n    }\n  });\n  Object.defineProperty(exports, \"QUANTUM_PRICE_USD\", {\n    enumerable: true,\n    get: function () {\n      return QUANTUM_PRICE_USD;\n    }\n  });\n  /**\n   * Direct Solana JSON-RPC client.\n   * No @solana/web3.js dependency — avoids the rpc-websockets Metro bug.\n   * Pure fetch calls to Solana mainnet-beta.\n   */\n\n  const RPC_ENDPOINTS = ['https://api.mainnet-beta.solana.com', 'https://solana-mainnet.g.alchemy.com/v2/demo'];\n  const QUANTUM_MINT = '4KsZXRH3Xjd7z4CiuwgfNQstC2aHDLdJHv5u3tDixtLc';\n  const QUANTUM_PRICE_USD = 2.5;\n  async function rpcCall(method, params) {\n    let lastError;\n    for (const endpoint of RPC_ENDPOINTS) {\n      try {\n        const response = await fetch(endpoint, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            jsonrpc: '2.0',\n            id: 1,\n            method,\n            params\n          })\n        });\n        if (!response.ok) {\n          throw new Error(`HTTP ${response.status}`);\n        }\n        const data = await response.json();\n        if (data.error) {\n          throw new Error(data.error.message || 'RPC error');\n        }\n        return data.result;\n      } catch (err) {\n        lastError = err;\n        console.warn(`RPC call to ${endpoint} failed:`, err);\n        continue; // try next endpoint\n      }\n    }\n    throw lastError || new Error('All RPC endpoints failed');\n  }\n\n  // ─── Get SOL balance (in SOL, not lamports) ─────────────────\n  async function getSolBalance(walletAddress) {\n    try {\n      const lamports = await rpcCall('getBalance', [walletAddress]);\n      return (lamports?.value ?? 0) / 1e9; // lamports → SOL\n    } catch (err) {\n      console.error('getSolBalance error:', err);\n      return 0;\n    }\n  }\n\n  // ─── Get Quantum (SPL) token balance ────────────────────────\n\n  async function getQuantumBalance(walletAddress) {\n    try {\n      const result = await rpcCall('getTokenAccountsByOwner', [walletAddress, {\n        mint: QUANTUM_MINT\n      }, {\n        encoding: 'jsonParsed'\n      }]);\n      if (result?.value?.length > 0) {\n        const info = result.value[0].account.data.parsed.info.tokenAmount;\n        return {\n          amount: info.uiAmount ?? 0,\n          rawAmount: info.amount ?? '0',\n          decimals: info.decimals ?? 0,\n          uiAmountString: info.uiAmountString ?? '0'\n        };\n      }\n      return {\n        amount: 0,\n        rawAmount: '0',\n        decimals: 0,\n        uiAmountString: '0'\n      };\n    } catch (err) {\n      console.error('getQuantumBalance error:', err);\n      return {\n        amount: 0,\n        rawAmount: '0',\n        decimals: 0,\n        uiAmountString: '0'\n      };\n    }\n  }\n\n  // ─── Get all SPL token accounts for the wallet ──────────────\n  async function getAllTokenAccounts(walletAddress) {\n    try {\n      const result = await rpcCall('getTokenAccountsByOwner', [walletAddress, {\n        programId: 'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA'\n      }, {\n        encoding: 'jsonParsed'\n      }]);\n      return result?.value ?? [];\n    } catch (err) {\n      console.error('getAllTokenAccounts error:', err);\n      return [];\n    }\n  }\n\n  // ─── USD to EUR real-time rate ──────────────────────────────\n  let cachedEurRate = null;\n  const RATE_CACHE_MS = 10 * 60 * 1000; // 10 minutes\n\n  async function getUsdToEurRate() {\n    if (cachedEurRate && Date.now() - cachedEurRate.timestamp < RATE_CACHE_MS) {\n      return cachedEurRate.rate;\n    }\n    try {\n      const response = await fetch('https://api.exchangerate-api.com/v4/latest/USD');\n      const data = await response.json();\n      const rate = data.rates?.EUR ?? 0.92;\n      cachedEurRate = {\n        rate,\n        timestamp: Date.now()\n      };\n      return rate;\n    } catch {\n      return cachedEurRate?.rate ?? 0.92; // fallback\n    }\n  }\n\n  // ─── Constants ──────────────────────────────────────────────\n});","lineCount":149,"map":[[7,2,53,0,"exports"],[7,9,53,0],[7,10,53,0,"getSolBalance"],[7,23,53,0],[7,26,53,0,"getSolBalance"],[7,39,53,0],[8,2,71,0,"exports"],[8,9,71,0],[8,10,71,0,"getQuantumBalance"],[8,27,71,0],[8,30,71,0,"getQuantumBalance"],[8,47,71,0],[9,2,99,0,"exports"],[9,9,99,0],[9,10,99,0,"getAllTokenAccounts"],[9,29,99,0],[9,32,99,0,"getAllTokenAccounts"],[9,51,99,0],[10,2,119,0,"exports"],[10,9,119,0],[10,10,119,0,"getUsdToEurRate"],[10,25,119,0],[10,28,119,0,"getUsdToEurRate"],[10,43,119,0],[11,2,141,0,"Object"],[11,8,141,0],[11,9,141,0,"defineProperty"],[11,23,141,0],[11,24,141,0,"exports"],[11,31,141,0],[12,4,141,0,"enumerable"],[12,14,141,0],[13,4,141,0,"get"],[13,7,141,0],[13,18,141,0,"get"],[13,19,141,0],[14,6,141,0],[14,13,141,9,"QUANTUM_MINT"],[14,25,141,21],[15,4,141,21],[16,2,141,21],[17,2,141,0,"Object"],[17,8,141,0],[17,9,141,0,"defineProperty"],[17,23,141,0],[17,24,141,0,"exports"],[17,31,141,0],[18,4,141,0,"enumerable"],[18,14,141,0],[19,4,141,0,"get"],[19,7,141,0],[19,18,141,0,"get"],[19,19,141,0],[20,6,141,0],[20,13,141,23,"QUANTUM_PRICE_USD"],[20,30,141,40],[21,4,141,40],[22,2,141,40],[23,2,1,0],[24,0,2,0],[25,0,3,0],[26,0,4,0],[27,0,5,0],[29,2,7,0],[29,8,7,6,"RPC_ENDPOINTS"],[29,21,7,19],[29,24,7,22],[29,25,8,2],[29,62,8,39],[29,64,9,2],[29,110,9,48],[29,111,10,1],[30,2,12,0],[30,8,12,6,"QUANTUM_MINT"],[30,20,12,18],[30,23,12,21],[30,69,12,67],[31,2,13,0],[31,8,13,6,"QUANTUM_PRICE_USD"],[31,25,13,23],[31,28,13,26],[31,31,13,29],[32,2,15,0],[32,17,15,15,"rpcCall"],[32,24,15,22,"rpcCall"],[32,25,15,23,"method"],[32,31,15,37],[32,33,15,39,"params"],[32,39,15,52],[32,41,15,68],[33,4,16,2],[33,8,16,6,"lastError"],[33,17,16,20],[34,4,18,2],[34,9,18,7],[34,15,18,13,"endpoint"],[34,23,18,21],[34,27,18,25,"RPC_ENDPOINTS"],[34,40,18,38],[34,42,18,40],[35,6,19,4],[35,10,19,8],[36,8,20,6],[36,14,20,12,"response"],[36,22,20,20],[36,25,20,23],[36,31,20,29,"fetch"],[36,36,20,34],[36,37,20,35,"endpoint"],[36,45,20,43],[36,47,20,45],[37,10,21,8,"method"],[37,16,21,14],[37,18,21,16],[37,24,21,22],[38,10,22,8,"headers"],[38,17,22,15],[38,19,22,17],[39,12,22,19],[39,26,22,33],[39,28,22,35],[40,10,22,54],[40,11,22,55],[41,10,23,8,"body"],[41,14,23,12],[41,16,23,14,"JSON"],[41,20,23,18],[41,21,23,19,"stringify"],[41,30,23,28],[41,31,23,29],[42,12,24,10,"jsonrpc"],[42,19,24,17],[42,21,24,19],[42,26,24,24],[43,12,25,10,"id"],[43,14,25,12],[43,16,25,14],[43,17,25,15],[44,12,26,10,"method"],[44,18,26,16],[45,12,27,10,"params"],[46,10,28,8],[46,11,28,9],[47,8,29,6],[47,9,29,7],[47,10,29,8],[48,8,31,6],[48,12,31,10],[48,13,31,11,"response"],[48,21,31,19],[48,22,31,20,"ok"],[48,24,31,22],[48,26,31,24],[49,10,32,8],[49,16,32,14],[49,20,32,18,"Error"],[49,25,32,23],[49,26,32,24],[49,34,32,32,"response"],[49,42,32,40],[49,43,32,41,"status"],[49,49,32,47],[49,51,32,49],[49,52,32,50],[50,8,33,6],[51,8,35,6],[51,14,35,12,"data"],[51,18,35,16],[51,21,35,19],[51,27,35,25,"response"],[51,35,35,33],[51,36,35,34,"json"],[51,40,35,38],[51,41,35,39],[51,42,35,40],[52,8,37,6],[52,12,37,10,"data"],[52,16,37,14],[52,17,37,15,"error"],[52,22,37,20],[52,24,37,22],[53,10,38,8],[53,16,38,14],[53,20,38,18,"Error"],[53,25,38,23],[53,26,38,24,"data"],[53,30,38,28],[53,31,38,29,"error"],[53,36,38,34],[53,37,38,35,"message"],[53,44,38,42],[53,48,38,46],[53,59,38,57],[53,60,38,58],[54,8,39,6],[55,8,41,6],[55,15,41,13,"data"],[55,19,41,17],[55,20,41,18,"result"],[55,26,41,24],[56,6,42,4],[56,7,42,5],[56,8,42,6],[56,15,42,13,"err"],[56,18,42,16],[56,20,42,18],[57,8,43,6,"lastError"],[57,17,43,15],[57,20,43,18,"err"],[57,23,43,21],[58,8,44,6,"console"],[58,15,44,13],[58,16,44,14,"warn"],[58,20,44,18],[58,21,44,19],[58,36,44,34,"endpoint"],[58,44,44,42],[58,54,44,52],[58,56,44,54,"err"],[58,59,44,57],[58,60,44,58],[59,8,45,6],[59,17,45,15],[59,18,45,16],[60,6,46,4],[61,4,47,2],[62,4,49,2],[62,10,49,8,"lastError"],[62,19,49,17],[62,23,49,21],[62,27,49,25,"Error"],[62,32,49,30],[62,33,49,31],[62,59,49,57],[62,60,49,58],[63,2,50,0],[65,2,52,0],[66,2,53,7],[66,17,53,22,"getSolBalance"],[66,30,53,35,"getSolBalance"],[66,31,53,36,"walletAddress"],[66,44,53,57],[66,46,53,76],[67,4,54,2],[67,8,54,6],[68,6,55,4],[68,12,55,10,"lamports"],[68,20,55,18],[68,23,55,21],[68,29,55,27,"rpcCall"],[68,36,55,34],[68,37,55,35],[68,49,55,47],[68,51,55,49],[68,52,55,50,"walletAddress"],[68,65,55,63],[68,66,55,64],[68,67,55,65],[69,6,56,4],[69,13,56,11],[69,14,56,12,"lamports"],[69,22,56,20],[69,24,56,22,"value"],[69,29,56,27],[69,33,56,31],[69,34,56,32],[69,38,56,36],[69,41,56,39],[69,42,56,40],[69,43,56,41],[70,4,57,2],[70,5,57,3],[70,6,57,4],[70,13,57,11,"err"],[70,16,57,14],[70,18,57,16],[71,6,58,4,"console"],[71,13,58,11],[71,14,58,12,"error"],[71,19,58,17],[71,20,58,18],[71,42,58,40],[71,44,58,42,"err"],[71,47,58,45],[71,48,58,46],[72,6,59,4],[72,13,59,11],[72,14,59,12],[73,4,60,2],[74,2,61,0],[76,2,63,0],[78,2,71,7],[78,17,71,22,"getQuantumBalance"],[78,34,71,39,"getQuantumBalance"],[78,35,72,2,"walletAddress"],[78,48,72,23],[78,50,73,25],[79,4,74,2],[79,8,74,6],[80,6,75,4],[80,12,75,10,"result"],[80,18,75,16],[80,21,75,19],[80,27,75,25,"rpcCall"],[80,34,75,32],[80,35,75,33],[80,60,75,58],[80,62,75,60],[80,63,76,6,"walletAddress"],[80,76,76,19],[80,78,77,6],[81,8,77,8,"mint"],[81,12,77,12],[81,14,77,14,"QUANTUM_MINT"],[82,6,77,27],[82,7,77,28],[82,9,78,6],[83,8,78,8,"encoding"],[83,16,78,16],[83,18,78,18],[84,6,78,31],[84,7,78,32],[84,8,79,5],[84,9,79,6],[85,6,81,4],[85,10,81,8,"result"],[85,16,81,14],[85,18,81,16,"value"],[85,23,81,21],[85,25,81,23,"length"],[85,31,81,29],[85,34,81,32],[85,35,81,33],[85,37,81,35],[86,8,82,6],[86,14,82,12,"info"],[86,18,82,16],[86,21,82,19,"result"],[86,27,82,25],[86,28,82,26,"value"],[86,33,82,31],[86,34,82,32],[86,35,82,33],[86,36,82,34],[86,37,82,35,"account"],[86,44,82,42],[86,45,82,43,"data"],[86,49,82,47],[86,50,82,48,"parsed"],[86,56,82,54],[86,57,82,55,"info"],[86,61,82,59],[86,62,82,60,"tokenAmount"],[86,73,82,71],[87,8,83,6],[87,15,83,13],[88,10,84,8,"amount"],[88,16,84,14],[88,18,84,16,"info"],[88,22,84,20],[88,23,84,21,"uiAmount"],[88,31,84,29],[88,35,84,33],[88,36,84,34],[89,10,85,8,"rawAmount"],[89,19,85,17],[89,21,85,19,"info"],[89,25,85,23],[89,26,85,24,"amount"],[89,32,85,30],[89,36,85,34],[89,39,85,37],[90,10,86,8,"decimals"],[90,18,86,16],[90,20,86,18,"info"],[90,24,86,22],[90,25,86,23,"decimals"],[90,33,86,31],[90,37,86,35],[90,38,86,36],[91,10,87,8,"uiAmountString"],[91,24,87,22],[91,26,87,24,"info"],[91,30,87,28],[91,31,87,29,"uiAmountString"],[91,45,87,43],[91,49,87,47],[92,8,88,6],[92,9,88,7],[93,6,89,4],[94,6,91,4],[94,13,91,11],[95,8,91,13,"amount"],[95,14,91,19],[95,16,91,21],[95,17,91,22],[96,8,91,24,"rawAmount"],[96,17,91,33],[96,19,91,35],[96,22,91,38],[97,8,91,40,"decimals"],[97,16,91,48],[97,18,91,50],[97,19,91,51],[98,8,91,53,"uiAmountString"],[98,22,91,67],[98,24,91,69],[99,6,91,73],[99,7,91,74],[100,4,92,2],[100,5,92,3],[100,6,92,4],[100,13,92,11,"err"],[100,16,92,14],[100,18,92,16],[101,6,93,4,"console"],[101,13,93,11],[101,14,93,12,"error"],[101,19,93,17],[101,20,93,18],[101,46,93,44],[101,48,93,46,"err"],[101,51,93,49],[101,52,93,50],[102,6,94,4],[102,13,94,11],[103,8,94,13,"amount"],[103,14,94,19],[103,16,94,21],[103,17,94,22],[104,8,94,24,"rawAmount"],[104,17,94,33],[104,19,94,35],[104,22,94,38],[105,8,94,40,"decimals"],[105,16,94,48],[105,18,94,50],[105,19,94,51],[106,8,94,53,"uiAmountString"],[106,22,94,67],[106,24,94,69],[107,6,94,73],[107,7,94,74],[108,4,95,2],[109,2,96,0],[111,2,98,0],[112,2,99,7],[112,17,99,22,"getAllTokenAccounts"],[112,36,99,41,"getAllTokenAccounts"],[112,37,100,2,"walletAddress"],[112,50,100,23],[112,52,101,18],[113,4,102,2],[113,8,102,6],[114,6,103,4],[114,12,103,10,"result"],[114,18,103,16],[114,21,103,19],[114,27,103,25,"rpcCall"],[114,34,103,32],[114,35,103,33],[114,60,103,58],[114,62,103,60],[114,63,104,6,"walletAddress"],[114,76,104,19],[114,78,105,6],[115,8,105,8,"programId"],[115,17,105,17],[115,19,105,19],[116,6,105,65],[116,7,105,66],[116,9,106,6],[117,8,106,8,"encoding"],[117,16,106,16],[117,18,106,18],[118,6,106,31],[118,7,106,32],[118,8,107,5],[118,9,107,6],[119,6,108,4],[119,13,108,11,"result"],[119,19,108,17],[119,21,108,19,"value"],[119,26,108,24],[119,30,108,28],[119,32,108,30],[120,4,109,2],[120,5,109,3],[120,6,109,4],[120,13,109,11,"err"],[120,16,109,14],[120,18,109,16],[121,6,110,4,"console"],[121,13,110,11],[121,14,110,12,"error"],[121,19,110,17],[121,20,110,18],[121,48,110,46],[121,50,110,48,"err"],[121,53,110,51],[121,54,110,52],[122,6,111,4],[122,13,111,11],[122,15,111,13],[123,4,112,2],[124,2,113,0],[126,2,115,0],[127,2,116,0],[127,6,116,4,"cachedEurRate"],[127,19,116,61],[127,22,116,64],[127,26,116,68],[128,2,117,0],[128,8,117,6,"RATE_CACHE_MS"],[128,21,117,19],[128,24,117,22],[128,26,117,24],[128,29,117,27],[128,31,117,29],[128,34,117,32],[128,38,117,36],[128,39,117,37],[128,40,117,38],[130,2,119,7],[130,17,119,22,"getUsdToEurRate"],[130,32,119,37,"getUsdToEurRate"],[130,33,119,37],[130,35,119,57],[131,4,120,2],[131,8,121,4,"cachedEurRate"],[131,21,121,17],[131,25,122,4,"Date"],[131,29,122,8],[131,30,122,9,"now"],[131,33,122,12],[131,34,122,13],[131,35,122,14],[131,38,122,17,"cachedEurRate"],[131,51,122,30],[131,52,122,31,"timestamp"],[131,61,122,40],[131,64,122,43,"RATE_CACHE_MS"],[131,77,122,56],[131,79,123,4],[132,6,124,4],[132,13,124,11,"cachedEurRate"],[132,26,124,24],[132,27,124,25,"rate"],[132,31,124,29],[133,4,125,2],[134,4,127,2],[134,8,127,6],[135,6,128,4],[135,12,128,10,"response"],[135,20,128,18],[135,23,128,21],[135,29,128,27,"fetch"],[135,34,128,32],[135,35,129,6],[135,83,130,4],[135,84,130,5],[136,6,131,4],[136,12,131,10,"data"],[136,16,131,14],[136,19,131,17],[136,25,131,23,"response"],[136,33,131,31],[136,34,131,32,"json"],[136,38,131,36],[136,39,131,37],[136,40,131,38],[137,6,132,4],[137,12,132,10,"rate"],[137,16,132,14],[137,19,132,17,"data"],[137,23,132,21],[137,24,132,22,"rates"],[137,29,132,27],[137,31,132,29,"EUR"],[137,34,132,32],[137,38,132,36],[137,42,132,40],[138,6,133,4,"cachedEurRate"],[138,19,133,17],[138,22,133,20],[139,8,133,22,"rate"],[139,12,133,26],[140,8,133,28,"timestamp"],[140,17,133,37],[140,19,133,39,"Date"],[140,23,133,43],[140,24,133,44,"now"],[140,27,133,47],[140,28,133,48],[141,6,133,50],[141,7,133,51],[142,6,134,4],[142,13,134,11,"rate"],[142,17,134,15],[143,4,135,2],[143,5,135,3],[143,6,135,4],[143,12,135,10],[144,6,136,4],[144,13,136,11,"cachedEurRate"],[144,26,136,24],[144,28,136,26,"rate"],[144,32,136,30],[144,36,136,34],[144,40,136,38],[144,41,136,39],[144,42,136,40],[145,4,137,2],[146,2,138,0],[148,2,140,0],[149,0,140,0],[149,3]],"functionMap":{"names":["<global>","rpcCall","getSolBalance","getQuantumBalance","getAllTokenAccounts","getUsdToEurRate"],"mappings":"AAA;ACc;CDmC;OEG;CFQ;OGU;CHyB;OIG;CJc;OKM;CLmB"},"hasCjsExports":false},"type":"js/module"}]}