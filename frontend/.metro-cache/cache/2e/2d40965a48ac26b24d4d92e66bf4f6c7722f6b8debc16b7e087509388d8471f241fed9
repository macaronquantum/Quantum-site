{"dependencies":[{"name":"../errors","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":17,"index":214},"end":{"line":7,"column":37,"index":234}}],"key":"iI2wDtrGlKjO3ksFzW75fbTNGvA=","exportNames":["*"],"imports":1}},{"name":"./constants","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":20,"index":256},"end":{"line":8,"column":42,"index":278}}],"key":"3z43bJyk/UB4EKjDCOXTFak09do=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.decode = exports.TrezorPushNotificationMode = exports.TrezorPushNotificationType = exports.Version = void 0;\n  const errors_1 = require(_dependencyMap[0], \"../errors\");\n  const constants_1 = require(_dependencyMap[1], \"./constants\");\n  var Version;\n  (function (Version) {\n    Version[Version[\"v1\"] = 1] = \"v1\";\n  })(Version || (exports.Version = Version = {}));\n  var TrezorPushNotificationType;\n  (function (TrezorPushNotificationType) {\n    TrezorPushNotificationType[TrezorPushNotificationType[\"BOOT\"] = 0] = \"BOOT\";\n    TrezorPushNotificationType[TrezorPushNotificationType[\"UNLOCK\"] = 1] = \"UNLOCK\";\n    TrezorPushNotificationType[TrezorPushNotificationType[\"LOCK\"] = 2] = \"LOCK\";\n    TrezorPushNotificationType[TrezorPushNotificationType[\"DISCONNECT\"] = 3] = \"DISCONNECT\";\n    TrezorPushNotificationType[TrezorPushNotificationType[\"SETTING_CHANGE\"] = 4] = \"SETTING_CHANGE\";\n    TrezorPushNotificationType[TrezorPushNotificationType[\"SOFTLOCK\"] = 5] = \"SOFTLOCK\";\n    TrezorPushNotificationType[TrezorPushNotificationType[\"SOFTUNLOCK\"] = 6] = \"SOFTUNLOCK\";\n    TrezorPushNotificationType[TrezorPushNotificationType[\"PIN_CHANGE\"] = 7] = \"PIN_CHANGE\";\n    TrezorPushNotificationType[TrezorPushNotificationType[\"WIPE\"] = 8] = \"WIPE\";\n    TrezorPushNotificationType[TrezorPushNotificationType[\"UNPAIR\"] = 9] = \"UNPAIR\";\n    TrezorPushNotificationType[TrezorPushNotificationType[\"NOTIFY_POWER_STATUS_CHANGE\"] = 10] = \"NOTIFY_POWER_STATUS_CHANGE\";\n  })(TrezorPushNotificationType || (exports.TrezorPushNotificationType = TrezorPushNotificationType = {}));\n  var TrezorPushNotificationMode;\n  (function (TrezorPushNotificationMode) {\n    TrezorPushNotificationMode[TrezorPushNotificationMode[\"NormalMode\"] = 0] = \"NormalMode\";\n    TrezorPushNotificationMode[TrezorPushNotificationMode[\"BootloaderMode\"] = 1] = \"BootloaderMode\";\n  })(TrezorPushNotificationMode || (exports.TrezorPushNotificationMode = TrezorPushNotificationMode = {}));\n  const decode = message => {\n    const [version, type, mode] = message;\n    if (!version || version !== constants_1.TPN_VERSION) {\n      return {\n        success: false,\n        error: errors_1.PROTOCOL_MISSMATCH_VERSION\n      };\n    }\n    if (message.length < constants_1.MESSAGE_LENGTH || !Object.values(Version).includes(version) || !Object.values(TrezorPushNotificationType).includes(type) || !Object.values(TrezorPushNotificationMode).includes(mode)) {\n      return {\n        success: false,\n        error: errors_1.PROTOCOL_MALFORMED\n      };\n    }\n    return {\n      success: true,\n      payload: {\n        type,\n        mode\n      }\n    };\n  };\n  exports.decode = decode;\n});","lineCount":56,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"decode"],[7,16,6,14],[7,19,6,17,"exports"],[7,26,6,24],[7,27,6,25,"TrezorPushNotificationMode"],[7,53,6,51],[7,56,6,54,"exports"],[7,63,6,61],[7,64,6,62,"TrezorPushNotificationType"],[7,90,6,88],[7,93,6,91,"exports"],[7,100,6,98],[7,101,6,99,"Version"],[7,108,6,106],[7,111,6,109],[7,116,6,114],[7,117,6,115],[8,2,7,0],[8,8,7,6,"errors_1"],[8,16,7,14],[8,19,7,17,"require"],[8,26,7,24],[8,27,7,24,"_dependencyMap"],[8,41,7,24],[8,57,7,36],[8,58,7,37],[9,2,8,0],[9,8,8,6,"constants_1"],[9,19,8,17],[9,22,8,20,"require"],[9,29,8,27],[9,30,8,27,"_dependencyMap"],[9,44,8,27],[9,62,8,41],[9,63,8,42],[10,2,9,0],[10,6,9,4,"Version"],[10,13,9,11],[11,2,10,0],[11,3,10,1],[11,13,10,11,"Version"],[11,20,10,18],[11,22,10,20],[12,4,11,2,"Version"],[12,11,11,9],[12,12,11,10,"Version"],[12,19,11,17],[12,20,11,18],[12,24,11,22],[12,25,11,23],[12,28,11,26],[12,29,11,27],[12,30,11,28],[12,33,11,31],[12,37,11,35],[13,2,12,0],[13,3,12,1],[13,5,12,3,"Version"],[13,12,12,10],[13,17,12,15,"exports"],[13,24,12,22],[13,25,12,23,"Version"],[13,32,12,30],[13,35,12,33,"Version"],[13,42,12,40],[13,45,12,43],[13,46,12,44],[13,47,12,45],[13,48,12,46],[13,49,12,47],[14,2,13,0],[14,6,13,4,"TrezorPushNotificationType"],[14,32,13,30],[15,2,14,0],[15,3,14,1],[15,13,14,11,"TrezorPushNotificationType"],[15,39,14,37],[15,41,14,39],[16,4,15,2,"TrezorPushNotificationType"],[16,30,15,28],[16,31,15,29,"TrezorPushNotificationType"],[16,57,15,55],[16,58,15,56],[16,64,15,62],[16,65,15,63],[16,68,15,66],[16,69,15,67],[16,70,15,68],[16,73,15,71],[16,79,15,77],[17,4,16,2,"TrezorPushNotificationType"],[17,30,16,28],[17,31,16,29,"TrezorPushNotificationType"],[17,57,16,55],[17,58,16,56],[17,66,16,64],[17,67,16,65],[17,70,16,68],[17,71,16,69],[17,72,16,70],[17,75,16,73],[17,83,16,81],[18,4,17,2,"TrezorPushNotificationType"],[18,30,17,28],[18,31,17,29,"TrezorPushNotificationType"],[18,57,17,55],[18,58,17,56],[18,64,17,62],[18,65,17,63],[18,68,17,66],[18,69,17,67],[18,70,17,68],[18,73,17,71],[18,79,17,77],[19,4,18,2,"TrezorPushNotificationType"],[19,30,18,28],[19,31,18,29,"TrezorPushNotificationType"],[19,57,18,55],[19,58,18,56],[19,70,18,68],[19,71,18,69],[19,74,18,72],[19,75,18,73],[19,76,18,74],[19,79,18,77],[19,91,18,89],[20,4,19,2,"TrezorPushNotificationType"],[20,30,19,28],[20,31,19,29,"TrezorPushNotificationType"],[20,57,19,55],[20,58,19,56],[20,74,19,72],[20,75,19,73],[20,78,19,76],[20,79,19,77],[20,80,19,78],[20,83,19,81],[20,99,19,97],[21,4,20,2,"TrezorPushNotificationType"],[21,30,20,28],[21,31,20,29,"TrezorPushNotificationType"],[21,57,20,55],[21,58,20,56],[21,68,20,66],[21,69,20,67],[21,72,20,70],[21,73,20,71],[21,74,20,72],[21,77,20,75],[21,87,20,85],[22,4,21,2,"TrezorPushNotificationType"],[22,30,21,28],[22,31,21,29,"TrezorPushNotificationType"],[22,57,21,55],[22,58,21,56],[22,70,21,68],[22,71,21,69],[22,74,21,72],[22,75,21,73],[22,76,21,74],[22,79,21,77],[22,91,21,89],[23,4,22,2,"TrezorPushNotificationType"],[23,30,22,28],[23,31,22,29,"TrezorPushNotificationType"],[23,57,22,55],[23,58,22,56],[23,70,22,68],[23,71,22,69],[23,74,22,72],[23,75,22,73],[23,76,22,74],[23,79,22,77],[23,91,22,89],[24,4,23,2,"TrezorPushNotificationType"],[24,30,23,28],[24,31,23,29,"TrezorPushNotificationType"],[24,57,23,55],[24,58,23,56],[24,64,23,62],[24,65,23,63],[24,68,23,66],[24,69,23,67],[24,70,23,68],[24,73,23,71],[24,79,23,77],[25,4,24,2,"TrezorPushNotificationType"],[25,30,24,28],[25,31,24,29,"TrezorPushNotificationType"],[25,57,24,55],[25,58,24,56],[25,66,24,64],[25,67,24,65],[25,70,24,68],[25,71,24,69],[25,72,24,70],[25,75,24,73],[25,83,24,81],[26,4,25,2,"TrezorPushNotificationType"],[26,30,25,28],[26,31,25,29,"TrezorPushNotificationType"],[26,57,25,55],[26,58,25,56],[26,86,25,84],[26,87,25,85],[26,90,25,88],[26,92,25,90],[26,93,25,91],[26,96,25,94],[26,124,25,122],[27,2,26,0],[27,3,26,1],[27,5,26,3,"TrezorPushNotificationType"],[27,31,26,29],[27,36,26,34,"exports"],[27,43,26,41],[27,44,26,42,"TrezorPushNotificationType"],[27,70,26,68],[27,73,26,71,"TrezorPushNotificationType"],[27,99,26,97],[27,102,26,100],[27,103,26,101],[27,104,26,102],[27,105,26,103],[27,106,26,104],[28,2,27,0],[28,6,27,4,"TrezorPushNotificationMode"],[28,32,27,30],[29,2,28,0],[29,3,28,1],[29,13,28,11,"TrezorPushNotificationMode"],[29,39,28,37],[29,41,28,39],[30,4,29,2,"TrezorPushNotificationMode"],[30,30,29,28],[30,31,29,29,"TrezorPushNotificationMode"],[30,57,29,55],[30,58,29,56],[30,70,29,68],[30,71,29,69],[30,74,29,72],[30,75,29,73],[30,76,29,74],[30,79,29,77],[30,91,29,89],[31,4,30,2,"TrezorPushNotificationMode"],[31,30,30,28],[31,31,30,29,"TrezorPushNotificationMode"],[31,57,30,55],[31,58,30,56],[31,74,30,72],[31,75,30,73],[31,78,30,76],[31,79,30,77],[31,80,30,78],[31,83,30,81],[31,99,30,97],[32,2,31,0],[32,3,31,1],[32,5,31,3,"TrezorPushNotificationMode"],[32,31,31,29],[32,36,31,34,"exports"],[32,43,31,41],[32,44,31,42,"TrezorPushNotificationMode"],[32,70,31,68],[32,73,31,71,"TrezorPushNotificationMode"],[32,99,31,97],[32,102,31,100],[32,103,31,101],[32,104,31,102],[32,105,31,103],[32,106,31,104],[33,2,32,0],[33,8,32,6,"decode"],[33,14,32,12],[33,17,32,15,"message"],[33,24,32,22],[33,28,32,26],[34,4,33,2],[34,10,33,8],[34,11,33,9,"version"],[34,18,33,16],[34,20,33,18,"type"],[34,24,33,22],[34,26,33,24,"mode"],[34,30,33,28],[34,31,33,29],[34,34,33,32,"message"],[34,41,33,39],[35,4,34,2],[35,8,34,6],[35,9,34,7,"version"],[35,16,34,14],[35,20,34,18,"version"],[35,27,34,25],[35,32,34,30,"constants_1"],[35,43,34,41],[35,44,34,42,"TPN_VERSION"],[35,55,34,53],[35,57,34,55],[36,6,35,4],[36,13,35,11],[37,8,36,6,"success"],[37,15,36,13],[37,17,36,15],[37,22,36,20],[38,8,37,6,"error"],[38,13,37,11],[38,15,37,13,"errors_1"],[38,23,37,21],[38,24,37,22,"PROTOCOL_MISSMATCH_VERSION"],[39,6,38,4],[39,7,38,5],[40,4,39,2],[41,4,40,2],[41,8,40,6,"message"],[41,15,40,13],[41,16,40,14,"length"],[41,22,40,20],[41,25,40,23,"constants_1"],[41,36,40,34],[41,37,40,35,"MESSAGE_LENGTH"],[41,51,40,49],[41,55,40,53],[41,56,40,54,"Object"],[41,62,40,60],[41,63,40,61,"values"],[41,69,40,67],[41,70,40,68,"Version"],[41,77,40,75],[41,78,40,76],[41,79,40,77,"includes"],[41,87,40,85],[41,88,40,86,"version"],[41,95,40,93],[41,96,40,94],[41,100,40,98],[41,101,40,99,"Object"],[41,107,40,105],[41,108,40,106,"values"],[41,114,40,112],[41,115,40,113,"TrezorPushNotificationType"],[41,141,40,139],[41,142,40,140],[41,143,40,141,"includes"],[41,151,40,149],[41,152,40,150,"type"],[41,156,40,154],[41,157,40,155],[41,161,40,159],[41,162,40,160,"Object"],[41,168,40,166],[41,169,40,167,"values"],[41,175,40,173],[41,176,40,174,"TrezorPushNotificationMode"],[41,202,40,200],[41,203,40,201],[41,204,40,202,"includes"],[41,212,40,210],[41,213,40,211,"mode"],[41,217,40,215],[41,218,40,216],[41,220,40,218],[42,6,41,4],[42,13,41,11],[43,8,42,6,"success"],[43,15,42,13],[43,17,42,15],[43,22,42,20],[44,8,43,6,"error"],[44,13,43,11],[44,15,43,13,"errors_1"],[44,23,43,21],[44,24,43,22,"PROTOCOL_MALFORMED"],[45,6,44,4],[45,7,44,5],[46,4,45,2],[47,4,46,2],[47,11,46,9],[48,6,47,4,"success"],[48,13,47,11],[48,15,47,13],[48,19,47,17],[49,6,48,4,"payload"],[49,13,48,11],[49,15,48,13],[50,8,49,6,"type"],[50,12,49,10],[51,8,50,6,"mode"],[52,6,51,4],[53,4,52,2],[53,5,52,3],[54,2,53,0],[54,3,53,1],[55,2,54,0,"exports"],[55,9,54,7],[55,10,54,8,"decode"],[55,16,54,14],[55,19,54,17,"decode"],[55,25,54,23],[56,0,54,24],[56,3]],"functionMap":{"names":["<global>","<anonymous>","decode"],"mappings":"AAA;CCS;CDE;CCE;CDY;CCE;CDG;eEC;CFqB"},"hasCjsExports":true},"type":"js/module"}]}