{"dependencies":[{"name":"../../constants/abis.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":70,"index":70}}],"key":"LZvwvaZmwAX6SyAqVHRt5iP6qx8=","exportNames":["*"],"imports":1}},{"name":"../../utils/chain/getChainContractAddress.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":71},"end":{"line":2,"column":88,"index":159}}],"key":"8qS5kCcV3GKt7vxDZBWLzJuplRM=","exportNames":["*"],"imports":1}},{"name":"../../utils/ens/errors.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":73,"index":233}}],"key":"PnlrScciUN4PT5dk7YYfSZS8dDA=","exportNames":["*"],"imports":1}},{"name":"../../utils/ens/localBatchGatewayRequest.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":234},"end":{"line":4,"column":83,"index":317}}],"key":"SupR2cuuwa1DBj8CyDwtc1ZTkCg=","exportNames":["*"],"imports":1}},{"name":"../../utils/getAction.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":318},"end":{"line":5,"column":53,"index":371}}],"key":"vt4scbNyA2t/tyY0oQJI6AZPJS4=","exportNames":["*"],"imports":1}},{"name":"../public/readContract.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":372},"end":{"line":6,"column":58,"index":430}}],"key":"duxLiRpfja/POd/F8+OKH9hCagk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.getEnsName = getEnsName;\n  var _constantsAbisJs = require(_dependencyMap[0], \"../../constants/abis.js\");\n  var _utilsChainGetChainContractAddressJs = require(_dependencyMap[1], \"../../utils/chain/getChainContractAddress.js\");\n  var _utilsEnsErrorsJs = require(_dependencyMap[2], \"../../utils/ens/errors.js\");\n  var _utilsEnsLocalBatchGatewayRequestJs = require(_dependencyMap[3], \"../../utils/ens/localBatchGatewayRequest.js\");\n  var _utilsGetActionJs = require(_dependencyMap[4], \"../../utils/getAction.js\");\n  var _publicReadContractJs = require(_dependencyMap[5], \"../public/readContract.js\");\n  /**\n   * Gets primary name for specified address.\n   *\n   * - Docs: https://viem.sh/docs/ens/actions/getEnsName\n   * - Examples: https://stackblitz.com/github/wevm/viem/tree/main/examples/ens\n   *\n   * Calls `reverse(bytes)` on ENS Universal Resolver Contract to \"reverse resolve\" the address to the primary ENS name.\n   *\n   * @param client - Client to use\n   * @param parameters - {@link GetEnsNameParameters}\n   * @returns Name or `null` if not found. {@link GetEnsNameReturnType}\n   *\n   * @example\n   * import { createPublicClient, http } from 'viem'\n   * import { mainnet } from 'viem/chains'\n   * import { getEnsName } from 'viem/ens'\n   *\n   * const client = createPublicClient({\n   *   chain: mainnet,\n   *   transport: http(),\n   * })\n   * const ensName = await getEnsName(client, {\n   *   address: '0xd2135CfB216b74109775236E36d4b433F1DF507B',\n   * })\n   * // 'wevm.eth'\n   */\n  async function getEnsName(client, parameters) {\n    const {\n      address,\n      blockNumber,\n      blockTag,\n      coinType = 60n,\n      gatewayUrls,\n      strict\n    } = parameters;\n    const {\n      chain\n    } = client;\n    const universalResolverAddress = (() => {\n      if (parameters.universalResolverAddress) return parameters.universalResolverAddress;\n      if (!chain) throw new Error('client chain not configured. universalResolverAddress is required.');\n      return (0, _utilsChainGetChainContractAddressJs.getChainContractAddress)({\n        blockNumber,\n        chain,\n        contract: 'ensUniversalResolver'\n      });\n    })();\n    try {\n      const readContractParameters = {\n        address: universalResolverAddress,\n        abi: _constantsAbisJs.universalResolverReverseAbi,\n        args: [address, coinType, gatewayUrls ?? [_utilsEnsLocalBatchGatewayRequestJs.localBatchGatewayUrl]],\n        functionName: 'reverseWithGateways',\n        blockNumber,\n        blockTag\n      };\n      const readContractAction = (0, _utilsGetActionJs.getAction)(client, _publicReadContractJs.readContract, 'readContract');\n      const [name] = await readContractAction(readContractParameters);\n      return name || null;\n    } catch (err) {\n      if (strict) throw err;\n      if ((0, _utilsEnsErrorsJs.isNullUniversalResolverError)(err)) return null;\n      throw err;\n    }\n  }\n});","lineCount":79,"map":[[7,2,33,0,"exports"],[7,9,33,0],[7,10,33,0,"getEnsName"],[7,20,33,0],[7,23,33,0,"getEnsName"],[7,33,33,0],[8,2,1,0],[8,6,1,0,"_constantsAbisJs"],[8,22,1,0],[8,25,1,0,"require"],[8,32,1,0],[8,33,1,0,"_dependencyMap"],[8,47,1,0],[9,2,2,0],[9,6,2,0,"_utilsChainGetChainContractAddressJs"],[9,42,2,0],[9,45,2,0,"require"],[9,52,2,0],[9,53,2,0,"_dependencyMap"],[9,67,2,0],[10,2,3,0],[10,6,3,0,"_utilsEnsErrorsJs"],[10,23,3,0],[10,26,3,0,"require"],[10,33,3,0],[10,34,3,0,"_dependencyMap"],[10,48,3,0],[11,2,4,0],[11,6,4,0,"_utilsEnsLocalBatchGatewayRequestJs"],[11,41,4,0],[11,44,4,0,"require"],[11,51,4,0],[11,52,4,0,"_dependencyMap"],[11,66,4,0],[12,2,5,0],[12,6,5,0,"_utilsGetActionJs"],[12,23,5,0],[12,26,5,0,"require"],[12,33,5,0],[12,34,5,0,"_dependencyMap"],[12,48,5,0],[13,2,6,0],[13,6,6,0,"_publicReadContractJs"],[13,27,6,0],[13,30,6,0,"require"],[13,37,6,0],[13,38,6,0,"_dependencyMap"],[13,52,6,0],[14,2,7,0],[15,0,8,0],[16,0,9,0],[17,0,10,0],[18,0,11,0],[19,0,12,0],[20,0,13,0],[21,0,14,0],[22,0,15,0],[23,0,16,0],[24,0,17,0],[25,0,18,0],[26,0,19,0],[27,0,20,0],[28,0,21,0],[29,0,22,0],[30,0,23,0],[31,0,24,0],[32,0,25,0],[33,0,26,0],[34,0,27,0],[35,0,28,0],[36,0,29,0],[37,0,30,0],[38,0,31,0],[39,0,32,0],[40,2,33,7],[40,17,33,22,"getEnsName"],[40,27,33,32,"getEnsName"],[40,28,33,33,"client"],[40,34,33,39],[40,36,33,41,"parameters"],[40,46,33,51],[40,48,33,53],[41,4,34,4],[41,10,34,10],[42,6,34,12,"address"],[42,13,34,19],[43,6,34,21,"blockNumber"],[43,17,34,32],[44,6,34,34,"blockTag"],[44,14,34,42],[45,6,34,44,"coinType"],[45,14,34,52],[45,17,34,55],[45,20,34,58],[46,6,34,60,"gatewayUrls"],[46,17,34,71],[47,6,34,73,"strict"],[48,4,34,81],[48,5,34,82],[48,8,34,85,"parameters"],[48,18,34,95],[49,4,35,4],[49,10,35,10],[50,6,35,12,"chain"],[51,4,35,18],[51,5,35,19],[51,8,35,22,"client"],[51,14,35,28],[52,4,36,4],[52,10,36,10,"universalResolverAddress"],[52,34,36,34],[52,37,36,37],[52,38,36,38],[52,44,36,44],[53,6,37,8],[53,10,37,12,"parameters"],[53,20,37,22],[53,21,37,23,"universalResolverAddress"],[53,45,37,47],[53,47,38,12],[53,54,38,19,"parameters"],[53,64,38,29],[53,65,38,30,"universalResolverAddress"],[53,89,38,54],[54,6,39,8],[54,10,39,12],[54,11,39,13,"chain"],[54,16,39,18],[54,18,40,12],[54,24,40,18],[54,28,40,22,"Error"],[54,33,40,27],[54,34,40,28],[54,102,40,96],[54,103,40,97],[55,6,41,8],[55,13,41,15],[55,17,41,15,"getChainContractAddress"],[55,53,41,38],[55,54,41,38,"getChainContractAddress"],[55,77,41,38],[55,79,41,39],[56,8,42,12,"blockNumber"],[56,19,42,23],[57,8,43,12,"chain"],[57,13,43,17],[58,8,44,12,"contract"],[58,16,44,20],[58,18,44,22],[59,6,45,8],[59,7,45,9],[59,8,45,10],[60,4,46,4],[60,5,46,5],[60,7,46,7],[60,8,46,8],[61,4,47,4],[61,8,47,8],[62,6,48,8],[62,12,48,14,"readContractParameters"],[62,34,48,36],[62,37,48,39],[63,8,49,12,"address"],[63,15,49,19],[63,17,49,21,"universalResolverAddress"],[63,41,49,45],[64,8,50,12,"abi"],[64,11,50,15],[64,13,50,17,"universalResolverReverseAbi"],[64,29,50,44],[64,30,50,44,"universalResolverReverseAbi"],[64,57,50,44],[65,8,51,12,"args"],[65,12,51,16],[65,14,51,18],[65,15,51,19,"address"],[65,22,51,26],[65,24,51,28,"coinType"],[65,32,51,36],[65,34,51,38,"gatewayUrls"],[65,45,51,49],[65,49,51,53],[65,50,51,54,"localBatchGatewayUrl"],[65,85,51,74],[65,86,51,74,"localBatchGatewayUrl"],[65,106,51,74],[65,107,51,75],[65,108,51,76],[66,8,52,12,"functionName"],[66,20,52,24],[66,22,52,26],[66,43,52,47],[67,8,53,12,"blockNumber"],[67,19,53,23],[68,8,54,12,"blockTag"],[69,6,55,8],[69,7,55,9],[70,6,56,8],[70,12,56,14,"readContractAction"],[70,30,56,32],[70,33,56,35],[70,37,56,35,"getAction"],[70,54,56,44],[70,55,56,44,"getAction"],[70,64,56,44],[70,66,56,45,"client"],[70,72,56,51],[70,74,56,53,"readContract"],[70,95,56,65],[70,96,56,65,"readContract"],[70,108,56,65],[70,110,56,67],[70,124,56,81],[70,125,56,82],[71,6,57,8],[71,12,57,14],[71,13,57,15,"name"],[71,17,57,19],[71,18,57,20],[71,21,57,23],[71,27,57,29,"readContractAction"],[71,45,57,47],[71,46,57,48,"readContractParameters"],[71,68,57,70],[71,69,57,71],[72,6,58,8],[72,13,58,15,"name"],[72,17,58,19],[72,21,58,23],[72,25,58,27],[73,4,59,4],[73,5,59,5],[73,6,60,4],[73,13,60,11,"err"],[73,16,60,14],[73,18,60,16],[74,6,61,8],[74,10,61,12,"strict"],[74,16,61,18],[74,18,62,12],[74,24,62,18,"err"],[74,27,62,21],[75,6,63,8],[75,10,63,12],[75,14,63,12,"isNullUniversalResolverError"],[75,31,63,40],[75,32,63,40,"isNullUniversalResolverError"],[75,60,63,40],[75,62,63,41,"err"],[75,65,63,44],[75,66,63,45],[75,68,64,12],[75,75,64,19],[75,79,64,23],[76,6,65,8],[76,12,65,14,"err"],[76,15,65,17],[77,4,66,4],[78,2,67,0],[79,0,67,1],[79,3]],"functionMap":{"names":["<global>","getEnsName","<anonymous>"],"mappings":"AAA;OCgC;sCCG;KDU;CDqB"},"hasCjsExports":false},"type":"js/module"}]}