{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  /**\n   * Class representing an event.\n   *\n   * @private\n   */\n  class Event {\n    /**\n     * Create a new `Event`.\n     *\n     * @param {String} type The name of the event\n     * @param {Object} target A reference to the target to which the event was\n     *     dispatched\n     */\n    constructor(type, target) {\n      this.target = target;\n      this.type = type;\n    }\n  }\n\n  /**\n   * Class representing a message event.\n   *\n   * @extends Event\n   * @private\n   */\n  class MessageEvent extends Event {\n    /**\n     * Create a new `MessageEvent`.\n     *\n     * @param {(String|Buffer|ArrayBuffer|Buffer[])} data The received data\n     * @param {WebSocket} target A reference to the target to which the event was\n     *     dispatched\n     */\n    constructor(data, target) {\n      super('message', target);\n      this.data = data;\n    }\n  }\n\n  /**\n   * Class representing a close event.\n   *\n   * @extends Event\n   * @private\n   */\n  class CloseEvent extends Event {\n    /**\n     * Create a new `CloseEvent`.\n     *\n     * @param {Number} code The status code explaining why the connection is being\n     *     closed\n     * @param {String} reason A human-readable string explaining why the\n     *     connection is closing\n     * @param {WebSocket} target A reference to the target to which the event was\n     *     dispatched\n     */\n    constructor(code, reason, target) {\n      super('close', target);\n      this.wasClean = target._closeFrameReceived && target._closeFrameSent;\n      this.reason = reason;\n      this.code = code;\n    }\n  }\n\n  /**\n   * Class representing an open event.\n   *\n   * @extends Event\n   * @private\n   */\n  class OpenEvent extends Event {\n    /**\n     * Create a new `OpenEvent`.\n     *\n     * @param {WebSocket} target A reference to the target to which the event was\n     *     dispatched\n     */\n    constructor(target) {\n      super('open', target);\n    }\n  }\n\n  /**\n   * Class representing an error event.\n   *\n   * @extends Event\n   * @private\n   */\n  class ErrorEvent extends Event {\n    /**\n     * Create a new `ErrorEvent`.\n     *\n     * @param {Object} error The error that generated this event\n     * @param {WebSocket} target A reference to the target to which the event was\n     *     dispatched\n     */\n    constructor(error, target) {\n      super('error', target);\n      this.message = error.message;\n      this.error = error;\n    }\n  }\n\n  /**\n   * This provides methods for emulating the `EventTarget` interface. It's not\n   * meant to be used directly.\n   *\n   * @mixin\n   */\n  const EventTarget = {\n    /**\n     * Register an event listener.\n     *\n     * @param {String} type A string representing the event type to listen for\n     * @param {Function} listener The listener to add\n     * @param {Object} [options] An options object specifies characteristics about\n     *     the event listener\n     * @param {Boolean} [options.once=false] A `Boolean`` indicating that the\n     *     listener should be invoked at most once after being added. If `true`,\n     *     the listener would be automatically removed when invoked.\n     * @public\n     */\n    addEventListener(type, listener, options) {\n      if (typeof listener !== 'function') return;\n      function onMessage(data) {\n        listener.call(this, new MessageEvent(data, this));\n      }\n      function onClose(code, message) {\n        listener.call(this, new CloseEvent(code, message, this));\n      }\n      function onError(error) {\n        listener.call(this, new ErrorEvent(error, this));\n      }\n      function onOpen() {\n        listener.call(this, new OpenEvent(this));\n      }\n      const method = options && options.once ? 'once' : 'on';\n      if (type === 'message') {\n        onMessage._listener = listener;\n        this[method](type, onMessage);\n      } else if (type === 'close') {\n        onClose._listener = listener;\n        this[method](type, onClose);\n      } else if (type === 'error') {\n        onError._listener = listener;\n        this[method](type, onError);\n      } else if (type === 'open') {\n        onOpen._listener = listener;\n        this[method](type, onOpen);\n      } else {\n        this[method](type, listener);\n      }\n    },\n    /**\n     * Remove an event listener.\n     *\n     * @param {String} type A string representing the event type to remove\n     * @param {Function} listener The listener to remove\n     * @public\n     */\n    removeEventListener(type, listener) {\n      const listeners = this.listeners(type);\n      for (let i = 0; i < listeners.length; i++) {\n        if (listeners[i] === listener || listeners[i]._listener === listener) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n    }\n  };\n  module.exports = EventTarget;\n});","lineCount":174,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0],[5,0,4,0],[6,0,5,0],[7,0,6,0],[8,0,7,0],[9,2,8,0],[9,8,8,6,"Event"],[9,13,8,11],[9,14,8,12],[10,4,9,2],[11,0,10,0],[12,0,11,0],[13,0,12,0],[14,0,13,0],[15,0,14,0],[16,0,15,0],[17,4,16,2,"constructor"],[17,15,16,13,"constructor"],[17,16,16,14,"type"],[17,20,16,18],[17,22,16,20,"target"],[17,28,16,26],[17,30,16,28],[18,6,17,4],[18,10,17,8],[18,11,17,9,"target"],[18,17,17,15],[18,20,17,18,"target"],[18,26,17,24],[19,6,18,4],[19,10,18,8],[19,11,18,9,"type"],[19,15,18,13],[19,18,18,16,"type"],[19,22,18,20],[20,4,19,2],[21,2,20,0],[23,2,22,0],[24,0,23,0],[25,0,24,0],[26,0,25,0],[27,0,26,0],[28,0,27,0],[29,2,28,0],[29,8,28,6,"MessageEvent"],[29,20,28,18],[29,29,28,27,"Event"],[29,34,28,32],[29,35,28,33],[30,4,29,2],[31,0,30,0],[32,0,31,0],[33,0,32,0],[34,0,33,0],[35,0,34,0],[36,0,35,0],[37,4,36,2,"constructor"],[37,15,36,13,"constructor"],[37,16,36,14,"data"],[37,20,36,18],[37,22,36,20,"target"],[37,28,36,26],[37,30,36,28],[38,6,37,4],[38,11,37,9],[38,12,37,10],[38,21,37,19],[38,23,37,21,"target"],[38,29,37,27],[38,30,37,28],[39,6,39,4],[39,10,39,8],[39,11,39,9,"data"],[39,15,39,13],[39,18,39,16,"data"],[39,22,39,20],[40,4,40,2],[41,2,41,0],[43,2,43,0],[44,0,44,0],[45,0,45,0],[46,0,46,0],[47,0,47,0],[48,0,48,0],[49,2,49,0],[49,8,49,6,"CloseEvent"],[49,18,49,16],[49,27,49,25,"Event"],[49,32,49,30],[49,33,49,31],[50,4,50,2],[51,0,51,0],[52,0,52,0],[53,0,53,0],[54,0,54,0],[55,0,55,0],[56,0,56,0],[57,0,57,0],[58,0,58,0],[59,0,59,0],[60,4,60,2,"constructor"],[60,15,60,13,"constructor"],[60,16,60,14,"code"],[60,20,60,18],[60,22,60,20,"reason"],[60,28,60,26],[60,30,60,28,"target"],[60,36,60,34],[60,38,60,36],[61,6,61,4],[61,11,61,9],[61,12,61,10],[61,19,61,17],[61,21,61,19,"target"],[61,27,61,25],[61,28,61,26],[62,6,63,4],[62,10,63,8],[62,11,63,9,"wasClean"],[62,19,63,17],[62,22,63,20,"target"],[62,28,63,26],[62,29,63,27,"_closeFrameReceived"],[62,48,63,46],[62,52,63,50,"target"],[62,58,63,56],[62,59,63,57,"_closeFrameSent"],[62,74,63,72],[63,6,64,4],[63,10,64,8],[63,11,64,9,"reason"],[63,17,64,15],[63,20,64,18,"reason"],[63,26,64,24],[64,6,65,4],[64,10,65,8],[64,11,65,9,"code"],[64,15,65,13],[64,18,65,16,"code"],[64,22,65,20],[65,4,66,2],[66,2,67,0],[68,2,69,0],[69,0,70,0],[70,0,71,0],[71,0,72,0],[72,0,73,0],[73,0,74,0],[74,2,75,0],[74,8,75,6,"OpenEvent"],[74,17,75,15],[74,26,75,24,"Event"],[74,31,75,29],[74,32,75,30],[75,4,76,2],[76,0,77,0],[77,0,78,0],[78,0,79,0],[79,0,80,0],[80,0,81,0],[81,4,82,2,"constructor"],[81,15,82,13,"constructor"],[81,16,82,14,"target"],[81,22,82,20],[81,24,82,22],[82,6,83,4],[82,11,83,9],[82,12,83,10],[82,18,83,16],[82,20,83,18,"target"],[82,26,83,24],[82,27,83,25],[83,4,84,2],[84,2,85,0],[86,2,87,0],[87,0,88,0],[88,0,89,0],[89,0,90,0],[90,0,91,0],[91,0,92,0],[92,2,93,0],[92,8,93,6,"ErrorEvent"],[92,18,93,16],[92,27,93,25,"Event"],[92,32,93,30],[92,33,93,31],[93,4,94,2],[94,0,95,0],[95,0,96,0],[96,0,97,0],[97,0,98,0],[98,0,99,0],[99,0,100,0],[100,4,101,2,"constructor"],[100,15,101,13,"constructor"],[100,16,101,14,"error"],[100,21,101,19],[100,23,101,21,"target"],[100,29,101,27],[100,31,101,29],[101,6,102,4],[101,11,102,9],[101,12,102,10],[101,19,102,17],[101,21,102,19,"target"],[101,27,102,25],[101,28,102,26],[102,6,104,4],[102,10,104,8],[102,11,104,9,"message"],[102,18,104,16],[102,21,104,19,"error"],[102,26,104,24],[102,27,104,25,"message"],[102,34,104,32],[103,6,105,4],[103,10,105,8],[103,11,105,9,"error"],[103,16,105,14],[103,19,105,17,"error"],[103,24,105,22],[104,4,106,2],[105,2,107,0],[107,2,109,0],[108,0,110,0],[109,0,111,0],[110,0,112,0],[111,0,113,0],[112,0,114,0],[113,2,115,0],[113,8,115,6,"EventTarget"],[113,19,115,17],[113,22,115,20],[114,4,116,2],[115,0,117,0],[116,0,118,0],[117,0,119,0],[118,0,120,0],[119,0,121,0],[120,0,122,0],[121,0,123,0],[122,0,124,0],[123,0,125,0],[124,0,126,0],[125,0,127,0],[126,4,128,2,"addEventListener"],[126,20,128,18,"addEventListener"],[126,21,128,19,"type"],[126,25,128,23],[126,27,128,25,"listener"],[126,35,128,33],[126,37,128,35,"options"],[126,44,128,42],[126,46,128,44],[127,6,129,4],[127,10,129,8],[127,17,129,15,"listener"],[127,25,129,23],[127,30,129,28],[127,40,129,38],[127,42,129,40],[128,6,131,4],[128,15,131,13,"onMessage"],[128,24,131,22,"onMessage"],[128,25,131,23,"data"],[128,29,131,27],[128,31,131,29],[129,8,132,6,"listener"],[129,16,132,14],[129,17,132,15,"call"],[129,21,132,19],[129,22,132,20],[129,26,132,24],[129,28,132,26],[129,32,132,30,"MessageEvent"],[129,44,132,42],[129,45,132,43,"data"],[129,49,132,47],[129,51,132,49],[129,55,132,53],[129,56,132,54],[129,57,132,55],[130,6,133,4],[131,6,135,4],[131,15,135,13,"onClose"],[131,22,135,20,"onClose"],[131,23,135,21,"code"],[131,27,135,25],[131,29,135,27,"message"],[131,36,135,34],[131,38,135,36],[132,8,136,6,"listener"],[132,16,136,14],[132,17,136,15,"call"],[132,21,136,19],[132,22,136,20],[132,26,136,24],[132,28,136,26],[132,32,136,30,"CloseEvent"],[132,42,136,40],[132,43,136,41,"code"],[132,47,136,45],[132,49,136,47,"message"],[132,56,136,54],[132,58,136,56],[132,62,136,60],[132,63,136,61],[132,64,136,62],[133,6,137,4],[134,6,139,4],[134,15,139,13,"onError"],[134,22,139,20,"onError"],[134,23,139,21,"error"],[134,28,139,26],[134,30,139,28],[135,8,140,6,"listener"],[135,16,140,14],[135,17,140,15,"call"],[135,21,140,19],[135,22,140,20],[135,26,140,24],[135,28,140,26],[135,32,140,30,"ErrorEvent"],[135,42,140,40],[135,43,140,41,"error"],[135,48,140,46],[135,50,140,48],[135,54,140,52],[135,55,140,53],[135,56,140,54],[136,6,141,4],[137,6,143,4],[137,15,143,13,"onOpen"],[137,21,143,19,"onOpen"],[137,22,143,19],[137,24,143,22],[138,8,144,6,"listener"],[138,16,144,14],[138,17,144,15,"call"],[138,21,144,19],[138,22,144,20],[138,26,144,24],[138,28,144,26],[138,32,144,30,"OpenEvent"],[138,41,144,39],[138,42,144,40],[138,46,144,44],[138,47,144,45],[138,48,144,46],[139,6,145,4],[140,6,147,4],[140,12,147,10,"method"],[140,18,147,16],[140,21,147,19,"options"],[140,28,147,26],[140,32,147,30,"options"],[140,39,147,37],[140,40,147,38,"once"],[140,44,147,42],[140,47,147,45],[140,53,147,51],[140,56,147,54],[140,60,147,58],[141,6,149,4],[141,10,149,8,"type"],[141,14,149,12],[141,19,149,17],[141,28,149,26],[141,30,149,28],[142,8,150,6,"onMessage"],[142,17,150,15],[142,18,150,16,"_listener"],[142,27,150,25],[142,30,150,28,"listener"],[142,38,150,36],[143,8,151,6],[143,12,151,10],[143,13,151,11,"method"],[143,19,151,17],[143,20,151,18],[143,21,151,19,"type"],[143,25,151,23],[143,27,151,25,"onMessage"],[143,36,151,34],[143,37,151,35],[144,6,152,4],[144,7,152,5],[144,13,152,11],[144,17,152,15,"type"],[144,21,152,19],[144,26,152,24],[144,33,152,31],[144,35,152,33],[145,8,153,6,"onClose"],[145,15,153,13],[145,16,153,14,"_listener"],[145,25,153,23],[145,28,153,26,"listener"],[145,36,153,34],[146,8,154,6],[146,12,154,10],[146,13,154,11,"method"],[146,19,154,17],[146,20,154,18],[146,21,154,19,"type"],[146,25,154,23],[146,27,154,25,"onClose"],[146,34,154,32],[146,35,154,33],[147,6,155,4],[147,7,155,5],[147,13,155,11],[147,17,155,15,"type"],[147,21,155,19],[147,26,155,24],[147,33,155,31],[147,35,155,33],[148,8,156,6,"onError"],[148,15,156,13],[148,16,156,14,"_listener"],[148,25,156,23],[148,28,156,26,"listener"],[148,36,156,34],[149,8,157,6],[149,12,157,10],[149,13,157,11,"method"],[149,19,157,17],[149,20,157,18],[149,21,157,19,"type"],[149,25,157,23],[149,27,157,25,"onError"],[149,34,157,32],[149,35,157,33],[150,6,158,4],[150,7,158,5],[150,13,158,11],[150,17,158,15,"type"],[150,21,158,19],[150,26,158,24],[150,32,158,30],[150,34,158,32],[151,8,159,6,"onOpen"],[151,14,159,12],[151,15,159,13,"_listener"],[151,24,159,22],[151,27,159,25,"listener"],[151,35,159,33],[152,8,160,6],[152,12,160,10],[152,13,160,11,"method"],[152,19,160,17],[152,20,160,18],[152,21,160,19,"type"],[152,25,160,23],[152,27,160,25,"onOpen"],[152,33,160,31],[152,34,160,32],[153,6,161,4],[153,7,161,5],[153,13,161,11],[154,8,162,6],[154,12,162,10],[154,13,162,11,"method"],[154,19,162,17],[154,20,162,18],[154,21,162,19,"type"],[154,25,162,23],[154,27,162,25,"listener"],[154,35,162,33],[154,36,162,34],[155,6,163,4],[156,4,164,2],[156,5,164,3],[157,4,166,2],[158,0,167,0],[159,0,168,0],[160,0,169,0],[161,0,170,0],[162,0,171,0],[163,0,172,0],[164,4,173,2,"removeEventListener"],[164,23,173,21,"removeEventListener"],[164,24,173,22,"type"],[164,28,173,26],[164,30,173,28,"listener"],[164,38,173,36],[164,40,173,38],[165,6,174,4],[165,12,174,10,"listeners"],[165,21,174,19],[165,24,174,22],[165,28,174,26],[165,29,174,27,"listeners"],[165,38,174,36],[165,39,174,37,"type"],[165,43,174,41],[165,44,174,42],[166,6,176,4],[166,11,176,9],[166,15,176,13,"i"],[166,16,176,14],[166,19,176,17],[166,20,176,18],[166,22,176,20,"i"],[166,23,176,21],[166,26,176,24,"listeners"],[166,35,176,33],[166,36,176,34,"length"],[166,42,176,40],[166,44,176,42,"i"],[166,45,176,43],[166,47,176,45],[166,49,176,47],[167,8,177,6],[167,12,177,10,"listeners"],[167,21,177,19],[167,22,177,20,"i"],[167,23,177,21],[167,24,177,22],[167,29,177,27,"listener"],[167,37,177,35],[167,41,177,39,"listeners"],[167,50,177,48],[167,51,177,49,"i"],[167,52,177,50],[167,53,177,51],[167,54,177,52,"_listener"],[167,63,177,61],[167,68,177,66,"listener"],[167,76,177,74],[167,78,177,76],[168,10,178,8],[168,14,178,12],[168,15,178,13,"removeListener"],[168,29,178,27],[168,30,178,28,"type"],[168,34,178,32],[168,36,178,34,"listeners"],[168,45,178,43],[168,46,178,44,"i"],[168,47,178,45],[168,48,178,46],[168,49,178,47],[169,8,179,6],[170,6,180,4],[171,4,181,2],[172,2,182,0],[172,3,182,1],[173,2,184,0,"module"],[173,8,184,6],[173,9,184,7,"exports"],[173,16,184,14],[173,19,184,17,"EventTarget"],[173,30,184,28],[174,0,184,29],[174,3]],"functionMap":{"names":["<global>","Event","Event#constructor","MessageEvent","MessageEvent#constructor","CloseEvent","CloseEvent#constructor","OpenEvent","OpenEvent#constructor","ErrorEvent","ErrorEvent#constructor","EventTarget.addEventListener","onMessage","onClose","onError","onOpen","EventTarget.removeEventListener"],"mappings":"AAA;ACO;ECQ;GDG;CDC;AGQ;ECQ;GDI;CHC;AKQ;ECW;GDM;CLC;AOQ;ECO;GDE;CPC;ASQ;ECQ;GDK;CTC;EWqB;ICG;KDE;IEE;KFE;IGE;KHE;IIE;KJE;GXmB;EgBS;GhBQ"},"hasCjsExports":true},"type":"js/module"}]}