{"dependencies":[{"name":"../../constants/blob.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":124,"index":124}}],"key":"FmLNDKmfo8aFAl5F2kw+xdcEVzk=","exportNames":["*"],"imports":1}},{"name":"../../errors/blob.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":125},"end":{"line":2,"column":78,"index":203}}],"key":"k80NEkyDGQxm1g7Rfvgl4fEVpLc=","exportNames":["*"],"imports":1}},{"name":"../cursor.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":204},"end":{"line":3,"column":44,"index":248}}],"key":"mKUrwJBwkY7iqKj6q4bFwLqxwtA=","exportNames":["*"],"imports":1}},{"name":"../data/size.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":249},"end":{"line":4,"column":39,"index":288}}],"key":"U4xVlv6fru75wWM2ksCXz7lLGZk=","exportNames":["*"],"imports":1}},{"name":"../encoding/toBytes.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":289},"end":{"line":5,"column":52,"index":341}}],"key":"GqDTp/VAr9RTfwQrAix+tpikPzk=","exportNames":["*"],"imports":1}},{"name":"../encoding/toHex.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":342},"end":{"line":6,"column":50,"index":392}}],"key":"1u7+Hy8ShwFUBPl4caP50RjfjdI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.toBlobs = toBlobs;\n  var _constantsBlobJs = require(_dependencyMap[0], \"../../constants/blob.js\");\n  var _errorsBlobJs = require(_dependencyMap[1], \"../../errors/blob.js\");\n  var _cursorJs = require(_dependencyMap[2], \"../cursor.js\");\n  var _dataSizeJs = require(_dependencyMap[3], \"../data/size.js\");\n  var _encodingToBytesJs = require(_dependencyMap[4], \"../encoding/toBytes.js\");\n  var _encodingToHexJs = require(_dependencyMap[5], \"../encoding/toHex.js\");\n  /**\n   * Transforms arbitrary data to blobs.\n   *\n   * @example\n   * ```ts\n   * import { toBlobs, stringToHex } from 'viem'\n   *\n   * const blobs = toBlobs({ data: stringToHex('hello world') })\n   * ```\n   */\n  function toBlobs(parameters) {\n    const to = parameters.to ?? (typeof parameters.data === 'string' ? 'hex' : 'bytes');\n    const data = typeof parameters.data === 'string' ? (0, _encodingToBytesJs.hexToBytes)(parameters.data) : parameters.data;\n    const size_ = (0, _dataSizeJs.size)(data);\n    if (!size_) throw new _errorsBlobJs.EmptyBlobError();\n    if (size_ > _constantsBlobJs.maxBytesPerTransaction) throw new _errorsBlobJs.BlobSizeTooLargeError({\n      maxSize: _constantsBlobJs.maxBytesPerTransaction,\n      size: size_\n    });\n    const blobs = [];\n    let active = true;\n    let position = 0;\n    while (active) {\n      const blob = (0, _cursorJs.createCursor)(new Uint8Array(_constantsBlobJs.bytesPerBlob));\n      let size = 0;\n      while (size < _constantsBlobJs.fieldElementsPerBlob) {\n        const bytes = data.slice(position, position + (_constantsBlobJs.bytesPerFieldElement - 1));\n        // Push a zero byte so the field element doesn't overflow the BLS modulus.\n        blob.pushByte(0x00);\n        // Push the current segment of data bytes.\n        blob.pushBytes(bytes);\n        // If we detect that the current segment of data bytes is less than 31 bytes,\n        // we can stop processing and push a terminator byte to indicate the end of the blob.\n        if (bytes.length < 31) {\n          blob.pushByte(0x80);\n          active = false;\n          break;\n        }\n        size++;\n        position += 31;\n      }\n      blobs.push(blob);\n    }\n    return to === 'bytes' ? blobs.map(x => x.bytes) : blobs.map(x => (0, _encodingToHexJs.bytesToHex)(x.bytes));\n  }\n});","lineCount":59,"map":[[7,2,17,0,"exports"],[7,9,17,0],[7,10,17,0,"toBlobs"],[7,17,17,0],[7,20,17,0,"toBlobs"],[7,27,17,0],[8,2,1,0],[8,6,1,0,"_constantsBlobJs"],[8,22,1,0],[8,25,1,0,"require"],[8,32,1,0],[8,33,1,0,"_dependencyMap"],[8,47,1,0],[9,2,2,0],[9,6,2,0,"_errorsBlobJs"],[9,19,2,0],[9,22,2,0,"require"],[9,29,2,0],[9,30,2,0,"_dependencyMap"],[9,44,2,0],[10,2,3,0],[10,6,3,0,"_cursorJs"],[10,15,3,0],[10,18,3,0,"require"],[10,25,3,0],[10,26,3,0,"_dependencyMap"],[10,40,3,0],[11,2,4,0],[11,6,4,0,"_dataSizeJs"],[11,17,4,0],[11,20,4,0,"require"],[11,27,4,0],[11,28,4,0,"_dependencyMap"],[11,42,4,0],[12,2,5,0],[12,6,5,0,"_encodingToBytesJs"],[12,24,5,0],[12,27,5,0,"require"],[12,34,5,0],[12,35,5,0,"_dependencyMap"],[12,49,5,0],[13,2,6,0],[13,6,6,0,"_encodingToHexJs"],[13,22,6,0],[13,25,6,0,"require"],[13,32,6,0],[13,33,6,0,"_dependencyMap"],[13,47,6,0],[14,2,7,0],[15,0,8,0],[16,0,9,0],[17,0,10,0],[18,0,11,0],[19,0,12,0],[20,0,13,0],[21,0,14,0],[22,0,15,0],[23,0,16,0],[24,2,17,7],[24,11,17,16,"toBlobs"],[24,18,17,23,"toBlobs"],[24,19,17,24,"parameters"],[24,29,17,34],[24,31,17,36],[25,4,18,4],[25,10,18,10,"to"],[25,12,18,12],[25,15,18,15,"parameters"],[25,25,18,25],[25,26,18,26,"to"],[25,28,18,28],[25,33,18,33],[25,40,18,40,"parameters"],[25,50,18,50],[25,51,18,51,"data"],[25,55,18,55],[25,60,18,60],[25,68,18,68],[25,71,18,71],[25,76,18,76],[25,79,18,79],[25,86,18,86],[25,87,18,87],[26,4,19,4],[26,10,19,10,"data"],[26,14,19,14],[26,17,19,18],[26,24,19,25,"parameters"],[26,34,19,35],[26,35,19,36,"data"],[26,39,19,40],[26,44,19,45],[26,52,19,53],[26,55,20,10],[26,59,20,10,"hexToBytes"],[26,77,20,20],[26,78,20,20,"hexToBytes"],[26,88,20,20],[26,90,20,21,"parameters"],[26,100,20,31],[26,101,20,32,"data"],[26,105,20,36],[26,106,20,37],[26,109,21,10,"parameters"],[26,119,21,20],[26,120,21,21,"data"],[26,124,21,26],[27,4,22,4],[27,10,22,10,"size_"],[27,15,22,15],[27,18,22,18],[27,22,22,18,"size"],[27,33,22,22],[27,34,22,22,"size"],[27,38,22,22],[27,40,22,23,"data"],[27,44,22,27],[27,45,22,28],[28,4,23,4],[28,8,23,8],[28,9,23,9,"size_"],[28,14,23,14],[28,16,24,8],[28,22,24,14],[28,26,24,18,"EmptyBlobError"],[28,39,24,32],[28,40,24,32,"EmptyBlobError"],[28,54,24,32],[28,55,24,33],[28,56,24,34],[29,4,25,4],[29,8,25,8,"size_"],[29,13,25,13],[29,16,25,16,"maxBytesPerTransaction"],[29,32,25,38],[29,33,25,38,"maxBytesPerTransaction"],[29,55,25,38],[29,57,26,8],[29,63,26,14],[29,67,26,18,"BlobSizeTooLargeError"],[29,80,26,39],[29,81,26,39,"BlobSizeTooLargeError"],[29,102,26,39],[29,103,26,40],[30,6,27,12,"maxSize"],[30,13,27,19],[30,15,27,21,"maxBytesPerTransaction"],[30,31,27,43],[30,32,27,43,"maxBytesPerTransaction"],[30,54,27,43],[31,6,28,12,"size"],[31,10,28,16],[31,12,28,18,"size_"],[32,4,29,8],[32,5,29,9],[32,6,29,10],[33,4,30,4],[33,10,30,10,"blobs"],[33,15,30,15],[33,18,30,18],[33,20,30,20],[34,4,31,4],[34,8,31,8,"active"],[34,14,31,14],[34,17,31,17],[34,21,31,21],[35,4,32,4],[35,8,32,8,"position"],[35,16,32,16],[35,19,32,19],[35,20,32,20],[36,4,33,4],[36,11,33,11,"active"],[36,17,33,17],[36,19,33,19],[37,6,34,8],[37,12,34,14,"blob"],[37,16,34,18],[37,19,34,21],[37,23,34,21,"createCursor"],[37,32,34,33],[37,33,34,33,"createCursor"],[37,45,34,33],[37,47,34,34],[37,51,34,38,"Uint8Array"],[37,61,34,48],[37,62,34,49,"bytesPerBlob"],[37,78,34,61],[37,79,34,61,"bytesPerBlob"],[37,91,34,61],[37,92,34,62],[37,93,34,63],[38,6,35,8],[38,10,35,12,"size"],[38,14,35,16],[38,17,35,19],[38,18,35,20],[39,6,36,8],[39,13,36,15,"size"],[39,17,36,19],[39,20,36,22,"fieldElementsPerBlob"],[39,36,36,42],[39,37,36,42,"fieldElementsPerBlob"],[39,57,36,42],[39,59,36,44],[40,8,37,12],[40,14,37,18,"bytes"],[40,19,37,23],[40,22,37,26,"data"],[40,26,37,30],[40,27,37,31,"slice"],[40,32,37,36],[40,33,37,37,"position"],[40,41,37,45],[40,43,37,47,"position"],[40,51,37,55],[40,55,37,59,"bytesPerFieldElement"],[40,71,37,79],[40,72,37,79,"bytesPerFieldElement"],[40,92,37,79],[40,95,37,82],[40,96,37,83],[40,97,37,84],[40,98,37,85],[41,8,38,12],[42,8,39,12,"blob"],[42,12,39,16],[42,13,39,17,"pushByte"],[42,21,39,25],[42,22,39,26],[42,26,39,30],[42,27,39,31],[43,8,40,12],[44,8,41,12,"blob"],[44,12,41,16],[44,13,41,17,"pushBytes"],[44,22,41,26],[44,23,41,27,"bytes"],[44,28,41,32],[44,29,41,33],[45,8,42,12],[46,8,43,12],[47,8,44,12],[47,12,44,16,"bytes"],[47,17,44,21],[47,18,44,22,"length"],[47,24,44,28],[47,27,44,31],[47,29,44,33],[47,31,44,35],[48,10,45,16,"blob"],[48,14,45,20],[48,15,45,21,"pushByte"],[48,23,45,29],[48,24,45,30],[48,28,45,34],[48,29,45,35],[49,10,46,16,"active"],[49,16,46,22],[49,19,46,25],[49,24,46,30],[50,10,47,16],[51,8,48,12],[52,8,49,12,"size"],[52,12,49,16],[52,14,49,18],[53,8,50,12,"position"],[53,16,50,20],[53,20,50,24],[53,22,50,26],[54,6,51,8],[55,6,52,8,"blobs"],[55,11,52,13],[55,12,52,14,"push"],[55,16,52,18],[55,17,52,19,"blob"],[55,21,52,23],[55,22,52,24],[56,4,53,4],[57,4,54,4],[57,11,54,12,"to"],[57,13,54,14],[57,18,54,19],[57,25,54,26],[57,28,55,10,"blobs"],[57,33,55,15],[57,34,55,16,"map"],[57,37,55,19],[57,38,55,21,"x"],[57,39,55,22],[57,43,55,27,"x"],[57,44,55,28],[57,45,55,29,"bytes"],[57,50,55,34],[57,51,55,35],[57,54,56,10,"blobs"],[57,59,56,15],[57,60,56,16,"map"],[57,63,56,19],[57,64,56,21,"x"],[57,65,56,22],[57,69,56,27],[57,73,56,27,"bytesToHex"],[57,89,56,37],[57,90,56,37,"bytesToHex"],[57,100,56,37],[57,102,56,38,"x"],[57,103,56,39],[57,104,56,40,"bytes"],[57,109,56,45],[57,110,56,46],[57,111,56,47],[58,2,57,0],[59,0,57,1],[59,3]],"functionMap":{"names":["<global>","toBlobs","blobs.map$argument_0"],"mappings":"AAA;OCgB;oBCsC,cD;oBCC,0BD;CDC"},"hasCjsExports":false},"type":"js/module"}]}