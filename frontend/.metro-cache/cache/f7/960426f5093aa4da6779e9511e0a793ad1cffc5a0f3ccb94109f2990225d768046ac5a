{"dependencies":[{"name":"../../accounts/utils/parseAccount.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":68,"index":68}}],"key":"/2Bvi5qErxbS6yBB5FzUPODHkYU=","exportNames":["*"],"imports":1}},{"name":"../../utils/encoding/toHex.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":69},"end":{"line":2,"column":60,"index":129}}],"key":"U2IsyW1seIe5m4FUbe8axrr/0FQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.getCapabilities = getCapabilities;\n  var _accountsUtilsParseAccountJs = require(_dependencyMap[0], \"../../accounts/utils/parseAccount.js\");\n  var _utilsEncodingToHexJs = require(_dependencyMap[1], \"../../utils/encoding/toHex.js\");\n  /**\n   * Extract capabilities that a connected wallet supports (e.g. paymasters, session keys, etc).\n   *\n   * - Docs: https://viem.sh/docs/actions/wallet/getCapabilities\n   * - JSON-RPC Methods: [`wallet_getCapabilities`](https://eips.ethereum.org/EIPS/eip-5792)\n   *\n   * @param client - Client to use\n   * @returns The wallet's capabilities. {@link GetCapabilitiesReturnType}\n   *\n   * @example\n   * import { createWalletClient, custom } from 'viem'\n   * import { mainnet } from 'viem/chains'\n   * import { getCapabilities } from 'viem/actions'\n   *\n   * const client = createWalletClient({\n   *   chain: mainnet,\n   *   transport: custom(window.ethereum),\n   * })\n   * const capabilities = await getCapabilities(client)\n   */\n  async function getCapabilities(client, parameters = {}) {\n    const {\n      account = client.account,\n      chainId\n    } = parameters;\n    const account_ = account ? (0, _accountsUtilsParseAccountJs.parseAccount)(account) : undefined;\n    const params = chainId ? [account_?.address, [(0, _utilsEncodingToHexJs.numberToHex)(chainId)]] : [account_?.address];\n    const capabilities_raw = await client.request({\n      method: 'wallet_getCapabilities',\n      params\n    });\n    const capabilities = {};\n    for (const [chainId, capabilities_] of Object.entries(capabilities_raw)) {\n      capabilities[Number(chainId)] = {};\n      for (let [key, value] of Object.entries(capabilities_)) {\n        if (key === 'addSubAccount') key = 'unstable_addSubAccount';\n        capabilities[Number(chainId)][key] = value;\n      }\n    }\n    return typeof chainId === 'number' ? capabilities[chainId] : capabilities;\n  }\n});","lineCount":51,"map":[[7,2,23,0,"exports"],[7,9,23,0],[7,10,23,0,"getCapabilities"],[7,25,23,0],[7,28,23,0,"getCapabilities"],[7,43,23,0],[8,2,1,0],[8,6,1,0,"_accountsUtilsParseAccountJs"],[8,34,1,0],[8,37,1,0,"require"],[8,44,1,0],[8,45,1,0,"_dependencyMap"],[8,59,1,0],[9,2,2,0],[9,6,2,0,"_utilsEncodingToHexJs"],[9,27,2,0],[9,30,2,0,"require"],[9,37,2,0],[9,38,2,0,"_dependencyMap"],[9,52,2,0],[10,2,3,0],[11,0,4,0],[12,0,5,0],[13,0,6,0],[14,0,7,0],[15,0,8,0],[16,0,9,0],[17,0,10,0],[18,0,11,0],[19,0,12,0],[20,0,13,0],[21,0,14,0],[22,0,15,0],[23,0,16,0],[24,0,17,0],[25,0,18,0],[26,0,19,0],[27,0,20,0],[28,0,21,0],[29,0,22,0],[30,2,23,7],[30,17,23,22,"getCapabilities"],[30,32,23,37,"getCapabilities"],[30,33,23,38,"client"],[30,39,23,44],[30,41,23,46,"parameters"],[30,51,23,56],[30,54,23,59],[30,55,23,60],[30,56,23,61],[30,58,23,63],[31,4,24,4],[31,10,24,10],[32,6,24,12,"account"],[32,13,24,19],[32,16,24,22,"client"],[32,22,24,28],[32,23,24,29,"account"],[32,30,24,36],[33,6,24,38,"chainId"],[34,4,24,46],[34,5,24,47],[34,8,24,50,"parameters"],[34,18,24,60],[35,4,25,4],[35,10,25,10,"account_"],[35,18,25,18],[35,21,25,21,"account"],[35,28,25,28],[35,31,25,31],[35,35,25,31,"parseAccount"],[35,63,25,43],[35,64,25,43,"parseAccount"],[35,76,25,43],[35,78,25,44,"account"],[35,85,25,51],[35,86,25,52],[35,89,25,55,"undefined"],[35,98,25,64],[36,4,26,4],[36,10,26,10,"params"],[36,16,26,16],[36,19,26,19,"chainId"],[36,26,26,26],[36,29,27,10],[36,30,27,11,"account_"],[36,38,27,19],[36,40,27,21,"address"],[36,47,27,28],[36,49,27,30],[36,50,27,31],[36,54,27,31,"numberToHex"],[36,75,27,42],[36,76,27,42,"numberToHex"],[36,87,27,42],[36,89,27,43,"chainId"],[36,96,27,50],[36,97,27,51],[36,98,27,52],[36,99,27,53],[36,102,28,10],[36,103,28,11,"account_"],[36,111,28,19],[36,113,28,21,"address"],[36,120,28,28],[36,121,28,29],[37,4,29,4],[37,10,29,10,"capabilities_raw"],[37,26,29,26],[37,29,29,29],[37,35,29,35,"client"],[37,41,29,41],[37,42,29,42,"request"],[37,49,29,49],[37,50,29,50],[38,6,30,8,"method"],[38,12,30,14],[38,14,30,16],[38,38,30,40],[39,6,31,8,"params"],[40,4,32,4],[40,5,32,5],[40,6,32,6],[41,4,33,4],[41,10,33,10,"capabilities"],[41,22,33,22],[41,25,33,25],[41,26,33,26],[41,27,33,27],[42,4,34,4],[42,9,34,9],[42,15,34,15],[42,16,34,16,"chainId"],[42,23,34,23],[42,25,34,25,"capabilities_"],[42,38,34,38],[42,39,34,39],[42,43,34,43,"Object"],[42,49,34,49],[42,50,34,50,"entries"],[42,57,34,57],[42,58,34,58,"capabilities_raw"],[42,74,34,74],[42,75,34,75],[42,77,34,77],[43,6,35,8,"capabilities"],[43,18,35,20],[43,19,35,21,"Number"],[43,25,35,27],[43,26,35,28,"chainId"],[43,33,35,35],[43,34,35,36],[43,35,35,37],[43,38,35,40],[43,39,35,41],[43,40,35,42],[44,6,36,8],[44,11,36,13],[44,15,36,17],[44,16,36,18,"key"],[44,19,36,21],[44,21,36,23,"value"],[44,26,36,28],[44,27,36,29],[44,31,36,33,"Object"],[44,37,36,39],[44,38,36,40,"entries"],[44,45,36,47],[44,46,36,48,"capabilities_"],[44,59,36,61],[44,60,36,62],[44,62,36,64],[45,8,37,12],[45,12,37,16,"key"],[45,15,37,19],[45,20,37,24],[45,35,37,39],[45,37,38,16,"key"],[45,40,38,19],[45,43,38,22],[45,67,38,46],[46,8,39,12,"capabilities"],[46,20,39,24],[46,21,39,25,"Number"],[46,27,39,31],[46,28,39,32,"chainId"],[46,35,39,39],[46,36,39,40],[46,37,39,41],[46,38,39,42,"key"],[46,41,39,45],[46,42,39,46],[46,45,39,49,"value"],[46,50,39,54],[47,6,40,8],[48,4,41,4],[49,4,42,4],[49,11,42,12],[49,18,42,19,"chainId"],[49,25,42,26],[49,30,42,31],[49,38,42,39],[49,41,42,42,"capabilities"],[49,53,42,54],[49,54,42,55,"chainId"],[49,61,42,62],[49,62,42,63],[49,65,42,66,"capabilities"],[49,77,42,78],[50,2,43,0],[51,0,43,1],[51,3]],"functionMap":{"names":["<global>","getCapabilities"],"mappings":"AAA;OCsB;CDoB"},"hasCjsExports":false},"type":"js/module"}]}