{"dependencies":[{"name":"../../errors/abi.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":61,"index":61}}],"key":"5W+IXI3nhZ5FIpsDZmuMkio1GuI=","exportNames":["*"],"imports":1}},{"name":"../../errors/log.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":62},"end":{"line":2,"column":67,"index":129}}],"key":"5snm66pH0StYOXQJF4XIoKeMm8c=","exportNames":["*"],"imports":1}},{"name":"../encoding/toBytes.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":130},"end":{"line":3,"column":49,"index":179}}],"key":"GqDTp/VAr9RTfwQrAix+tpikPzk=","exportNames":["*"],"imports":1}},{"name":"../hash/keccak256.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":180},"end":{"line":4,"column":49,"index":229}}],"key":"I/lHg/Zd//Ols1ADM9tQGAcPoBw=","exportNames":["*"],"imports":1}},{"name":"../hash/toEventSelector.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":230},"end":{"line":5,"column":62,"index":292}}],"key":"krrvulLvqKqnvIPpeFzxlO3XBqI=","exportNames":["*"],"imports":1}},{"name":"./encodeAbiParameters.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":293},"end":{"line":6,"column":64,"index":357}}],"key":"UMelhny+DJd4WtP4xpv9ikpNREU=","exportNames":["*"],"imports":1}},{"name":"./formatAbiItem.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":358},"end":{"line":7,"column":51,"index":409}}],"key":"cMJuYY2ptHR6jaMpLhwMZkIv3yM=","exportNames":["*"],"imports":1}},{"name":"./getAbiItem.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":410},"end":{"line":8,"column":45,"index":455}}],"key":"6vZAQqT/88cSExLEoTTTKbjuTNA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.encodeEventTopics = encodeEventTopics;\n  var _errorsAbiJs = require(_dependencyMap[0], \"../../errors/abi.js\");\n  var _errorsLogJs = require(_dependencyMap[1], \"../../errors/log.js\");\n  var _encodingToBytesJs = require(_dependencyMap[2], \"../encoding/toBytes.js\");\n  var _hashKeccak256Js = require(_dependencyMap[3], \"../hash/keccak256.js\");\n  var _hashToEventSelectorJs = require(_dependencyMap[4], \"../hash/toEventSelector.js\");\n  var _encodeAbiParametersJs = require(_dependencyMap[5], \"./encodeAbiParameters.js\");\n  var _formatAbiItemJs = require(_dependencyMap[6], \"./formatAbiItem.js\");\n  var _getAbiItemJs = require(_dependencyMap[7], \"./getAbiItem.js\");\n  const docsPath = '/docs/contract/encodeEventTopics';\n  function encodeEventTopics(parameters) {\n    const {\n      abi,\n      eventName,\n      args\n    } = parameters;\n    let abiItem = abi[0];\n    if (eventName) {\n      const item = (0, _getAbiItemJs.getAbiItem)({\n        abi,\n        name: eventName\n      });\n      if (!item) throw new _errorsAbiJs.AbiEventNotFoundError(eventName, {\n        docsPath\n      });\n      abiItem = item;\n    }\n    if (abiItem.type !== 'event') throw new _errorsAbiJs.AbiEventNotFoundError(undefined, {\n      docsPath\n    });\n    const definition = (0, _formatAbiItemJs.formatAbiItem)(abiItem);\n    const signature = (0, _hashToEventSelectorJs.toEventSelector)(definition);\n    let topics = [];\n    if (args && 'inputs' in abiItem) {\n      const indexedInputs = abiItem.inputs?.filter(param => 'indexed' in param && param.indexed);\n      const args_ = Array.isArray(args) ? args : Object.values(args).length > 0 ? indexedInputs?.map(x => args[x.name]) ?? [] : [];\n      if (args_.length > 0) {\n        topics = indexedInputs?.map((param, i) => {\n          if (Array.isArray(args_[i])) return args_[i].map((_, j) => encodeArg({\n            param,\n            value: args_[i][j]\n          }));\n          return typeof args_[i] !== 'undefined' && args_[i] !== null ? encodeArg({\n            param,\n            value: args_[i]\n          }) : null;\n        }) ?? [];\n      }\n    }\n    return [signature, ...topics];\n  }\n  function encodeArg({\n    param,\n    value\n  }) {\n    if (param.type === 'string' || param.type === 'bytes') return (0, _hashKeccak256Js.keccak256)((0, _encodingToBytesJs.toBytes)(value));\n    if (param.type === 'tuple' || param.type.match(/^(.*)\\[(\\d+)?\\]$/)) throw new _errorsLogJs.FilterTypeNotSupportedError(param.type);\n    return (0, _encodeAbiParametersJs.encodeAbiParameters)([param], [value]);\n  }\n});","lineCount":66,"map":[[7,2,10,0,"exports"],[7,9,10,0],[7,10,10,0,"encodeEventTopics"],[7,27,10,0],[7,30,10,0,"encodeEventTopics"],[7,47,10,0],[8,2,1,0],[8,6,1,0,"_errorsAbiJs"],[8,18,1,0],[8,21,1,0,"require"],[8,28,1,0],[8,29,1,0,"_dependencyMap"],[8,43,1,0],[9,2,2,0],[9,6,2,0,"_errorsLogJs"],[9,18,2,0],[9,21,2,0,"require"],[9,28,2,0],[9,29,2,0,"_dependencyMap"],[9,43,2,0],[10,2,3,0],[10,6,3,0,"_encodingToBytesJs"],[10,24,3,0],[10,27,3,0,"require"],[10,34,3,0],[10,35,3,0,"_dependencyMap"],[10,49,3,0],[11,2,4,0],[11,6,4,0,"_hashKeccak256Js"],[11,22,4,0],[11,25,4,0,"require"],[11,32,4,0],[11,33,4,0,"_dependencyMap"],[11,47,4,0],[12,2,5,0],[12,6,5,0,"_hashToEventSelectorJs"],[12,28,5,0],[12,31,5,0,"require"],[12,38,5,0],[12,39,5,0,"_dependencyMap"],[12,53,5,0],[13,2,6,0],[13,6,6,0,"_encodeAbiParametersJs"],[13,28,6,0],[13,31,6,0,"require"],[13,38,6,0],[13,39,6,0,"_dependencyMap"],[13,53,6,0],[14,2,7,0],[14,6,7,0,"_formatAbiItemJs"],[14,22,7,0],[14,25,7,0,"require"],[14,32,7,0],[14,33,7,0,"_dependencyMap"],[14,47,7,0],[15,2,8,0],[15,6,8,0,"_getAbiItemJs"],[15,19,8,0],[15,22,8,0,"require"],[15,29,8,0],[15,30,8,0,"_dependencyMap"],[15,44,8,0],[16,2,9,0],[16,8,9,6,"docsPath"],[16,16,9,14],[16,19,9,17],[16,53,9,51],[17,2,10,7],[17,11,10,16,"encodeEventTopics"],[17,28,10,33,"encodeEventTopics"],[17,29,10,34,"parameters"],[17,39,10,44],[17,41,10,46],[18,4,11,4],[18,10,11,10],[19,6,11,12,"abi"],[19,9,11,15],[20,6,11,17,"eventName"],[20,15,11,26],[21,6,11,28,"args"],[22,4,11,33],[22,5,11,34],[22,8,11,37,"parameters"],[22,18,11,47],[23,4,12,4],[23,8,12,8,"abiItem"],[23,15,12,15],[23,18,12,18,"abi"],[23,21,12,21],[23,22,12,22],[23,23,12,23],[23,24,12,24],[24,4,13,4],[24,8,13,8,"eventName"],[24,17,13,17],[24,19,13,19],[25,6,14,8],[25,12,14,14,"item"],[25,16,14,18],[25,19,14,21],[25,23,14,21,"getAbiItem"],[25,36,14,31],[25,37,14,31,"getAbiItem"],[25,47,14,31],[25,49,14,32],[26,8,14,34,"abi"],[26,11,14,37],[27,8,14,39,"name"],[27,12,14,43],[27,14,14,45,"eventName"],[28,6,14,55],[28,7,14,56],[28,8,14,57],[29,6,15,8],[29,10,15,12],[29,11,15,13,"item"],[29,15,15,17],[29,17,16,12],[29,23,16,18],[29,27,16,22,"AbiEventNotFoundError"],[29,39,16,43],[29,40,16,43,"AbiEventNotFoundError"],[29,61,16,43],[29,62,16,44,"eventName"],[29,71,16,53],[29,73,16,55],[30,8,16,57,"docsPath"],[31,6,16,66],[31,7,16,67],[31,8,16,68],[32,6,17,8,"abiItem"],[32,13,17,15],[32,16,17,18,"item"],[32,20,17,22],[33,4,18,4],[34,4,19,4],[34,8,19,8,"abiItem"],[34,15,19,15],[34,16,19,16,"type"],[34,20,19,20],[34,25,19,25],[34,32,19,32],[34,34,20,8],[34,40,20,14],[34,44,20,18,"AbiEventNotFoundError"],[34,56,20,39],[34,57,20,39,"AbiEventNotFoundError"],[34,78,20,39],[34,79,20,40,"undefined"],[34,88,20,49],[34,90,20,51],[35,6,20,53,"docsPath"],[36,4,20,62],[36,5,20,63],[36,6,20,64],[37,4,21,4],[37,10,21,10,"definition"],[37,20,21,20],[37,23,21,23],[37,27,21,23,"formatAbiItem"],[37,43,21,36],[37,44,21,36,"formatAbiItem"],[37,57,21,36],[37,59,21,37,"abiItem"],[37,66,21,44],[37,67,21,45],[38,4,22,4],[38,10,22,10,"signature"],[38,19,22,19],[38,22,22,22],[38,26,22,22,"toEventSelector"],[38,48,22,37],[38,49,22,37,"toEventSelector"],[38,64,22,37],[38,66,22,38,"definition"],[38,76,22,48],[38,77,22,49],[39,4,23,4],[39,8,23,8,"topics"],[39,14,23,14],[39,17,23,17],[39,19,23,19],[40,4,24,4],[40,8,24,8,"args"],[40,12,24,12],[40,16,24,16],[40,24,24,24],[40,28,24,28,"abiItem"],[40,35,24,35],[40,37,24,37],[41,6,25,8],[41,12,25,14,"indexedInputs"],[41,25,25,27],[41,28,25,30,"abiItem"],[41,35,25,37],[41,36,25,38,"inputs"],[41,42,25,44],[41,44,25,46,"filter"],[41,50,25,52],[41,51,25,54,"param"],[41,56,25,59],[41,60,25,64],[41,69,25,73],[41,73,25,77,"param"],[41,78,25,82],[41,82,25,86,"param"],[41,87,25,91],[41,88,25,92,"indexed"],[41,95,25,99],[41,96,25,100],[42,6,26,8],[42,12,26,14,"args_"],[42,17,26,19],[42,20,26,22,"Array"],[42,25,26,27],[42,26,26,28,"isArray"],[42,33,26,35],[42,34,26,36,"args"],[42,38,26,40],[42,39,26,41],[42,42,27,14,"args"],[42,46,27,18],[42,49,28,14,"Object"],[42,55,28,20],[42,56,28,21,"values"],[42,62,28,27],[42,63,28,28,"args"],[42,67,28,32],[42,68,28,33],[42,69,28,34,"length"],[42,75,28,40],[42,78,28,43],[42,79,28,44],[42,82,29,19,"indexedInputs"],[42,95,29,32],[42,97,29,34,"map"],[42,100,29,37],[42,101,29,39,"x"],[42,102,29,40],[42,106,29,45,"args"],[42,110,29,49],[42,111,29,50,"x"],[42,112,29,51],[42,113,29,52,"name"],[42,117,29,56],[42,118,29,57],[42,119,29,58],[42,123,29,62],[42,125,29,64],[42,128,30,18],[42,130,30,20],[43,6,31,8],[43,10,31,12,"args_"],[43,15,31,17],[43,16,31,18,"length"],[43,22,31,24],[43,25,31,27],[43,26,31,28],[43,28,31,30],[44,8,32,12,"topics"],[44,14,32,18],[44,17,33,16,"indexedInputs"],[44,30,33,29],[44,32,33,31,"map"],[44,35,33,34],[44,36,33,35],[44,37,33,36,"param"],[44,42,33,41],[44,44,33,43,"i"],[44,45,33,44],[44,50,33,49],[45,10,34,20],[45,14,34,24,"Array"],[45,19,34,29],[45,20,34,30,"isArray"],[45,27,34,37],[45,28,34,38,"args_"],[45,33,34,43],[45,34,34,44,"i"],[45,35,34,45],[45,36,34,46],[45,37,34,47],[45,39,35,24],[45,46,35,31,"args_"],[45,51,35,36],[45,52,35,37,"i"],[45,53,35,38],[45,54,35,39],[45,55,35,40,"map"],[45,58,35,43],[45,59,35,44],[45,60,35,45,"_"],[45,61,35,46],[45,63,35,48,"j"],[45,64,35,49],[45,69,35,54,"encodeArg"],[45,78,35,63],[45,79,35,64],[46,12,35,66,"param"],[46,17,35,71],[47,12,35,73,"value"],[47,17,35,78],[47,19,35,80,"args_"],[47,24,35,85],[47,25,35,86,"i"],[47,26,35,87],[47,27,35,88],[47,28,35,89,"j"],[47,29,35,90],[48,10,35,92],[48,11,35,93],[48,12,35,94],[48,13,35,95],[49,10,36,20],[49,17,36,27],[49,24,36,34,"args_"],[49,29,36,39],[49,30,36,40,"i"],[49,31,36,41],[49,32,36,42],[49,37,36,47],[49,48,36,58],[49,52,36,62,"args_"],[49,57,36,67],[49,58,36,68,"i"],[49,59,36,69],[49,60,36,70],[49,65,36,75],[49,69,36,79],[49,72,37,26,"encodeArg"],[49,81,37,35],[49,82,37,36],[50,12,37,38,"param"],[50,17,37,43],[51,12,37,45,"value"],[51,17,37,50],[51,19,37,52,"args_"],[51,24,37,57],[51,25,37,58,"i"],[51,26,37,59],[52,10,37,61],[52,11,37,62],[52,12,37,63],[52,15,38,26],[52,19,38,30],[53,8,39,16],[53,9,39,17],[53,10,39,18],[53,14,39,22],[53,16,39,24],[54,6,40,8],[55,4,41,4],[56,4,42,4],[56,11,42,11],[56,12,42,12,"signature"],[56,21,42,21],[56,23,42,23],[56,26,42,26,"topics"],[56,32,42,32],[56,33,42,33],[57,2,43,0],[58,2,44,0],[58,11,44,9,"encodeArg"],[58,20,44,18,"encodeArg"],[58,21,44,19],[59,4,44,21,"param"],[59,9,44,26],[60,4,44,28,"value"],[61,2,44,35],[61,3,44,36],[61,5,44,38],[62,4,45,4],[62,8,45,8,"param"],[62,13,45,13],[62,14,45,14,"type"],[62,18,45,18],[62,23,45,23],[62,31,45,31],[62,35,45,35,"param"],[62,40,45,40],[62,41,45,41,"type"],[62,45,45,45],[62,50,45,50],[62,57,45,57],[62,59,46,8],[62,66,46,15],[62,70,46,15,"keccak256"],[62,86,46,24],[62,87,46,24,"keccak256"],[62,96,46,24],[62,98,46,25],[62,102,46,25,"toBytes"],[62,120,46,32],[62,121,46,32,"toBytes"],[62,128,46,32],[62,130,46,33,"value"],[62,135,46,38],[62,136,46,39],[62,137,46,40],[63,4,47,4],[63,8,47,8,"param"],[63,13,47,13],[63,14,47,14,"type"],[63,18,47,18],[63,23,47,23],[63,30,47,30],[63,34,47,34,"param"],[63,39,47,39],[63,40,47,40,"type"],[63,44,47,44],[63,45,47,45,"match"],[63,50,47,50],[63,51,47,51],[63,69,47,69],[63,70,47,70],[63,72,48,8],[63,78,48,14],[63,82,48,18,"FilterTypeNotSupportedError"],[63,94,48,45],[63,95,48,45,"FilterTypeNotSupportedError"],[63,122,48,45],[63,123,48,46,"param"],[63,128,48,51],[63,129,48,52,"type"],[63,133,48,56],[63,134,48,57],[64,4,49,4],[64,11,49,11],[64,15,49,11,"encodeAbiParameters"],[64,37,49,30],[64,38,49,30,"encodeAbiParameters"],[64,57,49,30],[64,59,49,31],[64,60,49,32,"param"],[64,65,49,37],[64,66,49,38],[64,68,49,40],[64,69,49,41,"value"],[64,74,49,46],[64,75,49,47],[64,76,49,48],[65,2,50,0],[66,0,50,1],[66,3]],"functionMap":{"names":["<global>","encodeEventTopics","abiItem.inputs.filter$argument_0","indexedInputs.map$argument_0","args_.i.map$argument_0","encodeArg"],"mappings":"AAA;OCS;qDCe,8CD;sCEI,mBF;mCEI;4CCE,kDD;iBFI;CDI;AKC;CLM"},"hasCjsExports":false},"type":"js/module"}]}