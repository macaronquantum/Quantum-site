{"dependencies":[{"name":"../../constants/abis.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":18,"index":134},"end":{"line":4,"column":52,"index":168}}],"key":"yrHWypZlegCAdNz0tkfsugt0VBw=","exportNames":["*"],"imports":1}},{"name":"../../utils/abi/decodeFunctionResult.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":34,"index":204},"end":{"line":5,"column":84,"index":254}}],"key":"PXwyRBt1T1gTrLibjDXwXWimUBk=","exportNames":["*"],"imports":1}},{"name":"../../utils/abi/encodeFunctionData.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":32,"index":288},"end":{"line":6,"column":80,"index":336}}],"key":"X+zmSvhsp+TXYOiEa0Zi/HLVfNc=","exportNames":["*"],"imports":1}},{"name":"../../utils/chain/getChainContractAddress.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":37,"index":375},"end":{"line":7,"column":92,"index":430}}],"key":"LSOHYraFRKmn1vhzttHaVrAvnvY=","exportNames":["*"],"imports":1}},{"name":"../../utils/data/trim.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":18,"index":450},"end":{"line":8,"column":53,"index":485}}],"key":"lNZNO01mPvdMVXvjMtXBMqNQuls=","exportNames":["*"],"imports":1}},{"name":"../../utils/encoding/toHex.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":19,"index":506},"end":{"line":9,"column":59,"index":546}}],"key":"H7vq9DbZar/LBdoWrgikLXyV5L0=","exportNames":["*"],"imports":1}},{"name":"../../utils/ens/errors.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":20,"index":568},"end":{"line":10,"column":56,"index":604}}],"key":"bJ3HFECcOq3rJI5yc4mdcXLPNdM=","exportNames":["*"],"imports":1}},{"name":"../../utils/ens/namehash.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":11,"column":22,"index":628},"end":{"line":11,"column":60,"index":666}}],"key":"nLMZ3xzrUMD3X53xXqCx405nmb8=","exportNames":["*"],"imports":1}},{"name":"../../utils/ens/packetToBytes.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":12,"column":27,"index":695},"end":{"line":12,"column":70,"index":738}}],"key":"qZUsVA/n+grVYHWGPUJto9s8big=","exportNames":["*"],"imports":1}},{"name":"../../utils/getAction.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":13,"column":23,"index":763},"end":{"line":13,"column":58,"index":798}}],"key":"d685V9n1u7O1oRJ2ZbnkuLpcslA=","exportNames":["*"],"imports":1}},{"name":"../public/readContract.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":14,"column":26,"index":826},"end":{"line":14,"column":62,"index":862}}],"key":"UxqVCL+UT7iOwBMYmrSJxJgcrJI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getEnsAddress = getEnsAddress;\n  const abis_js_1 = require(_dependencyMap[0], \"../../constants/abis.js\");\n  const decodeFunctionResult_js_1 = require(_dependencyMap[1], \"../../utils/abi/decodeFunctionResult.js\");\n  const encodeFunctionData_js_1 = require(_dependencyMap[2], \"../../utils/abi/encodeFunctionData.js\");\n  const getChainContractAddress_js_1 = require(_dependencyMap[3], \"../../utils/chain/getChainContractAddress.js\");\n  const trim_js_1 = require(_dependencyMap[4], \"../../utils/data/trim.js\");\n  const toHex_js_1 = require(_dependencyMap[5], \"../../utils/encoding/toHex.js\");\n  const errors_js_1 = require(_dependencyMap[6], \"../../utils/ens/errors.js\");\n  const namehash_js_1 = require(_dependencyMap[7], \"../../utils/ens/namehash.js\");\n  const packetToBytes_js_1 = require(_dependencyMap[8], \"../../utils/ens/packetToBytes.js\");\n  const getAction_js_1 = require(_dependencyMap[9], \"../../utils/getAction.js\");\n  const readContract_js_1 = require(_dependencyMap[10], \"../public/readContract.js\");\n  async function getEnsAddress(client, {\n    blockNumber,\n    blockTag,\n    coinType,\n    name,\n    gatewayUrls,\n    strict,\n    universalResolverAddress: universalResolverAddress_\n  }) {\n    let universalResolverAddress = universalResolverAddress_;\n    if (!universalResolverAddress) {\n      if (!client.chain) throw new Error('client chain not configured. universalResolverAddress is required.');\n      universalResolverAddress = (0, getChainContractAddress_js_1.getChainContractAddress)({\n        blockNumber,\n        chain: client.chain,\n        contract: 'ensUniversalResolver'\n      });\n    }\n    try {\n      const functionData = (0, encodeFunctionData_js_1.encodeFunctionData)({\n        abi: abis_js_1.addressResolverAbi,\n        functionName: 'addr',\n        ...(coinType != null ? {\n          args: [(0, namehash_js_1.namehash)(name), BigInt(coinType)]\n        } : {\n          args: [(0, namehash_js_1.namehash)(name)]\n        })\n      });\n      const readContractParameters = {\n        address: universalResolverAddress,\n        abi: abis_js_1.universalResolverResolveAbi,\n        functionName: 'resolve',\n        args: [(0, toHex_js_1.toHex)((0, packetToBytes_js_1.packetToBytes)(name)), functionData],\n        blockNumber,\n        blockTag\n      };\n      const readContractAction = (0, getAction_js_1.getAction)(client, readContract_js_1.readContract, 'readContract');\n      const res = gatewayUrls ? await readContractAction({\n        ...readContractParameters,\n        args: [...readContractParameters.args, gatewayUrls]\n      }) : await readContractAction(readContractParameters);\n      if (res[0] === '0x') return null;\n      const address = (0, decodeFunctionResult_js_1.decodeFunctionResult)({\n        abi: abis_js_1.addressResolverAbi,\n        args: coinType != null ? [(0, namehash_js_1.namehash)(name), BigInt(coinType)] : undefined,\n        functionName: 'addr',\n        data: res[0]\n      });\n      if (address === '0x') return null;\n      if ((0, trim_js_1.trim)(address) === '0x00') return null;\n      return address;\n    } catch (err) {\n      if (strict) throw err;\n      if ((0, errors_js_1.isNullUniversalResolverError)(err, 'resolve')) return null;\n      throw err;\n    }\n  }\n});","lineCount":76,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"getEnsAddress"],[7,23,3,21],[7,26,3,24,"getEnsAddress"],[7,39,3,37],[8,2,4,0],[8,8,4,6,"abis_js_1"],[8,17,4,15],[8,20,4,18,"require"],[8,27,4,25],[8,28,4,25,"_dependencyMap"],[8,42,4,25],[8,72,4,51],[8,73,4,52],[9,2,5,0],[9,8,5,6,"decodeFunctionResult_js_1"],[9,33,5,31],[9,36,5,34,"require"],[9,43,5,41],[9,44,5,41,"_dependencyMap"],[9,58,5,41],[9,104,5,83],[9,105,5,84],[10,2,6,0],[10,8,6,6,"encodeFunctionData_js_1"],[10,31,6,29],[10,34,6,32,"require"],[10,41,6,39],[10,42,6,39,"_dependencyMap"],[10,56,6,39],[10,100,6,79],[10,101,6,80],[11,2,7,0],[11,8,7,6,"getChainContractAddress_js_1"],[11,36,7,34],[11,39,7,37,"require"],[11,46,7,44],[11,47,7,44,"_dependencyMap"],[11,61,7,44],[11,112,7,91],[11,113,7,92],[12,2,8,0],[12,8,8,6,"trim_js_1"],[12,17,8,15],[12,20,8,18,"require"],[12,27,8,25],[12,28,8,25,"_dependencyMap"],[12,42,8,25],[12,73,8,52],[12,74,8,53],[13,2,9,0],[13,8,9,6,"toHex_js_1"],[13,18,9,16],[13,21,9,19,"require"],[13,28,9,26],[13,29,9,26,"_dependencyMap"],[13,43,9,26],[13,79,9,58],[13,80,9,59],[14,2,10,0],[14,8,10,6,"errors_js_1"],[14,19,10,17],[14,22,10,20,"require"],[14,29,10,27],[14,30,10,27,"_dependencyMap"],[14,44,10,27],[14,76,10,55],[14,77,10,56],[15,2,11,0],[15,8,11,6,"namehash_js_1"],[15,21,11,19],[15,24,11,22,"require"],[15,31,11,29],[15,32,11,29,"_dependencyMap"],[15,46,11,29],[15,80,11,59],[15,81,11,60],[16,2,12,0],[16,8,12,6,"packetToBytes_js_1"],[16,26,12,24],[16,29,12,27,"require"],[16,36,12,34],[16,37,12,34,"_dependencyMap"],[16,51,12,34],[16,90,12,69],[16,91,12,70],[17,2,13,0],[17,8,13,6,"getAction_js_1"],[17,22,13,20],[17,25,13,23,"require"],[17,32,13,30],[17,33,13,30,"_dependencyMap"],[17,47,13,30],[17,78,13,57],[17,79,13,58],[18,2,14,0],[18,8,14,6,"readContract_js_1"],[18,25,14,23],[18,28,14,26,"require"],[18,35,14,33],[18,36,14,33,"_dependencyMap"],[18,50,14,33],[18,83,14,61],[18,84,14,62],[19,2,15,0],[19,17,15,15,"getEnsAddress"],[19,30,15,28,"getEnsAddress"],[19,31,15,29,"client"],[19,37,15,35],[19,39,15,37],[20,4,15,39,"blockNumber"],[20,15,15,50],[21,4,15,52,"blockTag"],[21,12,15,60],[22,4,15,62,"coinType"],[22,12,15,70],[23,4,15,72,"name"],[23,8,15,76],[24,4,15,78,"gatewayUrls"],[24,15,15,89],[25,4,15,91,"strict"],[25,10,15,97],[26,4,15,99,"universalResolverAddress"],[26,28,15,123],[26,30,15,125,"universalResolverAddress_"],[27,2,15,152],[27,3,15,153],[27,5,15,155],[28,4,16,4],[28,8,16,8,"universalResolverAddress"],[28,32,16,32],[28,35,16,35,"universalResolverAddress_"],[28,60,16,60],[29,4,17,4],[29,8,17,8],[29,9,17,9,"universalResolverAddress"],[29,33,17,33],[29,35,17,35],[30,6,18,8],[30,10,18,12],[30,11,18,13,"client"],[30,17,18,19],[30,18,18,20,"chain"],[30,23,18,25],[30,25,19,12],[30,31,19,18],[30,35,19,22,"Error"],[30,40,19,27],[30,41,19,28],[30,109,19,96],[30,110,19,97],[31,6,20,8,"universalResolverAddress"],[31,30,20,32],[31,33,20,35],[31,34,20,36],[31,35,20,37],[31,37,20,39,"getChainContractAddress_js_1"],[31,65,20,67],[31,66,20,68,"getChainContractAddress"],[31,89,20,91],[31,91,20,93],[32,8,21,12,"blockNumber"],[32,19,21,23],[33,8,22,12,"chain"],[33,13,22,17],[33,15,22,19,"client"],[33,21,22,25],[33,22,22,26,"chain"],[33,27,22,31],[34,8,23,12,"contract"],[34,16,23,20],[34,18,23,22],[35,6,24,8],[35,7,24,9],[35,8,24,10],[36,4,25,4],[37,4,26,4],[37,8,26,8],[38,6,27,8],[38,12,27,14,"functionData"],[38,24,27,26],[38,27,27,29],[38,28,27,30],[38,29,27,31],[38,31,27,33,"encodeFunctionData_js_1"],[38,54,27,56],[38,55,27,57,"encodeFunctionData"],[38,73,27,75],[38,75,27,77],[39,8,28,12,"abi"],[39,11,28,15],[39,13,28,17,"abis_js_1"],[39,22,28,26],[39,23,28,27,"addressResolverAbi"],[39,41,28,45],[40,8,29,12,"functionName"],[40,20,29,24],[40,22,29,26],[40,28,29,32],[41,8,30,12],[41,12,30,16,"coinType"],[41,20,30,24],[41,24,30,28],[41,28,30,32],[41,31,31,18],[42,10,31,20,"args"],[42,14,31,24],[42,16,31,26],[42,17,31,27],[42,18,31,28],[42,19,31,29],[42,21,31,31,"namehash_js_1"],[42,34,31,44],[42,35,31,45,"namehash"],[42,43,31,53],[42,45,31,55,"name"],[42,49,31,59],[42,50,31,60],[42,52,31,62,"BigInt"],[42,58,31,68],[42,59,31,69,"coinType"],[42,67,31,77],[42,68,31,78],[43,8,31,80],[43,9,31,81],[43,12,32,18],[44,10,32,20,"args"],[44,14,32,24],[44,16,32,26],[44,17,32,27],[44,18,32,28],[44,19,32,29],[44,21,32,31,"namehash_js_1"],[44,34,32,44],[44,35,32,45,"namehash"],[44,43,32,53],[44,45,32,55,"name"],[44,49,32,59],[44,50,32,60],[45,8,32,62],[45,9,32,63],[46,6,33,8],[46,7,33,9],[46,8,33,10],[47,6,34,8],[47,12,34,14,"readContractParameters"],[47,34,34,36],[47,37,34,39],[48,8,35,12,"address"],[48,15,35,19],[48,17,35,21,"universalResolverAddress"],[48,41,35,45],[49,8,36,12,"abi"],[49,11,36,15],[49,13,36,17,"abis_js_1"],[49,22,36,26],[49,23,36,27,"universalResolverResolveAbi"],[49,50,36,54],[50,8,37,12,"functionName"],[50,20,37,24],[50,22,37,26],[50,31,37,35],[51,8,38,12,"args"],[51,12,38,16],[51,14,38,18],[51,15,38,19],[51,16,38,20],[51,17,38,21],[51,19,38,23,"toHex_js_1"],[51,29,38,33],[51,30,38,34,"toHex"],[51,35,38,39],[51,37,38,41],[51,38,38,42],[51,39,38,43],[51,41,38,45,"packetToBytes_js_1"],[51,59,38,63],[51,60,38,64,"packetToBytes"],[51,73,38,77],[51,75,38,79,"name"],[51,79,38,83],[51,80,38,84],[51,81,38,85],[51,83,38,87,"functionData"],[51,95,38,99],[51,96,38,100],[52,8,39,12,"blockNumber"],[52,19,39,23],[53,8,40,12,"blockTag"],[54,6,41,8],[54,7,41,9],[55,6,42,8],[55,12,42,14,"readContractAction"],[55,30,42,32],[55,33,42,35],[55,34,42,36],[55,35,42,37],[55,37,42,39,"getAction_js_1"],[55,51,42,53],[55,52,42,54,"getAction"],[55,61,42,63],[55,63,42,65,"client"],[55,69,42,71],[55,71,42,73,"readContract_js_1"],[55,88,42,90],[55,89,42,91,"readContract"],[55,101,42,103],[55,103,42,105],[55,117,42,119],[55,118,42,120],[56,6,43,8],[56,12,43,14,"res"],[56,15,43,17],[56,18,43,20,"gatewayUrls"],[56,29,43,31],[56,32,44,14],[56,38,44,20,"readContractAction"],[56,56,44,38],[56,57,44,39],[57,8,45,16],[57,11,45,19,"readContractParameters"],[57,33,45,41],[58,8,46,16,"args"],[58,12,46,20],[58,14,46,22],[58,15,46,23],[58,18,46,26,"readContractParameters"],[58,40,46,48],[58,41,46,49,"args"],[58,45,46,53],[58,47,46,55,"gatewayUrls"],[58,58,46,66],[59,6,47,12],[59,7,47,13],[59,8,47,14],[59,11,48,14],[59,17,48,20,"readContractAction"],[59,35,48,38],[59,36,48,39,"readContractParameters"],[59,58,48,61],[59,59,48,62],[60,6,49,8],[60,10,49,12,"res"],[60,13,49,15],[60,14,49,16],[60,15,49,17],[60,16,49,18],[60,21,49,23],[60,25,49,27],[60,27,50,12],[60,34,50,19],[60,38,50,23],[61,6,51,8],[61,12,51,14,"address"],[61,19,51,21],[61,22,51,24],[61,23,51,25],[61,24,51,26],[61,26,51,28,"decodeFunctionResult_js_1"],[61,51,51,53],[61,52,51,54,"decodeFunctionResult"],[61,72,51,74],[61,74,51,76],[62,8,52,12,"abi"],[62,11,52,15],[62,13,52,17,"abis_js_1"],[62,22,52,26],[62,23,52,27,"addressResolverAbi"],[62,41,52,45],[63,8,53,12,"args"],[63,12,53,16],[63,14,53,18,"coinType"],[63,22,53,26],[63,26,53,30],[63,30,53,34],[63,33,53,37],[63,34,53,38],[63,35,53,39],[63,36,53,40],[63,38,53,42,"namehash_js_1"],[63,51,53,55],[63,52,53,56,"namehash"],[63,60,53,64],[63,62,53,66,"name"],[63,66,53,70],[63,67,53,71],[63,69,53,73,"BigInt"],[63,75,53,79],[63,76,53,80,"coinType"],[63,84,53,88],[63,85,53,89],[63,86,53,90],[63,89,53,93,"undefined"],[63,98,53,102],[64,8,54,12,"functionName"],[64,20,54,24],[64,22,54,26],[64,28,54,32],[65,8,55,12,"data"],[65,12,55,16],[65,14,55,18,"res"],[65,17,55,21],[65,18,55,22],[65,19,55,23],[66,6,56,8],[66,7,56,9],[66,8,56,10],[67,6,57,8],[67,10,57,12,"address"],[67,17,57,19],[67,22,57,24],[67,26,57,28],[67,28,58,12],[67,35,58,19],[67,39,58,23],[68,6,59,8],[68,10,59,12],[68,11,59,13],[68,12,59,14],[68,14,59,16,"trim_js_1"],[68,23,59,25],[68,24,59,26,"trim"],[68,28,59,30],[68,30,59,32,"address"],[68,37,59,39],[68,38,59,40],[68,43,59,45],[68,49,59,51],[68,51,60,12],[68,58,60,19],[68,62,60,23],[69,6,61,8],[69,13,61,15,"address"],[69,20,61,22],[70,4,62,4],[70,5,62,5],[70,6,63,4],[70,13,63,11,"err"],[70,16,63,14],[70,18,63,16],[71,6,64,8],[71,10,64,12,"strict"],[71,16,64,18],[71,18,65,12],[71,24,65,18,"err"],[71,27,65,21],[72,6,66,8],[72,10,66,12],[72,11,66,13],[72,12,66,14],[72,14,66,16,"errors_js_1"],[72,25,66,27],[72,26,66,28,"isNullUniversalResolverError"],[72,54,66,56],[72,56,66,58,"err"],[72,59,66,61],[72,61,66,63],[72,70,66,72],[72,71,66,73],[72,73,67,12],[72,80,67,19],[72,84,67,23],[73,6,68,8],[73,12,68,14,"err"],[73,15,68,17],[74,4,69,4],[75,2,70,0],[76,0,70,1],[76,3]],"functionMap":{"names":["<global>","getEnsAddress"],"mappings":"AAA;ACc;CDuD"},"hasCjsExports":true},"type":"js/module"}]}