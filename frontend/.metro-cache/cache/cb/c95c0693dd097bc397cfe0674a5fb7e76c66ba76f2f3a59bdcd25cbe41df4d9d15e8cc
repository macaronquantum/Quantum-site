{"dependencies":[{"name":"./constants","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":25,"index":40},"end":{"line":3,"column":47,"index":62}}],"key":"3z43bJyk/UB4EKjDCOXTFak09do=","exportNames":["*"],"imports":1}},{"name":"bufferutil","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":105,"column":21,"index":2444},"end":{"line":105,"column":42,"index":2465}}],"key":"+1/sflFWE8SK3vl9pGAd6P58YTY=","exportNames":["*"],"imports":1,"isOptional":true}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  const {\n    EMPTY_BUFFER\n  } = require(_dependencyMap[0], \"./constants\");\n\n  /**\n   * Merges an array of buffers into a new buffer.\n   *\n   * @param {Buffer[]} list The array of buffers to concat\n   * @param {Number} totalLength The total length of buffers in the list\n   * @return {Buffer} The resulting buffer\n   * @public\n   */\n  function concat(list, totalLength) {\n    if (list.length === 0) return EMPTY_BUFFER;\n    if (list.length === 1) return list[0];\n    const target = Buffer.allocUnsafe(totalLength);\n    let offset = 0;\n    for (let i = 0; i < list.length; i++) {\n      const buf = list[i];\n      target.set(buf, offset);\n      offset += buf.length;\n    }\n    if (offset < totalLength) return target.slice(0, offset);\n    return target;\n  }\n\n  /**\n   * Masks a buffer using the given mask.\n   *\n   * @param {Buffer} source The buffer to mask\n   * @param {Buffer} mask The mask to use\n   * @param {Buffer} output The buffer where to store the result\n   * @param {Number} offset The offset at which to start writing\n   * @param {Number} length The number of bytes to mask.\n   * @public\n   */\n  function _mask(source, mask, output, offset, length) {\n    for (let i = 0; i < length; i++) {\n      output[offset + i] = source[i] ^ mask[i & 3];\n    }\n  }\n\n  /**\n   * Unmasks a buffer using the given mask.\n   *\n   * @param {Buffer} buffer The buffer to unmask\n   * @param {Buffer} mask The mask to use\n   * @public\n   */\n  function _unmask(buffer, mask) {\n    // Required until https://github.com/nodejs/node/issues/9006 is resolved.\n    const length = buffer.length;\n    for (let i = 0; i < length; i++) {\n      buffer[i] ^= mask[i & 3];\n    }\n  }\n\n  /**\n   * Converts a buffer to an `ArrayBuffer`.\n   *\n   * @param {Buffer} buf The buffer to convert\n   * @return {ArrayBuffer} Converted buffer\n   * @public\n   */\n  function toArrayBuffer(buf) {\n    if (buf.byteLength === buf.buffer.byteLength) {\n      return buf.buffer;\n    }\n    return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n  }\n\n  /**\n   * Converts `data` to a `Buffer`.\n   *\n   * @param {*} data The data to convert\n   * @return {Buffer} The buffer\n   * @throws {TypeError}\n   * @public\n   */\n  function toBuffer(data) {\n    toBuffer.readOnly = true;\n    if (Buffer.isBuffer(data)) return data;\n    let buf;\n    if (data instanceof ArrayBuffer) {\n      buf = Buffer.from(data);\n    } else if (ArrayBuffer.isView(data)) {\n      buf = Buffer.from(data.buffer, data.byteOffset, data.byteLength);\n    } else {\n      buf = Buffer.from(data);\n      toBuffer.readOnly = false;\n    }\n    return buf;\n  }\n  try {\n    const bufferUtil = require(_dependencyMap[1], \"bufferutil\");\n    const bu = bufferUtil.BufferUtil || bufferUtil;\n    module.exports = {\n      concat,\n      mask(source, mask, output, offset, length) {\n        if (length < 48) _mask(source, mask, output, offset, length);else bu.mask(source, mask, output, offset, length);\n      },\n      toArrayBuffer,\n      toBuffer,\n      unmask(buffer, mask) {\n        if (buffer.length < 32) _unmask(buffer, mask);else bu.unmask(buffer, mask);\n      }\n    };\n  } catch (e) /* istanbul ignore next */{\n    module.exports = {\n      concat,\n      mask: _mask,\n      toArrayBuffer,\n      toBuffer,\n      unmask: _unmask\n    };\n  }\n});","lineCount":120,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0],[4,8,3,6],[5,4,3,8,"EMPTY_BUFFER"],[6,2,3,21],[6,3,3,22],[6,6,3,25,"require"],[6,13,3,32],[6,14,3,32,"_dependencyMap"],[6,28,3,32],[6,46,3,46],[6,47,3,47],[8,2,5,0],[9,0,6,0],[10,0,7,0],[11,0,8,0],[12,0,9,0],[13,0,10,0],[14,0,11,0],[15,0,12,0],[16,2,13,0],[16,11,13,9,"concat"],[16,17,13,15,"concat"],[16,18,13,16,"list"],[16,22,13,20],[16,24,13,22,"totalLength"],[16,35,13,33],[16,37,13,35],[17,4,14,2],[17,8,14,6,"list"],[17,12,14,10],[17,13,14,11,"length"],[17,19,14,17],[17,24,14,22],[17,25,14,23],[17,27,14,25],[17,34,14,32,"EMPTY_BUFFER"],[17,46,14,44],[18,4,15,2],[18,8,15,6,"list"],[18,12,15,10],[18,13,15,11,"length"],[18,19,15,17],[18,24,15,22],[18,25,15,23],[18,27,15,25],[18,34,15,32,"list"],[18,38,15,36],[18,39,15,37],[18,40,15,38],[18,41,15,39],[19,4,17,2],[19,10,17,8,"target"],[19,16,17,14],[19,19,17,17,"Buffer"],[19,25,17,23],[19,26,17,24,"allocUnsafe"],[19,37,17,35],[19,38,17,36,"totalLength"],[19,49,17,47],[19,50,17,48],[20,4,18,2],[20,8,18,6,"offset"],[20,14,18,12],[20,17,18,15],[20,18,18,16],[21,4,20,2],[21,9,20,7],[21,13,20,11,"i"],[21,14,20,12],[21,17,20,15],[21,18,20,16],[21,20,20,18,"i"],[21,21,20,19],[21,24,20,22,"list"],[21,28,20,26],[21,29,20,27,"length"],[21,35,20,33],[21,37,20,35,"i"],[21,38,20,36],[21,40,20,38],[21,42,20,40],[22,6,21,4],[22,12,21,10,"buf"],[22,15,21,13],[22,18,21,16,"list"],[22,22,21,20],[22,23,21,21,"i"],[22,24,21,22],[22,25,21,23],[23,6,22,4,"target"],[23,12,22,10],[23,13,22,11,"set"],[23,16,22,14],[23,17,22,15,"buf"],[23,20,22,18],[23,22,22,20,"offset"],[23,28,22,26],[23,29,22,27],[24,6,23,4,"offset"],[24,12,23,10],[24,16,23,14,"buf"],[24,19,23,17],[24,20,23,18,"length"],[24,26,23,24],[25,4,24,2],[26,4,26,2],[26,8,26,6,"offset"],[26,14,26,12],[26,17,26,15,"totalLength"],[26,28,26,26],[26,30,26,28],[26,37,26,35,"target"],[26,43,26,41],[26,44,26,42,"slice"],[26,49,26,47],[26,50,26,48],[26,51,26,49],[26,53,26,51,"offset"],[26,59,26,57],[26,60,26,58],[27,4,28,2],[27,11,28,9,"target"],[27,17,28,15],[28,2,29,0],[30,2,31,0],[31,0,32,0],[32,0,33,0],[33,0,34,0],[34,0,35,0],[35,0,36,0],[36,0,37,0],[37,0,38,0],[38,0,39,0],[39,0,40,0],[40,2,41,0],[40,11,41,9,"_mask"],[40,16,41,14,"_mask"],[40,17,41,15,"source"],[40,23,41,21],[40,25,41,23,"mask"],[40,29,41,27],[40,31,41,29,"output"],[40,37,41,35],[40,39,41,37,"offset"],[40,45,41,43],[40,47,41,45,"length"],[40,53,41,51],[40,55,41,53],[41,4,42,2],[41,9,42,7],[41,13,42,11,"i"],[41,14,42,12],[41,17,42,15],[41,18,42,16],[41,20,42,18,"i"],[41,21,42,19],[41,24,42,22,"length"],[41,30,42,28],[41,32,42,30,"i"],[41,33,42,31],[41,35,42,33],[41,37,42,35],[42,6,43,4,"output"],[42,12,43,10],[42,13,43,11,"offset"],[42,19,43,17],[42,22,43,20,"i"],[42,23,43,21],[42,24,43,22],[42,27,43,25,"source"],[42,33,43,31],[42,34,43,32,"i"],[42,35,43,33],[42,36,43,34],[42,39,43,37,"mask"],[42,43,43,41],[42,44,43,42,"i"],[42,45,43,43],[42,48,43,46],[42,49,43,47],[42,50,43,48],[43,4,44,2],[44,2,45,0],[46,2,47,0],[47,0,48,0],[48,0,49,0],[49,0,50,0],[50,0,51,0],[51,0,52,0],[52,0,53,0],[53,2,54,0],[53,11,54,9,"_unmask"],[53,18,54,16,"_unmask"],[53,19,54,17,"buffer"],[53,25,54,23],[53,27,54,25,"mask"],[53,31,54,29],[53,33,54,31],[54,4,55,2],[55,4,56,2],[55,10,56,8,"length"],[55,16,56,14],[55,19,56,17,"buffer"],[55,25,56,23],[55,26,56,24,"length"],[55,32,56,30],[56,4,57,2],[56,9,57,7],[56,13,57,11,"i"],[56,14,57,12],[56,17,57,15],[56,18,57,16],[56,20,57,18,"i"],[56,21,57,19],[56,24,57,22,"length"],[56,30,57,28],[56,32,57,30,"i"],[56,33,57,31],[56,35,57,33],[56,37,57,35],[57,6,58,4,"buffer"],[57,12,58,10],[57,13,58,11,"i"],[57,14,58,12],[57,15,58,13],[57,19,58,17,"mask"],[57,23,58,21],[57,24,58,22,"i"],[57,25,58,23],[57,28,58,26],[57,29,58,27],[57,30,58,28],[58,4,59,2],[59,2,60,0],[61,2,62,0],[62,0,63,0],[63,0,64,0],[64,0,65,0],[65,0,66,0],[66,0,67,0],[67,0,68,0],[68,2,69,0],[68,11,69,9,"toArrayBuffer"],[68,24,69,22,"toArrayBuffer"],[68,25,69,23,"buf"],[68,28,69,26],[68,30,69,28],[69,4,70,2],[69,8,70,6,"buf"],[69,11,70,9],[69,12,70,10,"byteLength"],[69,22,70,20],[69,27,70,25,"buf"],[69,30,70,28],[69,31,70,29,"buffer"],[69,37,70,35],[69,38,70,36,"byteLength"],[69,48,70,46],[69,50,70,48],[70,6,71,4],[70,13,71,11,"buf"],[70,16,71,14],[70,17,71,15,"buffer"],[70,23,71,21],[71,4,72,2],[72,4,74,2],[72,11,74,9,"buf"],[72,14,74,12],[72,15,74,13,"buffer"],[72,21,74,19],[72,22,74,20,"slice"],[72,27,74,25],[72,28,74,26,"buf"],[72,31,74,29],[72,32,74,30,"byteOffset"],[72,42,74,40],[72,44,74,42,"buf"],[72,47,74,45],[72,48,74,46,"byteOffset"],[72,58,74,56],[72,61,74,59,"buf"],[72,64,74,62],[72,65,74,63,"byteLength"],[72,75,74,73],[72,76,74,74],[73,2,75,0],[75,2,77,0],[76,0,78,0],[77,0,79,0],[78,0,80,0],[79,0,81,0],[80,0,82,0],[81,0,83,0],[82,0,84,0],[83,2,85,0],[83,11,85,9,"toBuffer"],[83,19,85,17,"toBuffer"],[83,20,85,18,"data"],[83,24,85,22],[83,26,85,24],[84,4,86,2,"toBuffer"],[84,12,86,10],[84,13,86,11,"readOnly"],[84,21,86,19],[84,24,86,22],[84,28,86,26],[85,4,88,2],[85,8,88,6,"Buffer"],[85,14,88,12],[85,15,88,13,"isBuffer"],[85,23,88,21],[85,24,88,22,"data"],[85,28,88,26],[85,29,88,27],[85,31,88,29],[85,38,88,36,"data"],[85,42,88,40],[86,4,90,2],[86,8,90,6,"buf"],[86,11,90,9],[87,4,92,2],[87,8,92,6,"data"],[87,12,92,10],[87,24,92,22,"ArrayBuffer"],[87,35,92,33],[87,37,92,35],[88,6,93,4,"buf"],[88,9,93,7],[88,12,93,10,"Buffer"],[88,18,93,16],[88,19,93,17,"from"],[88,23,93,21],[88,24,93,22,"data"],[88,28,93,26],[88,29,93,27],[89,4,94,2],[89,5,94,3],[89,11,94,9],[89,15,94,13,"ArrayBuffer"],[89,26,94,24],[89,27,94,25,"isView"],[89,33,94,31],[89,34,94,32,"data"],[89,38,94,36],[89,39,94,37],[89,41,94,39],[90,6,95,4,"buf"],[90,9,95,7],[90,12,95,10,"Buffer"],[90,18,95,16],[90,19,95,17,"from"],[90,23,95,21],[90,24,95,22,"data"],[90,28,95,26],[90,29,95,27,"buffer"],[90,35,95,33],[90,37,95,35,"data"],[90,41,95,39],[90,42,95,40,"byteOffset"],[90,52,95,50],[90,54,95,52,"data"],[90,58,95,56],[90,59,95,57,"byteLength"],[90,69,95,67],[90,70,95,68],[91,4,96,2],[91,5,96,3],[91,11,96,9],[92,6,97,4,"buf"],[92,9,97,7],[92,12,97,10,"Buffer"],[92,18,97,16],[92,19,97,17,"from"],[92,23,97,21],[92,24,97,22,"data"],[92,28,97,26],[92,29,97,27],[93,6,98,4,"toBuffer"],[93,14,98,12],[93,15,98,13,"readOnly"],[93,23,98,21],[93,26,98,24],[93,31,98,29],[94,4,99,2],[95,4,101,2],[95,11,101,9,"buf"],[95,14,101,12],[96,2,102,0],[97,2,104,0],[97,6,104,4],[98,4,105,2],[98,10,105,8,"bufferUtil"],[98,20,105,18],[98,23,105,21,"require"],[98,30,105,28],[98,31,105,28,"_dependencyMap"],[98,45,105,28],[98,62,105,41],[98,63,105,42],[99,4,106,2],[99,10,106,8,"bu"],[99,12,106,10],[99,15,106,13,"bufferUtil"],[99,25,106,23],[99,26,106,24,"BufferUtil"],[99,36,106,34],[99,40,106,38,"bufferUtil"],[99,50,106,48],[100,4,108,2,"module"],[100,10,108,8],[100,11,108,9,"exports"],[100,18,108,16],[100,21,108,19],[101,6,109,4,"concat"],[101,12,109,10],[102,6,110,4,"mask"],[102,10,110,8,"mask"],[102,11,110,9,"source"],[102,17,110,15],[102,19,110,17,"mask"],[102,23,110,21],[102,25,110,23,"output"],[102,31,110,29],[102,33,110,31,"offset"],[102,39,110,37],[102,41,110,39,"length"],[102,47,110,45],[102,49,110,47],[103,8,111,6],[103,12,111,10,"length"],[103,18,111,16],[103,21,111,19],[103,23,111,21],[103,25,111,23,"_mask"],[103,30,111,28],[103,31,111,29,"source"],[103,37,111,35],[103,39,111,37,"mask"],[103,43,111,41],[103,45,111,43,"output"],[103,51,111,49],[103,53,111,51,"offset"],[103,59,111,57],[103,61,111,59,"length"],[103,67,111,65],[103,68,111,66],[103,69,111,67],[103,74,112,11,"bu"],[103,76,112,13],[103,77,112,14,"mask"],[103,81,112,18],[103,82,112,19,"source"],[103,88,112,25],[103,90,112,27,"mask"],[103,94,112,31],[103,96,112,33,"output"],[103,102,112,39],[103,104,112,41,"offset"],[103,110,112,47],[103,112,112,49,"length"],[103,118,112,55],[103,119,112,56],[104,6,113,4],[104,7,113,5],[105,6,114,4,"toArrayBuffer"],[105,19,114,17],[106,6,115,4,"toBuffer"],[106,14,115,12],[107,6,116,4,"unmask"],[107,12,116,10,"unmask"],[107,13,116,11,"buffer"],[107,19,116,17],[107,21,116,19,"mask"],[107,25,116,23],[107,27,116,25],[108,8,117,6],[108,12,117,10,"buffer"],[108,18,117,16],[108,19,117,17,"length"],[108,25,117,23],[108,28,117,26],[108,30,117,28],[108,32,117,30,"_unmask"],[108,39,117,37],[108,40,117,38,"buffer"],[108,46,117,44],[108,48,117,46,"mask"],[108,52,117,50],[108,53,117,51],[108,54,117,52],[108,59,118,11,"bu"],[108,61,118,13],[108,62,118,14,"unmask"],[108,68,118,20],[108,69,118,21,"buffer"],[108,75,118,27],[108,77,118,29,"mask"],[108,81,118,33],[108,82,118,34],[109,6,119,4],[110,4,120,2],[110,5,120,3],[111,2,121,0],[111,3,121,1],[111,4,121,2],[111,11,121,9,"e"],[111,12,121,10],[111,14,121,12],[111,40,121,39],[112,4,122,2,"module"],[112,10,122,8],[112,11,122,9,"exports"],[112,18,122,16],[112,21,122,19],[113,6,123,4,"concat"],[113,12,123,10],[114,6,124,4,"mask"],[114,10,124,8],[114,12,124,10,"_mask"],[114,17,124,15],[115,6,125,4,"toArrayBuffer"],[115,19,125,17],[116,6,126,4,"toBuffer"],[116,14,126,12],[117,6,127,4,"unmask"],[117,12,127,10],[117,14,127,12,"_unmask"],[118,4,128,2],[118,5,128,3],[119,2,129,0],[120,0,129,1],[120,3]],"functionMap":{"names":["<global>","concat","_mask","_unmask","toArrayBuffer","toBuffer","module.exports.mask","module.exports.unmask"],"mappings":"AAA;ACY;CDgB;AEY;CFI;AGS;CHM;AIS;CJM;AKU;CLiB;IMQ;KNG;IOG;KPG"},"hasCjsExports":true},"type":"js/module"}]}