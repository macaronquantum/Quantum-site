{"dependencies":[{"name":"../../utils/abi/encodeEventTopics.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":31,"index":155},"end":{"line":4,"column":78,"index":202}}],"key":"XpQCpTHG9PGpjLS0QVPmnt4JY/A=","exportNames":["*"],"imports":1}},{"name":"../../utils/encoding/toHex.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":19,"index":223},"end":{"line":5,"column":59,"index":263}}],"key":"H7vq9DbZar/LBdoWrgikLXyV5L0=","exportNames":["*"],"imports":1}},{"name":"../../utils/filters/createFilterRequestScope.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":38,"index":303},"end":{"line":6,"column":96,"index":361}}],"key":"EaP81dCRJUQdweB/k9WCdkUUh2A=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.createEventFilter = createEventFilter;\n  const encodeEventTopics_js_1 = require(_dependencyMap[0], \"../../utils/abi/encodeEventTopics.js\");\n  const toHex_js_1 = require(_dependencyMap[1], \"../../utils/encoding/toHex.js\");\n  const createFilterRequestScope_js_1 = require(_dependencyMap[2], \"../../utils/filters/createFilterRequestScope.js\");\n  async function createEventFilter(client, {\n    address,\n    args,\n    event,\n    events: events_,\n    fromBlock,\n    strict,\n    toBlock\n  } = {}) {\n    const events = events_ ?? (event ? [event] : undefined);\n    const getRequest = (0, createFilterRequestScope_js_1.createFilterRequestScope)(client, {\n      method: 'eth_newFilter'\n    });\n    let topics = [];\n    if (events) {\n      const encoded = events.flatMap(event => (0, encodeEventTopics_js_1.encodeEventTopics)({\n        abi: [event],\n        eventName: event.name,\n        args\n      }));\n      topics = [encoded];\n      if (event) topics = topics[0];\n    }\n    const id = await client.request({\n      method: 'eth_newFilter',\n      params: [{\n        address,\n        fromBlock: typeof fromBlock === 'bigint' ? (0, toHex_js_1.numberToHex)(fromBlock) : fromBlock,\n        toBlock: typeof toBlock === 'bigint' ? (0, toHex_js_1.numberToHex)(toBlock) : toBlock,\n        ...(topics.length ? {\n          topics\n        } : {})\n      }]\n    });\n    return {\n      abi: events,\n      args,\n      eventName: event ? event.name : undefined,\n      fromBlock,\n      id,\n      request: getRequest(id),\n      strict: Boolean(strict),\n      toBlock,\n      type: 'event'\n    };\n  }\n});","lineCount":57,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"createEventFilter"],[7,27,3,25],[7,30,3,28,"createEventFilter"],[7,47,3,45],[8,2,4,0],[8,8,4,6,"encodeEventTopics_js_1"],[8,30,4,28],[8,33,4,31,"require"],[8,40,4,38],[8,41,4,38,"_dependencyMap"],[8,55,4,38],[8,98,4,77],[8,99,4,78],[9,2,5,0],[9,8,5,6,"toHex_js_1"],[9,18,5,16],[9,21,5,19,"require"],[9,28,5,26],[9,29,5,26,"_dependencyMap"],[9,43,5,26],[9,79,5,58],[9,80,5,59],[10,2,6,0],[10,8,6,6,"createFilterRequestScope_js_1"],[10,37,6,35],[10,40,6,38,"require"],[10,47,6,45],[10,48,6,45,"_dependencyMap"],[10,62,6,45],[10,116,6,95],[10,117,6,96],[11,2,7,0],[11,17,7,15,"createEventFilter"],[11,34,7,32,"createEventFilter"],[11,35,7,33,"client"],[11,41,7,39],[11,43,7,41],[12,4,7,43,"address"],[12,11,7,50],[13,4,7,52,"args"],[13,8,7,56],[14,4,7,58,"event"],[14,9,7,63],[15,4,7,65,"events"],[15,10,7,71],[15,12,7,73,"events_"],[15,19,7,80],[16,4,7,82,"fromBlock"],[16,13,7,91],[17,4,7,93,"strict"],[17,10,7,99],[18,4,7,101,"toBlock"],[19,2,7,110],[19,3,7,111],[19,6,7,114],[19,7,7,115],[19,8,7,116],[19,10,7,118],[20,4,8,4],[20,10,8,10,"events"],[20,16,8,16],[20,19,8,19,"events_"],[20,26,8,26],[20,31,8,31,"event"],[20,36,8,36],[20,39,8,39],[20,40,8,40,"event"],[20,45,8,45],[20,46,8,46],[20,49,8,49,"undefined"],[20,58,8,58],[20,59,8,59],[21,4,9,4],[21,10,9,10,"getRequest"],[21,20,9,20],[21,23,9,23],[21,24,9,24],[21,25,9,25],[21,27,9,27,"createFilterRequestScope_js_1"],[21,56,9,56],[21,57,9,57,"createFilterRequestScope"],[21,81,9,81],[21,83,9,83,"client"],[21,89,9,89],[21,91,9,91],[22,6,10,8,"method"],[22,12,10,14],[22,14,10,16],[23,4,11,4],[23,5,11,5],[23,6,11,6],[24,4,12,4],[24,8,12,8,"topics"],[24,14,12,14],[24,17,12,17],[24,19,12,19],[25,4,13,4],[25,8,13,8,"events"],[25,14,13,14],[25,16,13,16],[26,6,14,8],[26,12,14,14,"encoded"],[26,19,14,21],[26,22,14,24,"events"],[26,28,14,30],[26,29,14,31,"flatMap"],[26,36,14,38],[26,37,14,40,"event"],[26,42,14,45],[26,46,14,50],[26,47,14,51],[26,48,14,52],[26,50,14,54,"encodeEventTopics_js_1"],[26,72,14,76],[26,73,14,77,"encodeEventTopics"],[26,90,14,94],[26,92,14,96],[27,8,15,12,"abi"],[27,11,15,15],[27,13,15,17],[27,14,15,18,"event"],[27,19,15,23],[27,20,15,24],[28,8,16,12,"eventName"],[28,17,16,21],[28,19,16,23,"event"],[28,24,16,28],[28,25,16,29,"name"],[28,29,16,33],[29,8,17,12,"args"],[30,6,18,8],[30,7,18,9],[30,8,18,10],[30,9,18,11],[31,6,19,8,"topics"],[31,12,19,14],[31,15,19,17],[31,16,19,18,"encoded"],[31,23,19,25],[31,24,19,26],[32,6,20,8],[32,10,20,12,"event"],[32,15,20,17],[32,17,21,12,"topics"],[32,23,21,18],[32,26,21,21,"topics"],[32,32,21,27],[32,33,21,28],[32,34,21,29],[32,35,21,30],[33,4,22,4],[34,4,23,4],[34,10,23,10,"id"],[34,12,23,12],[34,15,23,15],[34,21,23,21,"client"],[34,27,23,27],[34,28,23,28,"request"],[34,35,23,35],[34,36,23,36],[35,6,24,8,"method"],[35,12,24,14],[35,14,24,16],[35,29,24,31],[36,6,25,8,"params"],[36,12,25,14],[36,14,25,16],[36,15,26,12],[37,8,27,16,"address"],[37,15,27,23],[38,8,28,16,"fromBlock"],[38,17,28,25],[38,19,28,27],[38,26,28,34,"fromBlock"],[38,35,28,43],[38,40,28,48],[38,48,28,56],[38,51,28,59],[38,52,28,60],[38,53,28,61],[38,55,28,63,"toHex_js_1"],[38,65,28,73],[38,66,28,74,"numberToHex"],[38,77,28,85],[38,79,28,87,"fromBlock"],[38,88,28,96],[38,89,28,97],[38,92,28,100,"fromBlock"],[38,101,28,109],[39,8,29,16,"toBlock"],[39,15,29,23],[39,17,29,25],[39,24,29,32,"toBlock"],[39,31,29,39],[39,36,29,44],[39,44,29,52],[39,47,29,55],[39,48,29,56],[39,49,29,57],[39,51,29,59,"toHex_js_1"],[39,61,29,69],[39,62,29,70,"numberToHex"],[39,73,29,81],[39,75,29,83,"toBlock"],[39,82,29,90],[39,83,29,91],[39,86,29,94,"toBlock"],[39,93,29,101],[40,8,30,16],[40,12,30,20,"topics"],[40,18,30,26],[40,19,30,27,"length"],[40,25,30,33],[40,28,30,36],[41,10,30,38,"topics"],[42,8,30,45],[42,9,30,46],[42,12,30,49],[42,13,30,50],[42,14,30,51],[43,6,31,12],[43,7,31,13],[44,4,33,4],[44,5,33,5],[44,6,33,6],[45,4,34,4],[45,11,34,11],[46,6,35,8,"abi"],[46,9,35,11],[46,11,35,13,"events"],[46,17,35,19],[47,6,36,8,"args"],[47,10,36,12],[48,6,37,8,"eventName"],[48,15,37,17],[48,17,37,19,"event"],[48,22,37,24],[48,25,37,27,"event"],[48,30,37,32],[48,31,37,33,"name"],[48,35,37,37],[48,38,37,40,"undefined"],[48,47,37,49],[49,6,38,8,"fromBlock"],[49,15,38,17],[50,6,39,8,"id"],[50,8,39,10],[51,6,40,8,"request"],[51,13,40,15],[51,15,40,17,"getRequest"],[51,25,40,27],[51,26,40,28,"id"],[51,28,40,30],[51,29,40,31],[52,6,41,8,"strict"],[52,12,41,14],[52,14,41,16,"Boolean"],[52,21,41,23],[52,22,41,24,"strict"],[52,28,41,30],[52,29,41,31],[53,6,42,8,"toBlock"],[53,13,42,15],[54,6,43,8,"type"],[54,10,43,12],[54,12,43,14],[55,4,44,4],[55,5,44,5],[56,2,45,0],[57,0,45,1],[57,3]],"functionMap":{"names":["<global>","createEventFilter","events.flatMap$argument_0"],"mappings":"AAA;ACM;uCCO;UDI;CD2B"},"hasCjsExports":true},"type":"js/module"}]}