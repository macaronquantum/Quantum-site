{"dependencies":[{"name":"../../errors/base.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"RZV6q4Ia6g2SthmhXKbx9xro+lE=","exportNames":["*"],"imports":1}},{"name":"../cursor.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":50},"end":{"line":2,"column":45,"index":95}}],"key":"mKUrwJBwkY7iqKj6q4bFwLqxwtA=","exportNames":["*"],"imports":1}},{"name":"./toBytes.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":96},"end":{"line":3,"column":42,"index":138}}],"key":"EX3thTm4OCHBZF/anH/QwuHabro=","exportNames":["*"],"imports":1}},{"name":"./toHex.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":139},"end":{"line":4,"column":40,"index":179}}],"key":"puuv6C2iWJZ20ysI34XiPJE4VbU=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.toRlp = toRlp;\n  exports.bytesToRlp = bytesToRlp;\n  exports.hexToRlp = hexToRlp;\n  var _errorsBaseJs = require(_dependencyMap[0], \"../../errors/base.js\");\n  var _cursorJs = require(_dependencyMap[1], \"../cursor.js\");\n  var _toBytesJs = require(_dependencyMap[2], \"./toBytes.js\");\n  var _toHexJs = require(_dependencyMap[3], \"./toHex.js\");\n  function toRlp(bytes, to = 'hex') {\n    const encodable = getEncodable(bytes);\n    const cursor = (0, _cursorJs.createCursor)(new Uint8Array(encodable.length));\n    encodable.encode(cursor);\n    if (to === 'hex') return (0, _toHexJs.bytesToHex)(cursor.bytes);\n    return cursor.bytes;\n  }\n  function bytesToRlp(bytes, to = 'bytes') {\n    return toRlp(bytes, to);\n  }\n  function hexToRlp(hex, to = 'hex') {\n    return toRlp(hex, to);\n  }\n  function getEncodable(bytes) {\n    if (Array.isArray(bytes)) return getEncodableList(bytes.map(x => getEncodable(x)));\n    return getEncodableBytes(bytes);\n  }\n  function getEncodableList(list) {\n    const bodyLength = list.reduce((acc, x) => acc + x.length, 0);\n    const sizeOfBodyLength = getSizeOfLength(bodyLength);\n    const length = (() => {\n      if (bodyLength <= 55) return 1 + bodyLength;\n      return 1 + sizeOfBodyLength + bodyLength;\n    })();\n    return {\n      length,\n      encode(cursor) {\n        if (bodyLength <= 55) {\n          cursor.pushByte(0xc0 + bodyLength);\n        } else {\n          cursor.pushByte(0xc0 + 55 + sizeOfBodyLength);\n          if (sizeOfBodyLength === 1) cursor.pushUint8(bodyLength);else if (sizeOfBodyLength === 2) cursor.pushUint16(bodyLength);else if (sizeOfBodyLength === 3) cursor.pushUint24(bodyLength);else cursor.pushUint32(bodyLength);\n        }\n        for (const {\n          encode\n        } of list) {\n          encode(cursor);\n        }\n      }\n    };\n  }\n  function getEncodableBytes(bytesOrHex) {\n    const bytes = typeof bytesOrHex === 'string' ? (0, _toBytesJs.hexToBytes)(bytesOrHex) : bytesOrHex;\n    const sizeOfBytesLength = getSizeOfLength(bytes.length);\n    const length = (() => {\n      if (bytes.length === 1 && bytes[0] < 0x80) return 1;\n      if (bytes.length <= 55) return 1 + bytes.length;\n      return 1 + sizeOfBytesLength + bytes.length;\n    })();\n    return {\n      length,\n      encode(cursor) {\n        if (bytes.length === 1 && bytes[0] < 0x80) {\n          cursor.pushBytes(bytes);\n        } else if (bytes.length <= 55) {\n          cursor.pushByte(0x80 + bytes.length);\n          cursor.pushBytes(bytes);\n        } else {\n          cursor.pushByte(0x80 + 55 + sizeOfBytesLength);\n          if (sizeOfBytesLength === 1) cursor.pushUint8(bytes.length);else if (sizeOfBytesLength === 2) cursor.pushUint16(bytes.length);else if (sizeOfBytesLength === 3) cursor.pushUint24(bytes.length);else cursor.pushUint32(bytes.length);\n          cursor.pushBytes(bytes);\n        }\n      }\n    };\n  }\n  function getSizeOfLength(length) {\n    if (length < 2 ** 8) return 1;\n    if (length < 2 ** 16) return 2;\n    if (length < 2 ** 24) return 3;\n    if (length < 2 ** 32) return 4;\n    throw new _errorsBaseJs.BaseError('Length is too large.');\n  }\n});","lineCount":86,"map":[[7,2,5,0,"exports"],[7,9,5,0],[7,10,5,0,"toRlp"],[7,15,5,0],[7,18,5,0,"toRlp"],[7,23,5,0],[8,2,13,0,"exports"],[8,9,13,0],[8,10,13,0,"bytesToRlp"],[8,20,13,0],[8,23,13,0,"bytesToRlp"],[8,33,13,0],[9,2,16,0,"exports"],[9,9,16,0],[9,10,16,0,"hexToRlp"],[9,18,16,0],[9,21,16,0,"hexToRlp"],[9,29,16,0],[10,2,1,0],[10,6,1,0,"_errorsBaseJs"],[10,19,1,0],[10,22,1,0,"require"],[10,29,1,0],[10,30,1,0,"_dependencyMap"],[10,44,1,0],[11,2,2,0],[11,6,2,0,"_cursorJs"],[11,15,2,0],[11,18,2,0,"require"],[11,25,2,0],[11,26,2,0,"_dependencyMap"],[11,40,2,0],[12,2,3,0],[12,6,3,0,"_toBytesJs"],[12,16,3,0],[12,19,3,0,"require"],[12,26,3,0],[12,27,3,0,"_dependencyMap"],[12,41,3,0],[13,2,4,0],[13,6,4,0,"_toHexJs"],[13,14,4,0],[13,17,4,0,"require"],[13,24,4,0],[13,25,4,0,"_dependencyMap"],[13,39,4,0],[14,2,5,7],[14,11,5,16,"toRlp"],[14,16,5,21,"toRlp"],[14,17,5,22,"bytes"],[14,22,5,27],[14,24,5,29,"to"],[14,26,5,31],[14,29,5,34],[14,34,5,39],[14,36,5,41],[15,4,6,4],[15,10,6,10,"encodable"],[15,19,6,19],[15,22,6,22,"getEncodable"],[15,34,6,34],[15,35,6,35,"bytes"],[15,40,6,40],[15,41,6,41],[16,4,7,4],[16,10,7,10,"cursor"],[16,16,7,16],[16,19,7,19],[16,23,7,19,"createCursor"],[16,32,7,31],[16,33,7,31,"createCursor"],[16,45,7,31],[16,47,7,32],[16,51,7,36,"Uint8Array"],[16,61,7,46],[16,62,7,47,"encodable"],[16,71,7,56],[16,72,7,57,"length"],[16,78,7,63],[16,79,7,64],[16,80,7,65],[17,4,8,4,"encodable"],[17,13,8,13],[17,14,8,14,"encode"],[17,20,8,20],[17,21,8,21,"cursor"],[17,27,8,27],[17,28,8,28],[18,4,9,4],[18,8,9,8,"to"],[18,10,9,10],[18,15,9,15],[18,20,9,20],[18,22,10,8],[18,29,10,15],[18,33,10,15,"bytesToHex"],[18,41,10,25],[18,42,10,25,"bytesToHex"],[18,52,10,25],[18,54,10,26,"cursor"],[18,60,10,32],[18,61,10,33,"bytes"],[18,66,10,38],[18,67,10,39],[19,4,11,4],[19,11,11,11,"cursor"],[19,17,11,17],[19,18,11,18,"bytes"],[19,23,11,23],[20,2,12,0],[21,2,13,7],[21,11,13,16,"bytesToRlp"],[21,21,13,26,"bytesToRlp"],[21,22,13,27,"bytes"],[21,27,13,32],[21,29,13,34,"to"],[21,31,13,36],[21,34,13,39],[21,41,13,46],[21,43,13,48],[22,4,14,4],[22,11,14,11,"toRlp"],[22,16,14,16],[22,17,14,17,"bytes"],[22,22,14,22],[22,24,14,24,"to"],[22,26,14,26],[22,27,14,27],[23,2,15,0],[24,2,16,7],[24,11,16,16,"hexToRlp"],[24,19,16,24,"hexToRlp"],[24,20,16,25,"hex"],[24,23,16,28],[24,25,16,30,"to"],[24,27,16,32],[24,30,16,35],[24,35,16,40],[24,37,16,42],[25,4,17,4],[25,11,17,11,"toRlp"],[25,16,17,16],[25,17,17,17,"hex"],[25,20,17,20],[25,22,17,22,"to"],[25,24,17,24],[25,25,17,25],[26,2,18,0],[27,2,19,0],[27,11,19,9,"getEncodable"],[27,23,19,21,"getEncodable"],[27,24,19,22,"bytes"],[27,29,19,27],[27,31,19,29],[28,4,20,4],[28,8,20,8,"Array"],[28,13,20,13],[28,14,20,14,"isArray"],[28,21,20,21],[28,22,20,22,"bytes"],[28,27,20,27],[28,28,20,28],[28,30,21,8],[28,37,21,15,"getEncodableList"],[28,53,21,31],[28,54,21,32,"bytes"],[28,59,21,37],[28,60,21,38,"map"],[28,63,21,41],[28,64,21,43,"x"],[28,65,21,44],[28,69,21,49,"getEncodable"],[28,81,21,61],[28,82,21,62,"x"],[28,83,21,63],[28,84,21,64],[28,85,21,65],[28,86,21,66],[29,4,22,4],[29,11,22,11,"getEncodableBytes"],[29,28,22,28],[29,29,22,29,"bytes"],[29,34,22,34],[29,35,22,35],[30,2,23,0],[31,2,24,0],[31,11,24,9,"getEncodableList"],[31,27,24,25,"getEncodableList"],[31,28,24,26,"list"],[31,32,24,30],[31,34,24,32],[32,4,25,4],[32,10,25,10,"bodyLength"],[32,20,25,20],[32,23,25,23,"list"],[32,27,25,27],[32,28,25,28,"reduce"],[32,34,25,34],[32,35,25,35],[32,36,25,36,"acc"],[32,39,25,39],[32,41,25,41,"x"],[32,42,25,42],[32,47,25,47,"acc"],[32,50,25,50],[32,53,25,53,"x"],[32,54,25,54],[32,55,25,55,"length"],[32,61,25,61],[32,63,25,63],[32,64,25,64],[32,65,25,65],[33,4,26,4],[33,10,26,10,"sizeOfBodyLength"],[33,26,26,26],[33,29,26,29,"getSizeOfLength"],[33,44,26,44],[33,45,26,45,"bodyLength"],[33,55,26,55],[33,56,26,56],[34,4,27,4],[34,10,27,10,"length"],[34,16,27,16],[34,19,27,19],[34,20,27,20],[34,26,27,26],[35,6,28,8],[35,10,28,12,"bodyLength"],[35,20,28,22],[35,24,28,26],[35,26,28,28],[35,28,29,12],[35,35,29,19],[35,36,29,20],[35,39,29,23,"bodyLength"],[35,49,29,33],[36,6,30,8],[36,13,30,15],[36,14,30,16],[36,17,30,19,"sizeOfBodyLength"],[36,33,30,35],[36,36,30,38,"bodyLength"],[36,46,30,48],[37,4,31,4],[37,5,31,5],[37,7,31,7],[37,8,31,8],[38,4,32,4],[38,11,32,11],[39,6,33,8,"length"],[39,12,33,14],[40,6,34,8,"encode"],[40,12,34,14,"encode"],[40,13,34,15,"cursor"],[40,19,34,21],[40,21,34,23],[41,8,35,12],[41,12,35,16,"bodyLength"],[41,22,35,26],[41,26,35,30],[41,28,35,32],[41,30,35,34],[42,10,36,16,"cursor"],[42,16,36,22],[42,17,36,23,"pushByte"],[42,25,36,31],[42,26,36,32],[42,30,36,36],[42,33,36,39,"bodyLength"],[42,43,36,49],[42,44,36,50],[43,8,37,12],[43,9,37,13],[43,15,38,17],[44,10,39,16,"cursor"],[44,16,39,22],[44,17,39,23,"pushByte"],[44,25,39,31],[44,26,39,32],[44,30,39,36],[44,33,39,39],[44,35,39,41],[44,38,39,44,"sizeOfBodyLength"],[44,54,39,60],[44,55,39,61],[45,10,40,16],[45,14,40,20,"sizeOfBodyLength"],[45,30,40,36],[45,35,40,41],[45,36,40,42],[45,38,41,20,"cursor"],[45,44,41,26],[45,45,41,27,"pushUint8"],[45,54,41,36],[45,55,41,37,"bodyLength"],[45,65,41,47],[45,66,41,48],[45,67,41,49],[45,72,42,21],[45,76,42,25,"sizeOfBodyLength"],[45,92,42,41],[45,97,42,46],[45,98,42,47],[45,100,43,20,"cursor"],[45,106,43,26],[45,107,43,27,"pushUint16"],[45,117,43,37],[45,118,43,38,"bodyLength"],[45,128,43,48],[45,129,43,49],[45,130,43,50],[45,135,44,21],[45,139,44,25,"sizeOfBodyLength"],[45,155,44,41],[45,160,44,46],[45,161,44,47],[45,163,45,20,"cursor"],[45,169,45,26],[45,170,45,27,"pushUint24"],[45,180,45,37],[45,181,45,38,"bodyLength"],[45,191,45,48],[45,192,45,49],[45,193,45,50],[45,198,47,20,"cursor"],[45,204,47,26],[45,205,47,27,"pushUint32"],[45,215,47,37],[45,216,47,38,"bodyLength"],[45,226,47,48],[45,227,47,49],[46,8,48,12],[47,8,49,12],[47,13,49,17],[47,19,49,23],[48,10,49,25,"encode"],[49,8,49,32],[49,9,49,33],[49,13,49,37,"list"],[49,17,49,41],[49,19,49,43],[50,10,50,16,"encode"],[50,16,50,22],[50,17,50,23,"cursor"],[50,23,50,29],[50,24,50,30],[51,8,51,12],[52,6,52,8],[53,4,53,4],[53,5,53,5],[54,2,54,0],[55,2,55,0],[55,11,55,9,"getEncodableBytes"],[55,28,55,26,"getEncodableBytes"],[55,29,55,27,"bytesOrHex"],[55,39,55,37],[55,41,55,39],[56,4,56,4],[56,10,56,10,"bytes"],[56,15,56,15],[56,18,56,18],[56,25,56,25,"bytesOrHex"],[56,35,56,35],[56,40,56,40],[56,48,56,48],[56,51,56,51],[56,55,56,51,"hexToBytes"],[56,65,56,61],[56,66,56,61,"hexToBytes"],[56,76,56,61],[56,78,56,62,"bytesOrHex"],[56,88,56,72],[56,89,56,73],[56,92,56,76,"bytesOrHex"],[56,102,56,86],[57,4,57,4],[57,10,57,10,"sizeOfBytesLength"],[57,27,57,27],[57,30,57,30,"getSizeOfLength"],[57,45,57,45],[57,46,57,46,"bytes"],[57,51,57,51],[57,52,57,52,"length"],[57,58,57,58],[57,59,57,59],[58,4,58,4],[58,10,58,10,"length"],[58,16,58,16],[58,19,58,19],[58,20,58,20],[58,26,58,26],[59,6,59,8],[59,10,59,12,"bytes"],[59,15,59,17],[59,16,59,18,"length"],[59,22,59,24],[59,27,59,29],[59,28,59,30],[59,32,59,34,"bytes"],[59,37,59,39],[59,38,59,40],[59,39,59,41],[59,40,59,42],[59,43,59,45],[59,47,59,49],[59,49,60,12],[59,56,60,19],[59,57,60,20],[60,6,61,8],[60,10,61,12,"bytes"],[60,15,61,17],[60,16,61,18,"length"],[60,22,61,24],[60,26,61,28],[60,28,61,30],[60,30,62,12],[60,37,62,19],[60,38,62,20],[60,41,62,23,"bytes"],[60,46,62,28],[60,47,62,29,"length"],[60,53,62,35],[61,6,63,8],[61,13,63,15],[61,14,63,16],[61,17,63,19,"sizeOfBytesLength"],[61,34,63,36],[61,37,63,39,"bytes"],[61,42,63,44],[61,43,63,45,"length"],[61,49,63,51],[62,4,64,4],[62,5,64,5],[62,7,64,7],[62,8,64,8],[63,4,65,4],[63,11,65,11],[64,6,66,8,"length"],[64,12,66,14],[65,6,67,8,"encode"],[65,12,67,14,"encode"],[65,13,67,15,"cursor"],[65,19,67,21],[65,21,67,23],[66,8,68,12],[66,12,68,16,"bytes"],[66,17,68,21],[66,18,68,22,"length"],[66,24,68,28],[66,29,68,33],[66,30,68,34],[66,34,68,38,"bytes"],[66,39,68,43],[66,40,68,44],[66,41,68,45],[66,42,68,46],[66,45,68,49],[66,49,68,53],[66,51,68,55],[67,10,69,16,"cursor"],[67,16,69,22],[67,17,69,23,"pushBytes"],[67,26,69,32],[67,27,69,33,"bytes"],[67,32,69,38],[67,33,69,39],[68,8,70,12],[68,9,70,13],[68,15,71,17],[68,19,71,21,"bytes"],[68,24,71,26],[68,25,71,27,"length"],[68,31,71,33],[68,35,71,37],[68,37,71,39],[68,39,71,41],[69,10,72,16,"cursor"],[69,16,72,22],[69,17,72,23,"pushByte"],[69,25,72,31],[69,26,72,32],[69,30,72,36],[69,33,72,39,"bytes"],[69,38,72,44],[69,39,72,45,"length"],[69,45,72,51],[69,46,72,52],[70,10,73,16,"cursor"],[70,16,73,22],[70,17,73,23,"pushBytes"],[70,26,73,32],[70,27,73,33,"bytes"],[70,32,73,38],[70,33,73,39],[71,8,74,12],[71,9,74,13],[71,15,75,17],[72,10,76,16,"cursor"],[72,16,76,22],[72,17,76,23,"pushByte"],[72,25,76,31],[72,26,76,32],[72,30,76,36],[72,33,76,39],[72,35,76,41],[72,38,76,44,"sizeOfBytesLength"],[72,55,76,61],[72,56,76,62],[73,10,77,16],[73,14,77,20,"sizeOfBytesLength"],[73,31,77,37],[73,36,77,42],[73,37,77,43],[73,39,78,20,"cursor"],[73,45,78,26],[73,46,78,27,"pushUint8"],[73,55,78,36],[73,56,78,37,"bytes"],[73,61,78,42],[73,62,78,43,"length"],[73,68,78,49],[73,69,78,50],[73,70,78,51],[73,75,79,21],[73,79,79,25,"sizeOfBytesLength"],[73,96,79,42],[73,101,79,47],[73,102,79,48],[73,104,80,20,"cursor"],[73,110,80,26],[73,111,80,27,"pushUint16"],[73,121,80,37],[73,122,80,38,"bytes"],[73,127,80,43],[73,128,80,44,"length"],[73,134,80,50],[73,135,80,51],[73,136,80,52],[73,141,81,21],[73,145,81,25,"sizeOfBytesLength"],[73,162,81,42],[73,167,81,47],[73,168,81,48],[73,170,82,20,"cursor"],[73,176,82,26],[73,177,82,27,"pushUint24"],[73,187,82,37],[73,188,82,38,"bytes"],[73,193,82,43],[73,194,82,44,"length"],[73,200,82,50],[73,201,82,51],[73,202,82,52],[73,207,84,20,"cursor"],[73,213,84,26],[73,214,84,27,"pushUint32"],[73,224,84,37],[73,225,84,38,"bytes"],[73,230,84,43],[73,231,84,44,"length"],[73,237,84,50],[73,238,84,51],[74,10,85,16,"cursor"],[74,16,85,22],[74,17,85,23,"pushBytes"],[74,26,85,32],[74,27,85,33,"bytes"],[74,32,85,38],[74,33,85,39],[75,8,86,12],[76,6,87,8],[77,4,88,4],[77,5,88,5],[78,2,89,0],[79,2,90,0],[79,11,90,9,"getSizeOfLength"],[79,26,90,24,"getSizeOfLength"],[79,27,90,25,"length"],[79,33,90,31],[79,35,90,33],[80,4,91,4],[80,8,91,8,"length"],[80,14,91,14],[80,17,91,17],[80,18,91,18],[80,22,91,22],[80,23,91,23],[80,25,92,8],[80,32,92,15],[80,33,92,16],[81,4,93,4],[81,8,93,8,"length"],[81,14,93,14],[81,17,93,17],[81,18,93,18],[81,22,93,22],[81,24,93,24],[81,26,94,8],[81,33,94,15],[81,34,94,16],[82,4,95,4],[82,8,95,8,"length"],[82,14,95,14],[82,17,95,17],[82,18,95,18],[82,22,95,22],[82,24,95,24],[82,26,96,8],[82,33,96,15],[82,34,96,16],[83,4,97,4],[83,8,97,8,"length"],[83,14,97,14],[83,17,97,17],[83,18,97,18],[83,22,97,22],[83,24,97,24],[83,26,98,8],[83,33,98,15],[83,34,98,16],[84,4,99,4],[84,10,99,10],[84,14,99,14,"BaseError"],[84,27,99,23],[84,28,99,23,"BaseError"],[84,37,99,23],[84,38,99,24],[84,60,99,46],[84,61,99,47],[85,2,100,0],[86,0,100,1],[86,3]],"functionMap":{"names":["<global>","toRlp","bytesToRlp","hexToRlp","getEncodable","bytes.map$argument_0","getEncodableList","list.reduce$argument_0","<anonymous>","encode","getEncodableBytes","getSizeOfLength"],"mappings":"AAA;OCI;CDO;OEC;CFE;OGC;CHE;AIC;0CCE,sBD;CJE;AMC;mCCC,0BD;oBEE;KFI;QGG;SHkB;CNE;AUC;oBFG;KEM;QDG;SCoB;CVE;AWC;CXU"},"hasCjsExports":false},"type":"js/module"}]}