{"dependencies":[{"name":"./_assert.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":21,"index":201},"end":{"line":8,"column":44,"index":224}}],"key":"GX2SXutm7bNXCGwOH6IeQtku3RY=","exportNames":["*"],"imports":1}},{"name":"./utils.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":19,"index":245},"end":{"line":9,"column":40,"index":266}}],"key":"v6h+l9IeOWbEcXdtKQqd2f4now4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.hmac = exports.HMAC = void 0;\n  /**\n   * HMAC: RFC2104 message authentication code.\n   * @module\n   */\n  const _assert_js_1 = require(_dependencyMap[0], \"./_assert.js\");\n  const utils_js_1 = require(_dependencyMap[1], \"./utils.js\");\n  class HMAC extends utils_js_1.Hash {\n    constructor(hash, _key) {\n      super();\n      this.finished = false;\n      this.destroyed = false;\n      (0, _assert_js_1.ahash)(hash);\n      const key = (0, utils_js_1.toBytes)(_key);\n      this.iHash = hash.create();\n      if (typeof this.iHash.update !== 'function') throw new Error('Expected instance of class which extends utils.Hash');\n      this.blockLen = this.iHash.blockLen;\n      this.outputLen = this.iHash.outputLen;\n      const blockLen = this.blockLen;\n      const pad = new Uint8Array(blockLen);\n      // blockLen can be bigger than outputLen\n      pad.set(key.length > blockLen ? hash.create().update(key).digest() : key);\n      for (let i = 0; i < pad.length; i++) pad[i] ^= 0x36;\n      this.iHash.update(pad);\n      // By doing update (processing of first block) of outer hash here we can re-use it between multiple calls via clone\n      this.oHash = hash.create();\n      // Undo internal XOR && apply outer XOR\n      for (let i = 0; i < pad.length; i++) pad[i] ^= 0x36 ^ 0x5c;\n      this.oHash.update(pad);\n      pad.fill(0);\n    }\n    update(buf) {\n      (0, _assert_js_1.aexists)(this);\n      this.iHash.update(buf);\n      return this;\n    }\n    digestInto(out) {\n      (0, _assert_js_1.aexists)(this);\n      (0, _assert_js_1.abytes)(out, this.outputLen);\n      this.finished = true;\n      this.iHash.digestInto(out);\n      this.oHash.update(out);\n      this.oHash.digestInto(out);\n      this.destroy();\n    }\n    digest() {\n      const out = new Uint8Array(this.oHash.outputLen);\n      this.digestInto(out);\n      return out;\n    }\n    _cloneInto(to) {\n      // Create new instance without calling constructor since key already in state and we don't know it.\n      to || (to = Object.create(Object.getPrototypeOf(this), {}));\n      const {\n        oHash,\n        iHash,\n        finished,\n        destroyed,\n        blockLen,\n        outputLen\n      } = this;\n      to = to;\n      to.finished = finished;\n      to.destroyed = destroyed;\n      to.blockLen = blockLen;\n      to.outputLen = outputLen;\n      to.oHash = oHash._cloneInto(to.oHash);\n      to.iHash = iHash._cloneInto(to.iHash);\n      return to;\n    }\n    destroy() {\n      this.destroyed = true;\n      this.oHash.destroy();\n      this.iHash.destroy();\n    }\n  }\n  exports.HMAC = HMAC;\n  /**\n   * HMAC: RFC2104 message authentication code.\n   * @param hash - function that would be used e.g. sha256\n   * @param key - message key\n   * @param message - message data\n   * @example\n   * import { hmac } from '@noble/hashes/hmac';\n   * import { sha256 } from '@noble/hashes/sha2';\n   * const mac1 = hmac(sha256, 'key', 'message');\n   */\n  const hmac = (hash, key, message) => new HMAC(hash, key).update(message).digest();\n  exports.hmac = hmac;\n  exports.hmac.create = (hash, key) => new HMAC(hash, key);\n});","lineCount":97,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"hmac"],[7,14,3,12],[7,17,3,15,"exports"],[7,24,3,22],[7,25,3,23,"HMAC"],[7,29,3,27],[7,32,3,30],[7,37,3,35],[7,38,3,36],[8,2,4,0],[9,0,5,0],[10,0,6,0],[11,0,7,0],[12,2,8,0],[12,8,8,6,"_assert_js_1"],[12,20,8,18],[12,23,8,21,"require"],[12,30,8,28],[12,31,8,28,"_dependencyMap"],[12,45,8,28],[12,64,8,43],[12,65,8,44],[13,2,9,0],[13,8,9,6,"utils_js_1"],[13,18,9,16],[13,21,9,19,"require"],[13,28,9,26],[13,29,9,26,"_dependencyMap"],[13,43,9,26],[13,60,9,39],[13,61,9,40],[14,2,10,0],[14,8,10,6,"HMAC"],[14,12,10,10],[14,21,10,19,"utils_js_1"],[14,31,10,29],[14,32,10,30,"Hash"],[14,36,10,34],[14,37,10,35],[15,4,11,4,"constructor"],[15,15,11,15,"constructor"],[15,16,11,16,"hash"],[15,20,11,20],[15,22,11,22,"_key"],[15,26,11,26],[15,28,11,28],[16,6,12,8],[16,11,12,13],[16,12,12,14],[16,13,12,15],[17,6,13,8],[17,10,13,12],[17,11,13,13,"finished"],[17,19,13,21],[17,22,13,24],[17,27,13,29],[18,6,14,8],[18,10,14,12],[18,11,14,13,"destroyed"],[18,20,14,22],[18,23,14,25],[18,28,14,30],[19,6,15,8],[19,7,15,9],[19,8,15,10],[19,10,15,12,"_assert_js_1"],[19,22,15,24],[19,23,15,25,"ahash"],[19,28,15,30],[19,30,15,32,"hash"],[19,34,15,36],[19,35,15,37],[20,6,16,8],[20,12,16,14,"key"],[20,15,16,17],[20,18,16,20],[20,19,16,21],[20,20,16,22],[20,22,16,24,"utils_js_1"],[20,32,16,34],[20,33,16,35,"toBytes"],[20,40,16,42],[20,42,16,44,"_key"],[20,46,16,48],[20,47,16,49],[21,6,17,8],[21,10,17,12],[21,11,17,13,"iHash"],[21,16,17,18],[21,19,17,21,"hash"],[21,23,17,25],[21,24,17,26,"create"],[21,30,17,32],[21,31,17,33],[21,32,17,34],[22,6,18,8],[22,10,18,12],[22,17,18,19],[22,21,18,23],[22,22,18,24,"iHash"],[22,27,18,29],[22,28,18,30,"update"],[22,34,18,36],[22,39,18,41],[22,49,18,51],[22,51,19,12],[22,57,19,18],[22,61,19,22,"Error"],[22,66,19,27],[22,67,19,28],[22,120,19,81],[22,121,19,82],[23,6,20,8],[23,10,20,12],[23,11,20,13,"blockLen"],[23,19,20,21],[23,22,20,24],[23,26,20,28],[23,27,20,29,"iHash"],[23,32,20,34],[23,33,20,35,"blockLen"],[23,41,20,43],[24,6,21,8],[24,10,21,12],[24,11,21,13,"outputLen"],[24,20,21,22],[24,23,21,25],[24,27,21,29],[24,28,21,30,"iHash"],[24,33,21,35],[24,34,21,36,"outputLen"],[24,43,21,45],[25,6,22,8],[25,12,22,14,"blockLen"],[25,20,22,22],[25,23,22,25],[25,27,22,29],[25,28,22,30,"blockLen"],[25,36,22,38],[26,6,23,8],[26,12,23,14,"pad"],[26,15,23,17],[26,18,23,20],[26,22,23,24,"Uint8Array"],[26,32,23,34],[26,33,23,35,"blockLen"],[26,41,23,43],[26,42,23,44],[27,6,24,8],[28,6,25,8,"pad"],[28,9,25,11],[28,10,25,12,"set"],[28,13,25,15],[28,14,25,16,"key"],[28,17,25,19],[28,18,25,20,"length"],[28,24,25,26],[28,27,25,29,"blockLen"],[28,35,25,37],[28,38,25,40,"hash"],[28,42,25,44],[28,43,25,45,"create"],[28,49,25,51],[28,50,25,52],[28,51,25,53],[28,52,25,54,"update"],[28,58,25,60],[28,59,25,61,"key"],[28,62,25,64],[28,63,25,65],[28,64,25,66,"digest"],[28,70,25,72],[28,71,25,73],[28,72,25,74],[28,75,25,77,"key"],[28,78,25,80],[28,79,25,81],[29,6,26,8],[29,11,26,13],[29,15,26,17,"i"],[29,16,26,18],[29,19,26,21],[29,20,26,22],[29,22,26,24,"i"],[29,23,26,25],[29,26,26,28,"pad"],[29,29,26,31],[29,30,26,32,"length"],[29,36,26,38],[29,38,26,40,"i"],[29,39,26,41],[29,41,26,43],[29,43,27,12,"pad"],[29,46,27,15],[29,47,27,16,"i"],[29,48,27,17],[29,49,27,18],[29,53,27,22],[29,57,27,26],[30,6,28,8],[30,10,28,12],[30,11,28,13,"iHash"],[30,16,28,18],[30,17,28,19,"update"],[30,23,28,25],[30,24,28,26,"pad"],[30,27,28,29],[30,28,28,30],[31,6,29,8],[32,6,30,8],[32,10,30,12],[32,11,30,13,"oHash"],[32,16,30,18],[32,19,30,21,"hash"],[32,23,30,25],[32,24,30,26,"create"],[32,30,30,32],[32,31,30,33],[32,32,30,34],[33,6,31,8],[34,6,32,8],[34,11,32,13],[34,15,32,17,"i"],[34,16,32,18],[34,19,32,21],[34,20,32,22],[34,22,32,24,"i"],[34,23,32,25],[34,26,32,28,"pad"],[34,29,32,31],[34,30,32,32,"length"],[34,36,32,38],[34,38,32,40,"i"],[34,39,32,41],[34,41,32,43],[34,43,33,12,"pad"],[34,46,33,15],[34,47,33,16,"i"],[34,48,33,17],[34,49,33,18],[34,53,33,22],[34,57,33,26],[34,60,33,29],[34,64,33,33],[35,6,34,8],[35,10,34,12],[35,11,34,13,"oHash"],[35,16,34,18],[35,17,34,19,"update"],[35,23,34,25],[35,24,34,26,"pad"],[35,27,34,29],[35,28,34,30],[36,6,35,8,"pad"],[36,9,35,11],[36,10,35,12,"fill"],[36,14,35,16],[36,15,35,17],[36,16,35,18],[36,17,35,19],[37,4,36,4],[38,4,37,4,"update"],[38,10,37,10,"update"],[38,11,37,11,"buf"],[38,14,37,14],[38,16,37,16],[39,6,38,8],[39,7,38,9],[39,8,38,10],[39,10,38,12,"_assert_js_1"],[39,22,38,24],[39,23,38,25,"aexists"],[39,30,38,32],[39,32,38,34],[39,36,38,38],[39,37,38,39],[40,6,39,8],[40,10,39,12],[40,11,39,13,"iHash"],[40,16,39,18],[40,17,39,19,"update"],[40,23,39,25],[40,24,39,26,"buf"],[40,27,39,29],[40,28,39,30],[41,6,40,8],[41,13,40,15],[41,17,40,19],[42,4,41,4],[43,4,42,4,"digestInto"],[43,14,42,14,"digestInto"],[43,15,42,15,"out"],[43,18,42,18],[43,20,42,20],[44,6,43,8],[44,7,43,9],[44,8,43,10],[44,10,43,12,"_assert_js_1"],[44,22,43,24],[44,23,43,25,"aexists"],[44,30,43,32],[44,32,43,34],[44,36,43,38],[44,37,43,39],[45,6,44,8],[45,7,44,9],[45,8,44,10],[45,10,44,12,"_assert_js_1"],[45,22,44,24],[45,23,44,25,"abytes"],[45,29,44,31],[45,31,44,33,"out"],[45,34,44,36],[45,36,44,38],[45,40,44,42],[45,41,44,43,"outputLen"],[45,50,44,52],[45,51,44,53],[46,6,45,8],[46,10,45,12],[46,11,45,13,"finished"],[46,19,45,21],[46,22,45,24],[46,26,45,28],[47,6,46,8],[47,10,46,12],[47,11,46,13,"iHash"],[47,16,46,18],[47,17,46,19,"digestInto"],[47,27,46,29],[47,28,46,30,"out"],[47,31,46,33],[47,32,46,34],[48,6,47,8],[48,10,47,12],[48,11,47,13,"oHash"],[48,16,47,18],[48,17,47,19,"update"],[48,23,47,25],[48,24,47,26,"out"],[48,27,47,29],[48,28,47,30],[49,6,48,8],[49,10,48,12],[49,11,48,13,"oHash"],[49,16,48,18],[49,17,48,19,"digestInto"],[49,27,48,29],[49,28,48,30,"out"],[49,31,48,33],[49,32,48,34],[50,6,49,8],[50,10,49,12],[50,11,49,13,"destroy"],[50,18,49,20],[50,19,49,21],[50,20,49,22],[51,4,50,4],[52,4,51,4,"digest"],[52,10,51,10,"digest"],[52,11,51,10],[52,13,51,13],[53,6,52,8],[53,12,52,14,"out"],[53,15,52,17],[53,18,52,20],[53,22,52,24,"Uint8Array"],[53,32,52,34],[53,33,52,35],[53,37,52,39],[53,38,52,40,"oHash"],[53,43,52,45],[53,44,52,46,"outputLen"],[53,53,52,55],[53,54,52,56],[54,6,53,8],[54,10,53,12],[54,11,53,13,"digestInto"],[54,21,53,23],[54,22,53,24,"out"],[54,25,53,27],[54,26,53,28],[55,6,54,8],[55,13,54,15,"out"],[55,16,54,18],[56,4,55,4],[57,4,56,4,"_cloneInto"],[57,14,56,14,"_cloneInto"],[57,15,56,15,"to"],[57,17,56,17],[57,19,56,19],[58,6,57,8],[59,6,58,8,"to"],[59,8,58,10],[59,13,58,15,"to"],[59,15,58,17],[59,18,58,20,"Object"],[59,24,58,26],[59,25,58,27,"create"],[59,31,58,33],[59,32,58,34,"Object"],[59,38,58,40],[59,39,58,41,"getPrototypeOf"],[59,53,58,55],[59,54,58,56],[59,58,58,60],[59,59,58,61],[59,61,58,63],[59,62,58,64],[59,63,58,65],[59,64,58,66],[59,65,58,67],[60,6,59,8],[60,12,59,14],[61,8,59,16,"oHash"],[61,13,59,21],[62,8,59,23,"iHash"],[62,13,59,28],[63,8,59,30,"finished"],[63,16,59,38],[64,8,59,40,"destroyed"],[64,17,59,49],[65,8,59,51,"blockLen"],[65,16,59,59],[66,8,59,61,"outputLen"],[67,6,59,71],[67,7,59,72],[67,10,59,75],[67,14,59,79],[68,6,60,8,"to"],[68,8,60,10],[68,11,60,13,"to"],[68,13,60,15],[69,6,61,8,"to"],[69,8,61,10],[69,9,61,11,"finished"],[69,17,61,19],[69,20,61,22,"finished"],[69,28,61,30],[70,6,62,8,"to"],[70,8,62,10],[70,9,62,11,"destroyed"],[70,18,62,20],[70,21,62,23,"destroyed"],[70,30,62,32],[71,6,63,8,"to"],[71,8,63,10],[71,9,63,11,"blockLen"],[71,17,63,19],[71,20,63,22,"blockLen"],[71,28,63,30],[72,6,64,8,"to"],[72,8,64,10],[72,9,64,11,"outputLen"],[72,18,64,20],[72,21,64,23,"outputLen"],[72,30,64,32],[73,6,65,8,"to"],[73,8,65,10],[73,9,65,11,"oHash"],[73,14,65,16],[73,17,65,19,"oHash"],[73,22,65,24],[73,23,65,25,"_cloneInto"],[73,33,65,35],[73,34,65,36,"to"],[73,36,65,38],[73,37,65,39,"oHash"],[73,42,65,44],[73,43,65,45],[74,6,66,8,"to"],[74,8,66,10],[74,9,66,11,"iHash"],[74,14,66,16],[74,17,66,19,"iHash"],[74,22,66,24],[74,23,66,25,"_cloneInto"],[74,33,66,35],[74,34,66,36,"to"],[74,36,66,38],[74,37,66,39,"iHash"],[74,42,66,44],[74,43,66,45],[75,6,67,8],[75,13,67,15,"to"],[75,15,67,17],[76,4,68,4],[77,4,69,4,"destroy"],[77,11,69,11,"destroy"],[77,12,69,11],[77,14,69,14],[78,6,70,8],[78,10,70,12],[78,11,70,13,"destroyed"],[78,20,70,22],[78,23,70,25],[78,27,70,29],[79,6,71,8],[79,10,71,12],[79,11,71,13,"oHash"],[79,16,71,18],[79,17,71,19,"destroy"],[79,24,71,26],[79,25,71,27],[79,26,71,28],[80,6,72,8],[80,10,72,12],[80,11,72,13,"iHash"],[80,16,72,18],[80,17,72,19,"destroy"],[80,24,72,26],[80,25,72,27],[80,26,72,28],[81,4,73,4],[82,2,74,0],[83,2,75,0,"exports"],[83,9,75,7],[83,10,75,8,"HMAC"],[83,14,75,12],[83,17,75,15,"HMAC"],[83,21,75,19],[84,2,76,0],[85,0,77,0],[86,0,78,0],[87,0,79,0],[88,0,80,0],[89,0,81,0],[90,0,82,0],[91,0,83,0],[92,0,84,0],[93,0,85,0],[94,2,86,0],[94,8,86,6,"hmac"],[94,12,86,10],[94,15,86,13,"hmac"],[94,16,86,14,"hash"],[94,20,86,18],[94,22,86,20,"key"],[94,25,86,23],[94,27,86,25,"message"],[94,34,86,32],[94,39,86,37],[94,43,86,41,"HMAC"],[94,47,86,45],[94,48,86,46,"hash"],[94,52,86,50],[94,54,86,52,"key"],[94,57,86,55],[94,58,86,56],[94,59,86,57,"update"],[94,65,86,63],[94,66,86,64,"message"],[94,73,86,71],[94,74,86,72],[94,75,86,73,"digest"],[94,81,86,79],[94,82,86,80],[94,83,86,81],[95,2,87,0,"exports"],[95,9,87,7],[95,10,87,8,"hmac"],[95,14,87,12],[95,17,87,15,"hmac"],[95,21,87,19],[96,2,88,0,"exports"],[96,9,88,7],[96,10,88,8,"hmac"],[96,14,88,12],[96,15,88,13,"create"],[96,21,88,19],[96,24,88,22],[96,25,88,23,"hash"],[96,29,88,27],[96,31,88,29,"key"],[96,34,88,32],[96,39,88,37],[96,43,88,41,"HMAC"],[96,47,88,45],[96,48,88,46,"hash"],[96,52,88,50],[96,54,88,52,"key"],[96,57,88,55],[96,58,88,56],[97,0,88,57],[97,3]],"functionMap":{"names":["<global>","HMAC","HMAC#constructor","HMAC#update","HMAC#digestInto","HMAC#digest","HMAC#_cloneInto","HMAC#destroy","hmac","exports.hmac.create"],"mappings":"AAA;ACS;ICC;KDyB;IEC;KFI;IGC;KHQ;IIC;KJI;IKC;KLY;IMC;KNI;CDC;aQY,oER;sBSE,kCT"},"hasCjsExports":true},"type":"js/module"}]}