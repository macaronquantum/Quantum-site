{"dependencies":[{"name":"./commons.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":21,"index":129},"end":{"line":4,"column":44,"index":152}}],"key":"BsP1rur2s8tExOXn4/1q3+2ZDEY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.decodePacket = void 0;\n  const commons_js_1 = require(_dependencyMap[0], \"./commons.js\");\n  const decodePacket = (encodedPacket, binaryType) => {\n    if (typeof encodedPacket !== \"string\") {\n      return {\n        type: \"message\",\n        data: mapBinary(encodedPacket, binaryType)\n      };\n    }\n    const type = encodedPacket.charAt(0);\n    if (type === \"b\") {\n      const buffer = Buffer.from(encodedPacket.substring(1), \"base64\");\n      return {\n        type: \"message\",\n        data: mapBinary(buffer, binaryType)\n      };\n    }\n    if (!commons_js_1.PACKET_TYPES_REVERSE[type]) {\n      return commons_js_1.ERROR_PACKET;\n    }\n    return encodedPacket.length > 1 ? {\n      type: commons_js_1.PACKET_TYPES_REVERSE[type],\n      data: encodedPacket.substring(1)\n    } : {\n      type: commons_js_1.PACKET_TYPES_REVERSE[type]\n    };\n  };\n  exports.decodePacket = decodePacket;\n  const mapBinary = (data, binaryType) => {\n    switch (binaryType) {\n      case \"arraybuffer\":\n        if (data instanceof ArrayBuffer) {\n          // from WebSocket & binaryType \"arraybuffer\"\n          return data;\n        } else if (Buffer.isBuffer(data)) {\n          // from HTTP long-polling\n          return data.buffer.slice(data.byteOffset, data.byteOffset + data.byteLength);\n        } else {\n          // from WebTransport (Uint8Array)\n          return data.buffer;\n        }\n      case \"nodebuffer\":\n      default:\n        if (Buffer.isBuffer(data)) {\n          // from HTTP long-polling or WebSocket & binaryType \"nodebuffer\" (default)\n          return data;\n        } else {\n          // from WebTransport (Uint8Array)\n          return Buffer.from(data);\n        }\n    }\n  };\n});","lineCount":59,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"decodePacket"],[7,22,3,20],[7,25,3,23],[7,30,3,28],[7,31,3,29],[8,2,4,0],[8,8,4,6,"commons_js_1"],[8,20,4,18],[8,23,4,21,"require"],[8,30,4,28],[8,31,4,28,"_dependencyMap"],[8,45,4,28],[8,64,4,43],[8,65,4,44],[9,2,5,0],[9,8,5,6,"decodePacket"],[9,20,5,18],[9,23,5,21,"decodePacket"],[9,24,5,22,"encodedPacket"],[9,37,5,35],[9,39,5,37,"binaryType"],[9,49,5,47],[9,54,5,52],[10,4,6,4],[10,8,6,8],[10,15,6,15,"encodedPacket"],[10,28,6,28],[10,33,6,33],[10,41,6,41],[10,43,6,43],[11,6,7,8],[11,13,7,15],[12,8,8,12,"type"],[12,12,8,16],[12,14,8,18],[12,23,8,27],[13,8,9,12,"data"],[13,12,9,16],[13,14,9,18,"mapBinary"],[13,23,9,27],[13,24,9,28,"encodedPacket"],[13,37,9,41],[13,39,9,43,"binaryType"],[13,49,9,53],[14,6,10,8],[14,7,10,9],[15,4,11,4],[16,4,12,4],[16,10,12,10,"type"],[16,14,12,14],[16,17,12,17,"encodedPacket"],[16,30,12,30],[16,31,12,31,"charAt"],[16,37,12,37],[16,38,12,38],[16,39,12,39],[16,40,12,40],[17,4,13,4],[17,8,13,8,"type"],[17,12,13,12],[17,17,13,17],[17,20,13,20],[17,22,13,22],[18,6,14,8],[18,12,14,14,"buffer"],[18,18,14,20],[18,21,14,23,"Buffer"],[18,27,14,29],[18,28,14,30,"from"],[18,32,14,34],[18,33,14,35,"encodedPacket"],[18,46,14,48],[18,47,14,49,"substring"],[18,56,14,58],[18,57,14,59],[18,58,14,60],[18,59,14,61],[18,61,14,63],[18,69,14,71],[18,70,14,72],[19,6,15,8],[19,13,15,15],[20,8,16,12,"type"],[20,12,16,16],[20,14,16,18],[20,23,16,27],[21,8,17,12,"data"],[21,12,17,16],[21,14,17,18,"mapBinary"],[21,23,17,27],[21,24,17,28,"buffer"],[21,30,17,34],[21,32,17,36,"binaryType"],[21,42,17,46],[22,6,18,8],[22,7,18,9],[23,4,19,4],[24,4,20,4],[24,8,20,8],[24,9,20,9,"commons_js_1"],[24,21,20,21],[24,22,20,22,"PACKET_TYPES_REVERSE"],[24,42,20,42],[24,43,20,43,"type"],[24,47,20,47],[24,48,20,48],[24,50,20,50],[25,6,21,8],[25,13,21,15,"commons_js_1"],[25,25,21,27],[25,26,21,28,"ERROR_PACKET"],[25,38,21,40],[26,4,22,4],[27,4,23,4],[27,11,23,11,"encodedPacket"],[27,24,23,24],[27,25,23,25,"length"],[27,31,23,31],[27,34,23,34],[27,35,23,35],[27,38,24,10],[28,6,25,12,"type"],[28,10,25,16],[28,12,25,18,"commons_js_1"],[28,24,25,30],[28,25,25,31,"PACKET_TYPES_REVERSE"],[28,45,25,51],[28,46,25,52,"type"],[28,50,25,56],[28,51,25,57],[29,6,26,12,"data"],[29,10,26,16],[29,12,26,18,"encodedPacket"],[29,25,26,31],[29,26,26,32,"substring"],[29,35,26,41],[29,36,26,42],[29,37,26,43],[30,4,27,8],[30,5,27,9],[30,8,28,10],[31,6,29,12,"type"],[31,10,29,16],[31,12,29,18,"commons_js_1"],[31,24,29,30],[31,25,29,31,"PACKET_TYPES_REVERSE"],[31,45,29,51],[31,46,29,52,"type"],[31,50,29,56],[32,4,30,8],[32,5,30,9],[33,2,31,0],[33,3,31,1],[34,2,32,0,"exports"],[34,9,32,7],[34,10,32,8,"decodePacket"],[34,22,32,20],[34,25,32,23,"decodePacket"],[34,37,32,35],[35,2,33,0],[35,8,33,6,"mapBinary"],[35,17,33,15],[35,20,33,18,"mapBinary"],[35,21,33,19,"data"],[35,25,33,23],[35,27,33,25,"binaryType"],[35,37,33,35],[35,42,33,40],[36,4,34,4],[36,12,34,12,"binaryType"],[36,22,34,22],[37,6,35,8],[37,11,35,13],[37,24,35,26],[38,8,36,12],[38,12,36,16,"data"],[38,16,36,20],[38,28,36,32,"ArrayBuffer"],[38,39,36,43],[38,41,36,45],[39,10,37,16],[40,10,38,16],[40,17,38,23,"data"],[40,21,38,27],[41,8,39,12],[41,9,39,13],[41,15,40,17],[41,19,40,21,"Buffer"],[41,25,40,27],[41,26,40,28,"isBuffer"],[41,34,40,36],[41,35,40,37,"data"],[41,39,40,41],[41,40,40,42],[41,42,40,44],[42,10,41,16],[43,10,42,16],[43,17,42,23,"data"],[43,21,42,27],[43,22,42,28,"buffer"],[43,28,42,34],[43,29,42,35,"slice"],[43,34,42,40],[43,35,42,41,"data"],[43,39,42,45],[43,40,42,46,"byteOffset"],[43,50,42,56],[43,52,42,58,"data"],[43,56,42,62],[43,57,42,63,"byteOffset"],[43,67,42,73],[43,70,42,76,"data"],[43,74,42,80],[43,75,42,81,"byteLength"],[43,85,42,91],[43,86,42,92],[44,8,43,12],[44,9,43,13],[44,15,44,17],[45,10,45,16],[46,10,46,16],[46,17,46,23,"data"],[46,21,46,27],[46,22,46,28,"buffer"],[46,28,46,34],[47,8,47,12],[48,6,48,8],[48,11,48,13],[48,23,48,25],[49,6,49,8],[50,8,50,12],[50,12,50,16,"Buffer"],[50,18,50,22],[50,19,50,23,"isBuffer"],[50,27,50,31],[50,28,50,32,"data"],[50,32,50,36],[50,33,50,37],[50,35,50,39],[51,10,51,16],[52,10,52,16],[52,17,52,23,"data"],[52,21,52,27],[53,8,53,12],[53,9,53,13],[53,15,54,17],[54,10,55,16],[55,10,56,16],[55,17,56,23,"Buffer"],[55,23,56,29],[55,24,56,30,"from"],[55,28,56,34],[55,29,56,35,"data"],[55,33,56,39],[55,34,56,40],[56,8,57,12],[57,4,58,4],[58,2,59,0],[58,3,59,1],[59,0,59,2],[59,3]],"functionMap":{"names":["<global>","decodePacket","mapBinary"],"mappings":"AAA;qBCI;CD0B;kBEE;CF0B"},"hasCjsExports":true},"type":"js/module"}]}