{"dependencies":[{"name":"../../errors/abi.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":17,"index":135},"end":{"line":4,"column":47,"index":165}}],"key":"qGW+Whuwmq2z3R+FBihEgnm5t3Q=","exportNames":["*"],"imports":1}},{"name":"../data/size.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":18,"index":185},"end":{"line":5,"column":44,"index":211}}],"key":"xQoUiKRzZ0zPkoZoSylkWHhsWcA=","exportNames":["*"],"imports":1}},{"name":"../hash/toEventSelector.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":29,"index":242},"end":{"line":6,"column":66,"index":279}}],"key":"+X9WY0q103xuBGKsGKfowlCj1rY=","exportNames":["*"],"imports":1}},{"name":"../../errors/cursor.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":20,"index":301},"end":{"line":7,"column":53,"index":334}}],"key":"I+rePaLfqEzKsv9btcio4CB03DE=","exportNames":["*"],"imports":1}},{"name":"./decodeAbiParameters.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":33,"index":369},"end":{"line":8,"column":68,"index":404}}],"key":"/lHZ6Q3wy3SebcxllBG4Nekx2CE=","exportNames":["*"],"imports":1}},{"name":"./formatAbiItem.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":27,"index":433},"end":{"line":9,"column":56,"index":462}}],"key":"+8fcDuEs0OkL9OcLysMX61Iapw8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.decodeEventLog = decodeEventLog;\n  const abi_js_1 = require(_dependencyMap[0], \"../../errors/abi.js\");\n  const size_js_1 = require(_dependencyMap[1], \"../data/size.js\");\n  const toEventSelector_js_1 = require(_dependencyMap[2], \"../hash/toEventSelector.js\");\n  const cursor_js_1 = require(_dependencyMap[3], \"../../errors/cursor.js\");\n  const decodeAbiParameters_js_1 = require(_dependencyMap[4], \"./decodeAbiParameters.js\");\n  const formatAbiItem_js_1 = require(_dependencyMap[5], \"./formatAbiItem.js\");\n  const docsPath = '/docs/contract/decodeEventLog';\n  function decodeEventLog(parameters) {\n    const {\n      abi,\n      data,\n      strict: strict_,\n      topics\n    } = parameters;\n    const strict = strict_ ?? true;\n    const [signature, ...argTopics] = topics;\n    if (!signature) throw new abi_js_1.AbiEventSignatureEmptyTopicsError({\n      docsPath\n    });\n    const abiItem = (() => {\n      if (abi.length === 1) return abi[0];\n      return abi.find(x => x.type === 'event' && signature === (0, toEventSelector_js_1.toEventSelector)((0, formatAbiItem_js_1.formatAbiItem)(x)));\n    })();\n    if (!(abiItem && 'name' in abiItem) || abiItem.type !== 'event') throw new abi_js_1.AbiEventSignatureNotFoundError(signature, {\n      docsPath\n    });\n    const {\n      name,\n      inputs\n    } = abiItem;\n    const isUnnamed = inputs?.some(x => !('name' in x && x.name));\n    let args = isUnnamed ? [] : {};\n    const indexedInputs = inputs.filter(x => 'indexed' in x && x.indexed);\n    for (let i = 0; i < indexedInputs.length; i++) {\n      const param = indexedInputs[i];\n      const topic = argTopics[i];\n      if (!topic) throw new abi_js_1.DecodeLogTopicsMismatch({\n        abiItem,\n        param: param\n      });\n      args[isUnnamed ? i : param.name || i] = decodeTopic({\n        param,\n        value: topic\n      });\n    }\n    const nonIndexedInputs = inputs.filter(x => !('indexed' in x && x.indexed));\n    if (nonIndexedInputs.length > 0) {\n      if (data && data !== '0x') {\n        try {\n          const decodedData = (0, decodeAbiParameters_js_1.decodeAbiParameters)(nonIndexedInputs, data);\n          if (decodedData) {\n            if (isUnnamed) args = [...args, ...decodedData];else {\n              for (let i = 0; i < nonIndexedInputs.length; i++) {\n                args[nonIndexedInputs[i].name] = decodedData[i];\n              }\n            }\n          }\n        } catch (err) {\n          if (strict) {\n            if (err instanceof abi_js_1.AbiDecodingDataSizeTooSmallError || err instanceof cursor_js_1.PositionOutOfBoundsError) throw new abi_js_1.DecodeLogDataMismatch({\n              abiItem,\n              data: data,\n              params: nonIndexedInputs,\n              size: (0, size_js_1.size)(data)\n            });\n            throw err;\n          }\n        }\n      } else if (strict) {\n        throw new abi_js_1.DecodeLogDataMismatch({\n          abiItem,\n          data: '0x',\n          params: nonIndexedInputs,\n          size: 0\n        });\n      }\n    }\n    return {\n      eventName: name,\n      args: Object.values(args).length > 0 ? args : undefined\n    };\n  }\n  function decodeTopic({\n    param,\n    value\n  }) {\n    if (param.type === 'string' || param.type === 'bytes' || param.type === 'tuple' || param.type.match(/^(.*)\\[(\\d+)?\\]$/)) return value;\n    const decodedArg = (0, decodeAbiParameters_js_1.decodeAbiParameters)([param], value) || [];\n    return decodedArg[0];\n  }\n});","lineCount":98,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"decodeEventLog"],[7,24,3,22],[7,27,3,25,"decodeEventLog"],[7,41,3,39],[8,2,4,0],[8,8,4,6,"abi_js_1"],[8,16,4,14],[8,19,4,17,"require"],[8,26,4,24],[8,27,4,24,"_dependencyMap"],[8,41,4,24],[8,67,4,46],[8,68,4,47],[9,2,5,0],[9,8,5,6,"size_js_1"],[9,17,5,15],[9,20,5,18,"require"],[9,27,5,25],[9,28,5,25,"_dependencyMap"],[9,42,5,25],[9,64,5,43],[9,65,5,44],[10,2,6,0],[10,8,6,6,"toEventSelector_js_1"],[10,28,6,26],[10,31,6,29,"require"],[10,38,6,36],[10,39,6,36,"_dependencyMap"],[10,53,6,36],[10,86,6,65],[10,87,6,66],[11,2,7,0],[11,8,7,6,"cursor_js_1"],[11,19,7,17],[11,22,7,20,"require"],[11,29,7,27],[11,30,7,27,"_dependencyMap"],[11,44,7,27],[11,73,7,52],[11,74,7,53],[12,2,8,0],[12,8,8,6,"decodeAbiParameters_js_1"],[12,32,8,30],[12,35,8,33,"require"],[12,42,8,40],[12,43,8,40,"_dependencyMap"],[12,57,8,40],[12,88,8,67],[12,89,8,68],[13,2,9,0],[13,8,9,6,"formatAbiItem_js_1"],[13,26,9,24],[13,29,9,27,"require"],[13,36,9,34],[13,37,9,34,"_dependencyMap"],[13,51,9,34],[13,76,9,55],[13,77,9,56],[14,2,10,0],[14,8,10,6,"docsPath"],[14,16,10,14],[14,19,10,17],[14,50,10,48],[15,2,11,0],[15,11,11,9,"decodeEventLog"],[15,25,11,23,"decodeEventLog"],[15,26,11,24,"parameters"],[15,36,11,34],[15,38,11,36],[16,4,12,4],[16,10,12,10],[17,6,12,12,"abi"],[17,9,12,15],[18,6,12,17,"data"],[18,10,12,21],[19,6,12,23,"strict"],[19,12,12,29],[19,14,12,31,"strict_"],[19,21,12,38],[20,6,12,40,"topics"],[21,4,12,48],[21,5,12,49],[21,8,12,52,"parameters"],[21,18,12,62],[22,4,13,4],[22,10,13,10,"strict"],[22,16,13,16],[22,19,13,19,"strict_"],[22,26,13,26],[22,30,13,30],[22,34,13,34],[23,4,14,4],[23,10,14,10],[23,11,14,11,"signature"],[23,20,14,20],[23,22,14,22],[23,25,14,25,"argTopics"],[23,34,14,34],[23,35,14,35],[23,38,14,38,"topics"],[23,44,14,44],[24,4,15,4],[24,8,15,8],[24,9,15,9,"signature"],[24,18,15,18],[24,20,16,8],[24,26,16,14],[24,30,16,18,"abi_js_1"],[24,38,16,26],[24,39,16,27,"AbiEventSignatureEmptyTopicsError"],[24,72,16,60],[24,73,16,61],[25,6,16,63,"docsPath"],[26,4,16,72],[26,5,16,73],[26,6,16,74],[27,4,17,4],[27,10,17,10,"abiItem"],[27,17,17,17],[27,20,17,20],[27,21,17,21],[27,27,17,27],[28,6,18,8],[28,10,18,12,"abi"],[28,13,18,15],[28,14,18,16,"length"],[28,20,18,22],[28,25,18,27],[28,26,18,28],[28,28,19,12],[28,35,19,19,"abi"],[28,38,19,22],[28,39,19,23],[28,40,19,24],[28,41,19,25],[29,6,20,8],[29,13,20,15,"abi"],[29,16,20,18],[29,17,20,19,"find"],[29,21,20,23],[29,22,20,25,"x"],[29,23,20,26],[29,27,20,31,"x"],[29,28,20,32],[29,29,20,33,"type"],[29,33,20,37],[29,38,20,42],[29,45,20,49],[29,49,21,12,"signature"],[29,58,21,21],[29,63,21,26],[29,64,21,27],[29,65,21,28],[29,67,21,30,"toEventSelector_js_1"],[29,87,21,50],[29,88,21,51,"toEventSelector"],[29,103,21,66],[29,105,21,68],[29,106,21,69],[29,107,21,70],[29,109,21,72,"formatAbiItem_js_1"],[29,127,21,90],[29,128,21,91,"formatAbiItem"],[29,141,21,104],[29,143,21,106,"x"],[29,144,21,107],[29,145,21,108],[29,146,21,109],[29,147,21,110],[30,4,22,4],[30,5,22,5],[30,7,22,7],[30,8,22,8],[31,4,23,4],[31,8,23,8],[31,10,23,10,"abiItem"],[31,17,23,17],[31,21,23,21],[31,27,23,27],[31,31,23,31,"abiItem"],[31,38,23,38],[31,39,23,39],[31,43,23,43,"abiItem"],[31,50,23,50],[31,51,23,51,"type"],[31,55,23,55],[31,60,23,60],[31,67,23,67],[31,69,24,8],[31,75,24,14],[31,79,24,18,"abi_js_1"],[31,87,24,26],[31,88,24,27,"AbiEventSignatureNotFoundError"],[31,118,24,57],[31,119,24,58,"signature"],[31,128,24,67],[31,130,24,69],[32,6,24,71,"docsPath"],[33,4,24,80],[33,5,24,81],[33,6,24,82],[34,4,25,4],[34,10,25,10],[35,6,25,12,"name"],[35,10,25,16],[36,6,25,18,"inputs"],[37,4,25,25],[37,5,25,26],[37,8,25,29,"abiItem"],[37,15,25,36],[38,4,26,4],[38,10,26,10,"isUnnamed"],[38,19,26,19],[38,22,26,22,"inputs"],[38,28,26,28],[38,30,26,30,"some"],[38,34,26,34],[38,35,26,36,"x"],[38,36,26,37],[38,40,26,42],[38,42,26,44],[38,48,26,50],[38,52,26,54,"x"],[38,53,26,55],[38,57,26,59,"x"],[38,58,26,60],[38,59,26,61,"name"],[38,63,26,65],[38,64,26,66],[38,65,26,67],[39,4,27,4],[39,8,27,8,"args"],[39,12,27,12],[39,15,27,15,"isUnnamed"],[39,24,27,24],[39,27,27,27],[39,29,27,29],[39,32,27,32],[39,33,27,33],[39,34,27,34],[40,4,28,4],[40,10,28,10,"indexedInputs"],[40,23,28,23],[40,26,28,26,"inputs"],[40,32,28,32],[40,33,28,33,"filter"],[40,39,28,39],[40,40,28,41,"x"],[40,41,28,42],[40,45,28,47],[40,54,28,56],[40,58,28,60,"x"],[40,59,28,61],[40,63,28,65,"x"],[40,64,28,66],[40,65,28,67,"indexed"],[40,72,28,74],[40,73,28,75],[41,4,29,4],[41,9,29,9],[41,13,29,13,"i"],[41,14,29,14],[41,17,29,17],[41,18,29,18],[41,20,29,20,"i"],[41,21,29,21],[41,24,29,24,"indexedInputs"],[41,37,29,37],[41,38,29,38,"length"],[41,44,29,44],[41,46,29,46,"i"],[41,47,29,47],[41,49,29,49],[41,51,29,51],[42,6,30,8],[42,12,30,14,"param"],[42,17,30,19],[42,20,30,22,"indexedInputs"],[42,33,30,35],[42,34,30,36,"i"],[42,35,30,37],[42,36,30,38],[43,6,31,8],[43,12,31,14,"topic"],[43,17,31,19],[43,20,31,22,"argTopics"],[43,29,31,31],[43,30,31,32,"i"],[43,31,31,33],[43,32,31,34],[44,6,32,8],[44,10,32,12],[44,11,32,13,"topic"],[44,16,32,18],[44,18,33,12],[44,24,33,18],[44,28,33,22,"abi_js_1"],[44,36,33,30],[44,37,33,31,"DecodeLogTopicsMismatch"],[44,60,33,54],[44,61,33,55],[45,8,34,16,"abiItem"],[45,15,34,23],[46,8,35,16,"param"],[46,13,35,21],[46,15,35,23,"param"],[47,6,36,12],[47,7,36,13],[47,8,36,14],[48,6,37,8,"args"],[48,10,37,12],[48,11,37,13,"isUnnamed"],[48,20,37,22],[48,23,37,25,"i"],[48,24,37,26],[48,27,37,29,"param"],[48,32,37,34],[48,33,37,35,"name"],[48,37,37,39],[48,41,37,43,"i"],[48,42,37,44],[48,43,37,45],[48,46,37,48,"decodeTopic"],[48,57,37,59],[48,58,37,60],[49,8,37,62,"param"],[49,13,37,67],[50,8,37,69,"value"],[50,13,37,74],[50,15,37,76,"topic"],[51,6,37,82],[51,7,37,83],[51,8,37,84],[52,4,38,4],[53,4,39,4],[53,10,39,10,"nonIndexedInputs"],[53,26,39,26],[53,29,39,29,"inputs"],[53,35,39,35],[53,36,39,36,"filter"],[53,42,39,42],[53,43,39,44,"x"],[53,44,39,45],[53,48,39,50],[53,50,39,52],[53,59,39,61],[53,63,39,65,"x"],[53,64,39,66],[53,68,39,70,"x"],[53,69,39,71],[53,70,39,72,"indexed"],[53,77,39,79],[53,78,39,80],[53,79,39,81],[54,4,40,4],[54,8,40,8,"nonIndexedInputs"],[54,24,40,24],[54,25,40,25,"length"],[54,31,40,31],[54,34,40,34],[54,35,40,35],[54,37,40,37],[55,6,41,8],[55,10,41,12,"data"],[55,14,41,16],[55,18,41,20,"data"],[55,22,41,24],[55,27,41,29],[55,31,41,33],[55,33,41,35],[56,8,42,12],[56,12,42,16],[57,10,43,16],[57,16,43,22,"decodedData"],[57,27,43,33],[57,30,43,36],[57,31,43,37],[57,32,43,38],[57,34,43,40,"decodeAbiParameters_js_1"],[57,58,43,64],[57,59,43,65,"decodeAbiParameters"],[57,78,43,84],[57,80,43,86,"nonIndexedInputs"],[57,96,43,102],[57,98,43,104,"data"],[57,102,43,108],[57,103,43,109],[58,10,44,16],[58,14,44,20,"decodedData"],[58,25,44,31],[58,27,44,33],[59,12,45,20],[59,16,45,24,"isUnnamed"],[59,25,45,33],[59,27,46,24,"args"],[59,31,46,28],[59,34,46,31],[59,35,46,32],[59,38,46,35,"args"],[59,42,46,39],[59,44,46,41],[59,47,46,44,"decodedData"],[59,58,46,55],[59,59,46,56],[59,60,46,57],[59,65,47,25],[60,14,48,24],[60,19,48,29],[60,23,48,33,"i"],[60,24,48,34],[60,27,48,37],[60,28,48,38],[60,30,48,40,"i"],[60,31,48,41],[60,34,48,44,"nonIndexedInputs"],[60,50,48,60],[60,51,48,61,"length"],[60,57,48,67],[60,59,48,69,"i"],[60,60,48,70],[60,62,48,72],[60,64,48,74],[61,16,49,28,"args"],[61,20,49,32],[61,21,49,33,"nonIndexedInputs"],[61,37,49,49],[61,38,49,50,"i"],[61,39,49,51],[61,40,49,52],[61,41,49,53,"name"],[61,45,49,57],[61,46,49,58],[61,49,49,61,"decodedData"],[61,60,49,72],[61,61,49,73,"i"],[61,62,49,74],[61,63,49,75],[62,14,50,24],[63,12,51,20],[64,10,52,16],[65,8,53,12],[65,9,53,13],[65,10,54,12],[65,17,54,19,"err"],[65,20,54,22],[65,22,54,24],[66,10,55,16],[66,14,55,20,"strict"],[66,20,55,26],[66,22,55,28],[67,12,56,20],[67,16,56,24,"err"],[67,19,56,27],[67,31,56,39,"abi_js_1"],[67,39,56,47],[67,40,56,48,"AbiDecodingDataSizeTooSmallError"],[67,72,56,80],[67,76,57,24,"err"],[67,79,57,27],[67,91,57,39,"cursor_js_1"],[67,102,57,50],[67,103,57,51,"PositionOutOfBoundsError"],[67,127,57,75],[67,129,58,24],[67,135,58,30],[67,139,58,34,"abi_js_1"],[67,147,58,42],[67,148,58,43,"DecodeLogDataMismatch"],[67,169,58,64],[67,170,58,65],[68,14,59,28,"abiItem"],[68,21,59,35],[69,14,60,28,"data"],[69,18,60,32],[69,20,60,34,"data"],[69,24,60,38],[70,14,61,28,"params"],[70,20,61,34],[70,22,61,36,"nonIndexedInputs"],[70,38,61,52],[71,14,62,28,"size"],[71,18,62,32],[71,20,62,34],[71,21,62,35],[71,22,62,36],[71,24,62,38,"size_js_1"],[71,33,62,47],[71,34,62,48,"size"],[71,38,62,52],[71,40,62,54,"data"],[71,44,62,58],[72,12,63,24],[72,13,63,25],[72,14,63,26],[73,12,64,20],[73,18,64,26,"err"],[73,21,64,29],[74,10,65,16],[75,8,66,12],[76,6,67,8],[76,7,67,9],[76,13,68,13],[76,17,68,17,"strict"],[76,23,68,23],[76,25,68,25],[77,8,69,12],[77,14,69,18],[77,18,69,22,"abi_js_1"],[77,26,69,30],[77,27,69,31,"DecodeLogDataMismatch"],[77,48,69,52],[77,49,69,53],[78,10,70,16,"abiItem"],[78,17,70,23],[79,10,71,16,"data"],[79,14,71,20],[79,16,71,22],[79,20,71,26],[80,10,72,16,"params"],[80,16,72,22],[80,18,72,24,"nonIndexedInputs"],[80,34,72,40],[81,10,73,16,"size"],[81,14,73,20],[81,16,73,22],[82,8,74,12],[82,9,74,13],[82,10,74,14],[83,6,75,8],[84,4,76,4],[85,4,77,4],[85,11,77,11],[86,6,78,8,"eventName"],[86,15,78,17],[86,17,78,19,"name"],[86,21,78,23],[87,6,79,8,"args"],[87,10,79,12],[87,12,79,14,"Object"],[87,18,79,20],[87,19,79,21,"values"],[87,25,79,27],[87,26,79,28,"args"],[87,30,79,32],[87,31,79,33],[87,32,79,34,"length"],[87,38,79,40],[87,41,79,43],[87,42,79,44],[87,45,79,47,"args"],[87,49,79,51],[87,52,79,54,"undefined"],[88,4,80,4],[88,5,80,5],[89,2,81,0],[90,2,82,0],[90,11,82,9,"decodeTopic"],[90,22,82,20,"decodeTopic"],[90,23,82,21],[91,4,82,23,"param"],[91,9,82,28],[92,4,82,30,"value"],[93,2,82,36],[93,3,82,37],[93,5,82,39],[94,4,83,4],[94,8,83,8,"param"],[94,13,83,13],[94,14,83,14,"type"],[94,18,83,18],[94,23,83,23],[94,31,83,31],[94,35,84,8,"param"],[94,40,84,13],[94,41,84,14,"type"],[94,45,84,18],[94,50,84,23],[94,57,84,30],[94,61,85,8,"param"],[94,66,85,13],[94,67,85,14,"type"],[94,71,85,18],[94,76,85,23],[94,83,85,30],[94,87,86,8,"param"],[94,92,86,13],[94,93,86,14,"type"],[94,97,86,18],[94,98,86,19,"match"],[94,103,86,24],[94,104,86,25],[94,122,86,43],[94,123,86,44],[94,125,87,8],[94,132,87,15,"value"],[94,137,87,20],[95,4,88,4],[95,10,88,10,"decodedArg"],[95,20,88,20],[95,23,88,23],[95,24,88,24],[95,25,88,25],[95,27,88,27,"decodeAbiParameters_js_1"],[95,51,88,51],[95,52,88,52,"decodeAbiParameters"],[95,71,88,71],[95,73,88,73],[95,74,88,74,"param"],[95,79,88,79],[95,80,88,80],[95,82,88,82,"value"],[95,87,88,87],[95,88,88,88],[95,92,88,92],[95,94,88,94],[96,4,89,4],[96,11,89,11,"decodedArg"],[96,21,89,21],[96,22,89,22],[96,23,89,23],[96,24,89,24],[97,2,90,0],[98,0,90,1],[98,3]],"functionMap":{"names":["<global>","decodeEventLog","<anonymous>","abi.find$argument_0","inputs.some$argument_0","inputs.filter$argument_0","decodeTopic"],"mappings":"AAA;ACU;qBCM;wBCG;6GDC;KDC;mCGI,+BH;wCIE,kCJ;2CIW,qCJ;CD0C;AMC;CNQ"},"hasCjsExports":true},"type":"js/module"}]}