{"dependencies":[{"name":"./constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":112,"index":112}}],"key":"waDaw5D7vDr2hRFu0z1BqRCTzP4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.isServerErrorCode = isServerErrorCode;\n  exports.isReservedErrorCode = isReservedErrorCode;\n  exports.isValidErrorCode = isValidErrorCode;\n  exports.getError = getError;\n  exports.getErrorByCode = getErrorByCode;\n  exports.validateJsonRpcError = validateJsonRpcError;\n  exports.parseConnectionError = parseConnectionError;\n  var _constants = require(_dependencyMap[0], \"./constants\");\n  function isServerErrorCode(code) {\n    return code <= _constants.SERVER_ERROR_CODE_RANGE[0] && code >= _constants.SERVER_ERROR_CODE_RANGE[1];\n  }\n  function isReservedErrorCode(code) {\n    return _constants.RESERVED_ERROR_CODES.includes(code);\n  }\n  function isValidErrorCode(code) {\n    return typeof code === \"number\";\n  }\n  function getError(type) {\n    if (!Object.keys(_constants.STANDARD_ERROR_MAP).includes(type)) {\n      return _constants.STANDARD_ERROR_MAP[_constants.DEFAULT_ERROR];\n    }\n    return _constants.STANDARD_ERROR_MAP[type];\n  }\n  function getErrorByCode(code) {\n    const match = Object.values(_constants.STANDARD_ERROR_MAP).find(e => e.code === code);\n    if (!match) {\n      return _constants.STANDARD_ERROR_MAP[_constants.DEFAULT_ERROR];\n    }\n    return match;\n  }\n  function validateJsonRpcError(response) {\n    if (typeof response.error.code === \"undefined\") {\n      return {\n        valid: false,\n        error: \"Missing code for JSON-RPC error\"\n      };\n    }\n    if (typeof response.error.message === \"undefined\") {\n      return {\n        valid: false,\n        error: \"Missing message for JSON-RPC error\"\n      };\n    }\n    if (!isValidErrorCode(response.error.code)) {\n      return {\n        valid: false,\n        error: `Invalid error code type for JSON-RPC: ${response.error.code}`\n      };\n    }\n    if (isReservedErrorCode(response.error.code)) {\n      const error = getErrorByCode(response.error.code);\n      if (error.message !== _constants.STANDARD_ERROR_MAP[_constants.DEFAULT_ERROR].message && response.error.message === error.message) {\n        return {\n          valid: false,\n          error: `Invalid error code message for JSON-RPC: ${response.error.code}`\n        };\n      }\n    }\n    return {\n      valid: true\n    };\n  }\n  function parseConnectionError(e, url, type) {\n    return e.message.includes(\"getaddrinfo ENOTFOUND\") || e.message.includes(\"connect ECONNREFUSED\") ? new Error(`Unavailable ${type} RPC url at ${url}`) : e;\n  }\n});","lineCount":72,"map":[[7,2,2,0,"exports"],[7,9,2,0],[7,10,2,0,"isServerErrorCode"],[7,27,2,0],[7,30,2,0,"isServerErrorCode"],[7,47,2,0],[8,2,5,0,"exports"],[8,9,5,0],[8,10,5,0,"isReservedErrorCode"],[8,29,5,0],[8,32,5,0,"isReservedErrorCode"],[8,51,5,0],[9,2,8,0,"exports"],[9,9,8,0],[9,10,8,0,"isValidErrorCode"],[9,26,8,0],[9,29,8,0,"isValidErrorCode"],[9,45,8,0],[10,2,11,0,"exports"],[10,9,11,0],[10,10,11,0,"getError"],[10,18,11,0],[10,21,11,0,"getError"],[10,29,11,0],[11,2,17,0,"exports"],[11,9,17,0],[11,10,17,0,"getErrorByCode"],[11,24,17,0],[11,27,17,0,"getErrorByCode"],[11,41,17,0],[12,2,24,0,"exports"],[12,9,24,0],[12,10,24,0,"validateJsonRpcError"],[12,30,24,0],[12,33,24,0,"validateJsonRpcError"],[12,53,24,0],[13,2,49,0,"exports"],[13,9,49,0],[13,10,49,0,"parseConnectionError"],[13,30,49,0],[13,33,49,0,"parseConnectionError"],[13,53,49,0],[14,2,1,0],[14,6,1,0,"_constants"],[14,16,1,0],[14,19,1,0,"require"],[14,26,1,0],[14,27,1,0,"_dependencyMap"],[14,41,1,0],[15,2,2,7],[15,11,2,16,"isServerErrorCode"],[15,28,2,33,"isServerErrorCode"],[15,29,2,34,"code"],[15,33,2,38],[15,35,2,40],[16,4,3,4],[16,11,3,11,"code"],[16,15,3,15],[16,19,3,19,"SERVER_ERROR_CODE_RANGE"],[16,29,3,42],[16,30,3,42,"SERVER_ERROR_CODE_RANGE"],[16,53,3,42],[16,54,3,43],[16,55,3,44],[16,56,3,45],[16,60,3,49,"code"],[16,64,3,53],[16,68,3,57,"SERVER_ERROR_CODE_RANGE"],[16,78,3,80],[16,79,3,80,"SERVER_ERROR_CODE_RANGE"],[16,102,3,80],[16,103,3,81],[16,104,3,82],[16,105,3,83],[17,2,4,0],[18,2,5,7],[18,11,5,16,"isReservedErrorCode"],[18,30,5,35,"isReservedErrorCode"],[18,31,5,36,"code"],[18,35,5,40],[18,37,5,42],[19,4,6,4],[19,11,6,11,"RESERVED_ERROR_CODES"],[19,21,6,31],[19,22,6,31,"RESERVED_ERROR_CODES"],[19,42,6,31],[19,43,6,32,"includes"],[19,51,6,40],[19,52,6,41,"code"],[19,56,6,45],[19,57,6,46],[20,2,7,0],[21,2,8,7],[21,11,8,16,"isValidErrorCode"],[21,27,8,32,"isValidErrorCode"],[21,28,8,33,"code"],[21,32,8,37],[21,34,8,39],[22,4,9,4],[22,11,9,11],[22,18,9,18,"code"],[22,22,9,22],[22,27,9,27],[22,35,9,35],[23,2,10,0],[24,2,11,7],[24,11,11,16,"getError"],[24,19,11,24,"getError"],[24,20,11,25,"type"],[24,24,11,29],[24,26,11,31],[25,4,12,4],[25,8,12,8],[25,9,12,9,"Object"],[25,15,12,15],[25,16,12,16,"keys"],[25,20,12,20],[25,21,12,21,"STANDARD_ERROR_MAP"],[25,31,12,39],[25,32,12,39,"STANDARD_ERROR_MAP"],[25,50,12,39],[25,51,12,40],[25,52,12,41,"includes"],[25,60,12,49],[25,61,12,50,"type"],[25,65,12,54],[25,66,12,55],[25,68,12,57],[26,6,13,8],[26,13,13,15,"STANDARD_ERROR_MAP"],[26,23,13,33],[26,24,13,33,"STANDARD_ERROR_MAP"],[26,42,13,33],[26,43,13,34,"DEFAULT_ERROR"],[26,53,13,47],[26,54,13,47,"DEFAULT_ERROR"],[26,67,13,47],[26,68,13,48],[27,4,14,4],[28,4,15,4],[28,11,15,11,"STANDARD_ERROR_MAP"],[28,21,15,29],[28,22,15,29,"STANDARD_ERROR_MAP"],[28,40,15,29],[28,41,15,30,"type"],[28,45,15,34],[28,46,15,35],[29,2,16,0],[30,2,17,7],[30,11,17,16,"getErrorByCode"],[30,25,17,30,"getErrorByCode"],[30,26,17,31,"code"],[30,30,17,35],[30,32,17,37],[31,4,18,4],[31,10,18,10,"match"],[31,15,18,15],[31,18,18,18,"Object"],[31,24,18,24],[31,25,18,25,"values"],[31,31,18,31],[31,32,18,32,"STANDARD_ERROR_MAP"],[31,42,18,50],[31,43,18,50,"STANDARD_ERROR_MAP"],[31,61,18,50],[31,62,18,51],[31,63,18,52,"find"],[31,67,18,56],[31,68,18,57,"e"],[31,69,18,58],[31,73,18,62,"e"],[31,74,18,63],[31,75,18,64,"code"],[31,79,18,68],[31,84,18,73,"code"],[31,88,18,77],[31,89,18,78],[32,4,19,4],[32,8,19,8],[32,9,19,9,"match"],[32,14,19,14],[32,16,19,16],[33,6,20,8],[33,13,20,15,"STANDARD_ERROR_MAP"],[33,23,20,33],[33,24,20,33,"STANDARD_ERROR_MAP"],[33,42,20,33],[33,43,20,34,"DEFAULT_ERROR"],[33,53,20,47],[33,54,20,47,"DEFAULT_ERROR"],[33,67,20,47],[33,68,20,48],[34,4,21,4],[35,4,22,4],[35,11,22,11,"match"],[35,16,22,16],[36,2,23,0],[37,2,24,7],[37,11,24,16,"validateJsonRpcError"],[37,31,24,36,"validateJsonRpcError"],[37,32,24,37,"response"],[37,40,24,45],[37,42,24,47],[38,4,25,4],[38,8,25,8],[38,15,25,15,"response"],[38,23,25,23],[38,24,25,24,"error"],[38,29,25,29],[38,30,25,30,"code"],[38,34,25,34],[38,39,25,39],[38,50,25,50],[38,52,25,52],[39,6,26,8],[39,13,26,15],[40,8,26,17,"valid"],[40,13,26,22],[40,15,26,24],[40,20,26,29],[41,8,26,31,"error"],[41,13,26,36],[41,15,26,38],[42,6,26,72],[42,7,26,73],[43,4,27,4],[44,4,28,4],[44,8,28,8],[44,15,28,15,"response"],[44,23,28,23],[44,24,28,24,"error"],[44,29,28,29],[44,30,28,30,"message"],[44,37,28,37],[44,42,28,42],[44,53,28,53],[44,55,28,55],[45,6,29,8],[45,13,29,15],[46,8,29,17,"valid"],[46,13,29,22],[46,15,29,24],[46,20,29,29],[47,8,29,31,"error"],[47,13,29,36],[47,15,29,38],[48,6,29,75],[48,7,29,76],[49,4,30,4],[50,4,31,4],[50,8,31,8],[50,9,31,9,"isValidErrorCode"],[50,25,31,25],[50,26,31,26,"response"],[50,34,31,34],[50,35,31,35,"error"],[50,40,31,40],[50,41,31,41,"code"],[50,45,31,45],[50,46,31,46],[50,48,31,48],[51,6,32,8],[51,13,32,15],[52,8,33,12,"valid"],[52,13,33,17],[52,15,33,19],[52,20,33,24],[53,8,34,12,"error"],[53,13,34,17],[53,15,34,19],[53,56,34,60,"response"],[53,64,34,68],[53,65,34,69,"error"],[53,70,34,74],[53,71,34,75,"code"],[53,75,34,79],[54,6,35,8],[54,7,35,9],[55,4,36,4],[56,4,37,4],[56,8,37,8,"isReservedErrorCode"],[56,27,37,27],[56,28,37,28,"response"],[56,36,37,36],[56,37,37,37,"error"],[56,42,37,42],[56,43,37,43,"code"],[56,47,37,47],[56,48,37,48],[56,50,37,50],[57,6,38,8],[57,12,38,14,"error"],[57,17,38,19],[57,20,38,22,"getErrorByCode"],[57,34,38,36],[57,35,38,37,"response"],[57,43,38,45],[57,44,38,46,"error"],[57,49,38,51],[57,50,38,52,"code"],[57,54,38,56],[57,55,38,57],[58,6,39,8],[58,10,39,12,"error"],[58,15,39,17],[58,16,39,18,"message"],[58,23,39,25],[58,28,39,30,"STANDARD_ERROR_MAP"],[58,38,39,48],[58,39,39,48,"STANDARD_ERROR_MAP"],[58,57,39,48],[58,58,39,49,"DEFAULT_ERROR"],[58,68,39,62],[58,69,39,62,"DEFAULT_ERROR"],[58,82,39,62],[58,83,39,63],[58,84,39,64,"message"],[58,91,39,71],[58,95,40,12,"response"],[58,103,40,20],[58,104,40,21,"error"],[58,109,40,26],[58,110,40,27,"message"],[58,117,40,34],[58,122,40,39,"error"],[58,127,40,44],[58,128,40,45,"message"],[58,135,40,52],[58,137,40,54],[59,8,41,12],[59,15,41,19],[60,10,42,16,"valid"],[60,15,42,21],[60,17,42,23],[60,22,42,28],[61,10,43,16,"error"],[61,15,43,21],[61,17,43,23],[61,61,43,67,"response"],[61,69,43,75],[61,70,43,76,"error"],[61,75,43,81],[61,76,43,82,"code"],[61,80,43,86],[62,8,44,12],[62,9,44,13],[63,6,45,8],[64,4,46,4],[65,4,47,4],[65,11,47,11],[66,6,47,13,"valid"],[66,11,47,18],[66,13,47,20],[67,4,47,25],[67,5,47,26],[68,2,48,0],[69,2,49,7],[69,11,49,16,"parseConnectionError"],[69,31,49,36,"parseConnectionError"],[69,32,49,37,"e"],[69,33,49,38],[69,35,49,40,"url"],[69,38,49,43],[69,40,49,45,"type"],[69,44,49,49],[69,46,49,51],[70,4,50,4],[70,11,50,11,"e"],[70,12,50,12],[70,13,50,13,"message"],[70,20,50,20],[70,21,50,21,"includes"],[70,29,50,29],[70,30,50,30],[70,53,50,53],[70,54,50,54],[70,58,50,58,"e"],[70,59,50,59],[70,60,50,60,"message"],[70,67,50,67],[70,68,50,68,"includes"],[70,76,50,76],[70,77,50,77],[70,99,50,99],[70,100,50,100],[70,103,51,10],[70,107,51,14,"Error"],[70,112,51,19],[70,113,51,20],[70,128,51,35,"type"],[70,132,51,39],[70,147,51,54,"url"],[70,150,51,57],[70,152,51,59],[70,153,51,60],[70,156,52,10,"e"],[70,157,52,11],[71,2,53,0],[72,0,53,1],[72,3]],"functionMap":{"names":["<global>","isServerErrorCode","isReservedErrorCode","isValidErrorCode","getError","getErrorByCode","Object.values.find$argument_0","validateJsonRpcError","parseConnectionError"],"mappings":"AAA;OCC;CDE;OEC;CFE;OGC;CHE;OIC;CJK;OKC;yDCC,oBD;CLK;OOC;CPwB;OQC;CRI"},"hasCjsExports":false},"type":"js/module"}]}