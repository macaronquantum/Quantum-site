{"dependencies":[{"name":"@wallet-standard/wallet","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"aB9pkmc/j1XdBe4V7jQUVR0WRCY=","exportNames":["*"],"imports":1}},{"name":"./wallet.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":58},"end":{"line":2,"column":53,"index":111}}],"key":"nMUi7HAEHy/BhpsRyjTKkvnHk08=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.detectAndRegisterSolflareMetaMaskWallet = detectAndRegisterSolflareMetaMaskWallet;\n  var _walletStandardWallet = require(_dependencyMap[0], \"@wallet-standard/wallet\");\n  var _walletJs = require(_dependencyMap[1], \"./wallet.js\");\n  let registered = false;\n  function register() {\n    if (registered) return;\n    (0, _walletStandardWallet.registerWallet)(new _walletJs.SolflareMetaMaskWallet());\n    registered = true;\n  }\n  /** @internal */\n  async function detectAndRegisterSolflareMetaMaskWallet() {\n    const id = 'solflare-detect-metamask';\n    function postMessage() {\n      window.postMessage({\n        target: 'metamask-contentscript',\n        data: {\n          name: 'metamask-provider',\n          data: {\n            id,\n            jsonrpc: '2.0',\n            method: 'wallet_getSnaps'\n          }\n        }\n      }, window.location.origin);\n    }\n    function onMessage(event) {\n      const message = event.data;\n      if (message?.target === 'metamask-inpage' && message.data?.name === 'metamask-provider') {\n        if (message.data.data?.id === id) {\n          window.removeEventListener('message', onMessage);\n          if (!message.data.data.error) {\n            register();\n          }\n        } else {\n          postMessage();\n        }\n      }\n    }\n    window.addEventListener('message', onMessage);\n    window.setTimeout(() => window.removeEventListener('message', onMessage), 5000);\n    postMessage();\n  }\n});","lineCount":49,"map":[[7,2,11,0,"exports"],[7,9,11,0],[7,10,11,0,"detectAndRegisterSolflareMetaMaskWallet"],[7,49,11,0],[7,52,11,0,"detectAndRegisterSolflareMetaMaskWallet"],[7,91,11,0],[8,2,1,0],[8,6,1,0,"_walletStandardWallet"],[8,27,1,0],[8,30,1,0,"require"],[8,37,1,0],[8,38,1,0,"_dependencyMap"],[8,52,1,0],[9,2,2,0],[9,6,2,0,"_walletJs"],[9,15,2,0],[9,18,2,0,"require"],[9,25,2,0],[9,26,2,0,"_dependencyMap"],[9,40,2,0],[10,2,3,0],[10,6,3,4,"registered"],[10,16,3,14],[10,19,3,17],[10,24,3,22],[11,2,4,0],[11,11,4,9,"register"],[11,19,4,17,"register"],[11,20,4,17],[11,22,4,20],[12,4,5,4],[12,8,5,8,"registered"],[12,18,5,18],[12,20,6,8],[13,4,7,4],[13,8,7,4,"registerWallet"],[13,29,7,18],[13,30,7,18,"registerWallet"],[13,44,7,18],[13,46,7,19],[13,50,7,23,"SolflareMetaMaskWallet"],[13,59,7,45],[13,60,7,45,"SolflareMetaMaskWallet"],[13,82,7,45],[13,83,7,46],[13,84,7,47],[13,85,7,48],[14,4,8,4,"registered"],[14,14,8,14],[14,17,8,17],[14,21,8,21],[15,2,9,0],[16,2,10,0],[17,2,11,7],[17,17,11,22,"detectAndRegisterSolflareMetaMaskWallet"],[17,56,11,61,"detectAndRegisterSolflareMetaMaskWallet"],[17,57,11,61],[17,59,11,64],[18,4,12,4],[18,10,12,10,"id"],[18,12,12,12],[18,15,12,15],[18,41,12,41],[19,4,13,4],[19,13,13,13,"postMessage"],[19,24,13,24,"postMessage"],[19,25,13,24],[19,27,13,27],[20,6,14,8,"window"],[20,12,14,14],[20,13,14,15,"postMessage"],[20,24,14,26],[20,25,14,27],[21,8,15,12,"target"],[21,14,15,18],[21,16,15,20],[21,40,15,44],[22,8,16,12,"data"],[22,12,16,16],[22,14,16,18],[23,10,17,16,"name"],[23,14,17,20],[23,16,17,22],[23,35,17,41],[24,10,18,16,"data"],[24,14,18,20],[24,16,18,22],[25,12,19,20,"id"],[25,14,19,22],[26,12,20,20,"jsonrpc"],[26,19,20,27],[26,21,20,29],[26,26,20,34],[27,12,21,20,"method"],[27,18,21,26],[27,20,21,28],[28,10,22,16],[29,8,23,12],[30,6,24,8],[30,7,24,9],[30,9,24,11,"window"],[30,15,24,17],[30,16,24,18,"location"],[30,24,24,26],[30,25,24,27,"origin"],[30,31,24,33],[30,32,24,34],[31,4,25,4],[32,4,26,4],[32,13,26,13,"onMessage"],[32,22,26,22,"onMessage"],[32,23,26,23,"event"],[32,28,26,28],[32,30,26,30],[33,6,27,8],[33,12,27,14,"message"],[33,19,27,21],[33,22,27,24,"event"],[33,27,27,29],[33,28,27,30,"data"],[33,32,27,34],[34,6,28,8],[34,10,28,12,"message"],[34,17,28,19],[34,19,28,21,"target"],[34,25,28,27],[34,30,28,32],[34,47,28,49],[34,51,28,53,"message"],[34,58,28,60],[34,59,28,61,"data"],[34,63,28,65],[34,65,28,67,"name"],[34,69,28,71],[34,74,28,76],[34,93,28,95],[34,95,28,97],[35,8,29,12],[35,12,29,16,"message"],[35,19,29,23],[35,20,29,24,"data"],[35,24,29,28],[35,25,29,29,"data"],[35,29,29,33],[35,31,29,35,"id"],[35,33,29,37],[35,38,29,42,"id"],[35,40,29,44],[35,42,29,46],[36,10,30,16,"window"],[36,16,30,22],[36,17,30,23,"removeEventListener"],[36,36,30,42],[36,37,30,43],[36,46,30,52],[36,48,30,54,"onMessage"],[36,57,30,63],[36,58,30,64],[37,10,31,16],[37,14,31,20],[37,15,31,21,"message"],[37,22,31,28],[37,23,31,29,"data"],[37,27,31,33],[37,28,31,34,"data"],[37,32,31,38],[37,33,31,39,"error"],[37,38,31,44],[37,40,31,46],[38,12,32,20,"register"],[38,20,32,28],[38,21,32,29],[38,22,32,30],[39,10,33,16],[40,8,34,12],[40,9,34,13],[40,15,35,17],[41,10,36,16,"postMessage"],[41,21,36,27],[41,22,36,28],[41,23,36,29],[42,8,37,12],[43,6,38,8],[44,4,39,4],[45,4,40,4,"window"],[45,10,40,10],[45,11,40,11,"addEventListener"],[45,27,40,27],[45,28,40,28],[45,37,40,37],[45,39,40,39,"onMessage"],[45,48,40,48],[45,49,40,49],[46,4,41,4,"window"],[46,10,41,10],[46,11,41,11,"setTimeout"],[46,21,41,21],[46,22,41,22],[46,28,41,28,"window"],[46,34,41,34],[46,35,41,35,"removeEventListener"],[46,54,41,54],[46,55,41,55],[46,64,41,64],[46,66,41,66,"onMessage"],[46,75,41,75],[46,76,41,76],[46,78,41,78],[46,82,41,82],[46,83,41,83],[47,4,42,4,"postMessage"],[47,15,42,15],[47,16,42,16],[47,17,42,17],[48,2,43,0],[49,0,43,1],[49,3]],"functionMap":{"names":["<global>","register","detectAndRegisterSolflareMetaMaskWallet","postMessage","onMessage","window.setTimeout$argument_0"],"mappings":"AAA;ACG;CDK;OEE;ICE;KDY;IEC;KFa;sBGE,sDH;CFE"},"hasCjsExports":false},"type":"js/module"}]}