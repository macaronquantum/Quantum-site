{"dependencies":[{"name":"./utils.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":65},"end":{"line":5,"column":74,"index":139}}],"key":"NIaSEHO1E48gsZc7jH9Ex1xTHgE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"HMAC\", {\n    enumerable: true,\n    get: function () {\n      return HMAC;\n    }\n  });\n  Object.defineProperty(exports, \"hmac\", {\n    enumerable: true,\n    get: function () {\n      return hmac;\n    }\n  });\n  var _utilsJs = require(_dependencyMap[0], \"./utils.js\");\n  /**\n   * HMAC: RFC2104 message authentication code.\n   * @module\n   */\n\n  class HMAC extends _utilsJs.Hash {\n    constructor(hash, _key) {\n      super();\n      this.finished = false;\n      this.destroyed = false;\n      (0, _utilsJs.ahash)(hash);\n      const key = (0, _utilsJs.toBytes)(_key);\n      this.iHash = hash.create();\n      if (typeof this.iHash.update !== 'function') throw new Error('Expected instance of class which extends utils.Hash');\n      this.blockLen = this.iHash.blockLen;\n      this.outputLen = this.iHash.outputLen;\n      const blockLen = this.blockLen;\n      const pad = new Uint8Array(blockLen);\n      // blockLen can be bigger than outputLen\n      pad.set(key.length > blockLen ? hash.create().update(key).digest() : key);\n      for (let i = 0; i < pad.length; i++) pad[i] ^= 0x36;\n      this.iHash.update(pad);\n      // By doing update (processing of first block) of outer hash here we can re-use it between multiple calls via clone\n      this.oHash = hash.create();\n      // Undo internal XOR && apply outer XOR\n      for (let i = 0; i < pad.length; i++) pad[i] ^= 0x36 ^ 0x5c;\n      this.oHash.update(pad);\n      (0, _utilsJs.clean)(pad);\n    }\n    update(buf) {\n      (0, _utilsJs.aexists)(this);\n      this.iHash.update(buf);\n      return this;\n    }\n    digestInto(out) {\n      (0, _utilsJs.aexists)(this);\n      (0, _utilsJs.abytes)(out, this.outputLen);\n      this.finished = true;\n      this.iHash.digestInto(out);\n      this.oHash.update(out);\n      this.oHash.digestInto(out);\n      this.destroy();\n    }\n    digest() {\n      const out = new Uint8Array(this.oHash.outputLen);\n      this.digestInto(out);\n      return out;\n    }\n    _cloneInto(to) {\n      // Create new instance without calling constructor since key already in state and we don't know it.\n      to || (to = Object.create(Object.getPrototypeOf(this), {}));\n      const {\n        oHash,\n        iHash,\n        finished,\n        destroyed,\n        blockLen,\n        outputLen\n      } = this;\n      to = to;\n      to.finished = finished;\n      to.destroyed = destroyed;\n      to.blockLen = blockLen;\n      to.outputLen = outputLen;\n      to.oHash = oHash._cloneInto(to.oHash);\n      to.iHash = iHash._cloneInto(to.iHash);\n      return to;\n    }\n    clone() {\n      return this._cloneInto();\n    }\n    destroy() {\n      this.destroyed = true;\n      this.oHash.destroy();\n      this.iHash.destroy();\n    }\n  }\n  /**\n   * HMAC: RFC2104 message authentication code.\n   * @param hash - function that would be used e.g. sha256\n   * @param key - message key\n   * @param message - message data\n   * @example\n   * import { hmac } from '@noble/hashes/hmac';\n   * import { sha256 } from '@noble/hashes/sha2';\n   * const mac1 = hmac(sha256, 'key', 'message');\n   */\n  const hmac = (hash, key, message) => new HMAC(hash, key).update(message).digest();\n  hmac.create = (hash, key) => new HMAC(hash, key);\n});","lineCount":109,"map":[[7,2,6,0,"Object"],[7,8,6,0],[7,9,6,0,"defineProperty"],[7,23,6,0],[7,24,6,0,"exports"],[7,31,6,0],[8,4,6,0,"enumerable"],[8,14,6,0],[9,4,6,0,"get"],[9,7,6,0],[9,18,6,0,"get"],[9,19,6,0],[10,6,6,0],[10,13,6,0,"HMAC"],[10,17,6,0],[11,4,6,0],[12,2,6,0],[13,2,84,0,"Object"],[13,8,84,0],[13,9,84,0,"defineProperty"],[13,23,84,0],[13,24,84,0,"exports"],[13,31,84,0],[14,4,84,0,"enumerable"],[14,14,84,0],[15,4,84,0,"get"],[15,7,84,0],[15,18,84,0,"get"],[15,19,84,0],[16,6,84,0],[16,13,84,0,"hmac"],[16,17,84,0],[17,4,84,0],[18,2,84,0],[19,2,5,0],[19,6,5,0,"_utilsJs"],[19,14,5,0],[19,17,5,0,"require"],[19,24,5,0],[19,25,5,0,"_dependencyMap"],[19,39,5,0],[20,2,1,0],[21,0,2,0],[22,0,3,0],[23,0,4,0],[25,2,6,7],[25,8,6,13,"HMAC"],[25,12,6,17],[25,21,6,26,"Hash"],[25,29,6,30],[25,30,6,30,"Hash"],[25,34,6,30],[25,35,6,31],[26,4,7,4,"constructor"],[26,15,7,15,"constructor"],[26,16,7,16,"hash"],[26,20,7,20],[26,22,7,22,"_key"],[26,26,7,26],[26,28,7,28],[27,6,8,8],[27,11,8,13],[27,12,8,14],[27,13,8,15],[28,6,9,8],[28,10,9,12],[28,11,9,13,"finished"],[28,19,9,21],[28,22,9,24],[28,27,9,29],[29,6,10,8],[29,10,10,12],[29,11,10,13,"destroyed"],[29,20,10,22],[29,23,10,25],[29,28,10,30],[30,6,11,8],[30,10,11,8,"ahash"],[30,18,11,13],[30,19,11,13,"ahash"],[30,24,11,13],[30,26,11,14,"hash"],[30,30,11,18],[30,31,11,19],[31,6,12,8],[31,12,12,14,"key"],[31,15,12,17],[31,18,12,20],[31,22,12,20,"toBytes"],[31,30,12,27],[31,31,12,27,"toBytes"],[31,38,12,27],[31,40,12,28,"_key"],[31,44,12,32],[31,45,12,33],[32,6,13,8],[32,10,13,12],[32,11,13,13,"iHash"],[32,16,13,18],[32,19,13,21,"hash"],[32,23,13,25],[32,24,13,26,"create"],[32,30,13,32],[32,31,13,33],[32,32,13,34],[33,6,14,8],[33,10,14,12],[33,17,14,19],[33,21,14,23],[33,22,14,24,"iHash"],[33,27,14,29],[33,28,14,30,"update"],[33,34,14,36],[33,39,14,41],[33,49,14,51],[33,51,15,12],[33,57,15,18],[33,61,15,22,"Error"],[33,66,15,27],[33,67,15,28],[33,120,15,81],[33,121,15,82],[34,6,16,8],[34,10,16,12],[34,11,16,13,"blockLen"],[34,19,16,21],[34,22,16,24],[34,26,16,28],[34,27,16,29,"iHash"],[34,32,16,34],[34,33,16,35,"blockLen"],[34,41,16,43],[35,6,17,8],[35,10,17,12],[35,11,17,13,"outputLen"],[35,20,17,22],[35,23,17,25],[35,27,17,29],[35,28,17,30,"iHash"],[35,33,17,35],[35,34,17,36,"outputLen"],[35,43,17,45],[36,6,18,8],[36,12,18,14,"blockLen"],[36,20,18,22],[36,23,18,25],[36,27,18,29],[36,28,18,30,"blockLen"],[36,36,18,38],[37,6,19,8],[37,12,19,14,"pad"],[37,15,19,17],[37,18,19,20],[37,22,19,24,"Uint8Array"],[37,32,19,34],[37,33,19,35,"blockLen"],[37,41,19,43],[37,42,19,44],[38,6,20,8],[39,6,21,8,"pad"],[39,9,21,11],[39,10,21,12,"set"],[39,13,21,15],[39,14,21,16,"key"],[39,17,21,19],[39,18,21,20,"length"],[39,24,21,26],[39,27,21,29,"blockLen"],[39,35,21,37],[39,38,21,40,"hash"],[39,42,21,44],[39,43,21,45,"create"],[39,49,21,51],[39,50,21,52],[39,51,21,53],[39,52,21,54,"update"],[39,58,21,60],[39,59,21,61,"key"],[39,62,21,64],[39,63,21,65],[39,64,21,66,"digest"],[39,70,21,72],[39,71,21,73],[39,72,21,74],[39,75,21,77,"key"],[39,78,21,80],[39,79,21,81],[40,6,22,8],[40,11,22,13],[40,15,22,17,"i"],[40,16,22,18],[40,19,22,21],[40,20,22,22],[40,22,22,24,"i"],[40,23,22,25],[40,26,22,28,"pad"],[40,29,22,31],[40,30,22,32,"length"],[40,36,22,38],[40,38,22,40,"i"],[40,39,22,41],[40,41,22,43],[40,43,23,12,"pad"],[40,46,23,15],[40,47,23,16,"i"],[40,48,23,17],[40,49,23,18],[40,53,23,22],[40,57,23,26],[41,6,24,8],[41,10,24,12],[41,11,24,13,"iHash"],[41,16,24,18],[41,17,24,19,"update"],[41,23,24,25],[41,24,24,26,"pad"],[41,27,24,29],[41,28,24,30],[42,6,25,8],[43,6,26,8],[43,10,26,12],[43,11,26,13,"oHash"],[43,16,26,18],[43,19,26,21,"hash"],[43,23,26,25],[43,24,26,26,"create"],[43,30,26,32],[43,31,26,33],[43,32,26,34],[44,6,27,8],[45,6,28,8],[45,11,28,13],[45,15,28,17,"i"],[45,16,28,18],[45,19,28,21],[45,20,28,22],[45,22,28,24,"i"],[45,23,28,25],[45,26,28,28,"pad"],[45,29,28,31],[45,30,28,32,"length"],[45,36,28,38],[45,38,28,40,"i"],[45,39,28,41],[45,41,28,43],[45,43,29,12,"pad"],[45,46,29,15],[45,47,29,16,"i"],[45,48,29,17],[45,49,29,18],[45,53,29,22],[45,57,29,26],[45,60,29,29],[45,64,29,33],[46,6,30,8],[46,10,30,12],[46,11,30,13,"oHash"],[46,16,30,18],[46,17,30,19,"update"],[46,23,30,25],[46,24,30,26,"pad"],[46,27,30,29],[46,28,30,30],[47,6,31,8],[47,10,31,8,"clean"],[47,18,31,13],[47,19,31,13,"clean"],[47,24,31,13],[47,26,31,14,"pad"],[47,29,31,17],[47,30,31,18],[48,4,32,4],[49,4,33,4,"update"],[49,10,33,10,"update"],[49,11,33,11,"buf"],[49,14,33,14],[49,16,33,16],[50,6,34,8],[50,10,34,8,"aexists"],[50,18,34,15],[50,19,34,15,"aexists"],[50,26,34,15],[50,28,34,16],[50,32,34,20],[50,33,34,21],[51,6,35,8],[51,10,35,12],[51,11,35,13,"iHash"],[51,16,35,18],[51,17,35,19,"update"],[51,23,35,25],[51,24,35,26,"buf"],[51,27,35,29],[51,28,35,30],[52,6,36,8],[52,13,36,15],[52,17,36,19],[53,4,37,4],[54,4,38,4,"digestInto"],[54,14,38,14,"digestInto"],[54,15,38,15,"out"],[54,18,38,18],[54,20,38,20],[55,6,39,8],[55,10,39,8,"aexists"],[55,18,39,15],[55,19,39,15,"aexists"],[55,26,39,15],[55,28,39,16],[55,32,39,20],[55,33,39,21],[56,6,40,8],[56,10,40,8,"abytes"],[56,18,40,14],[56,19,40,14,"abytes"],[56,25,40,14],[56,27,40,15,"out"],[56,30,40,18],[56,32,40,20],[56,36,40,24],[56,37,40,25,"outputLen"],[56,46,40,34],[56,47,40,35],[57,6,41,8],[57,10,41,12],[57,11,41,13,"finished"],[57,19,41,21],[57,22,41,24],[57,26,41,28],[58,6,42,8],[58,10,42,12],[58,11,42,13,"iHash"],[58,16,42,18],[58,17,42,19,"digestInto"],[58,27,42,29],[58,28,42,30,"out"],[58,31,42,33],[58,32,42,34],[59,6,43,8],[59,10,43,12],[59,11,43,13,"oHash"],[59,16,43,18],[59,17,43,19,"update"],[59,23,43,25],[59,24,43,26,"out"],[59,27,43,29],[59,28,43,30],[60,6,44,8],[60,10,44,12],[60,11,44,13,"oHash"],[60,16,44,18],[60,17,44,19,"digestInto"],[60,27,44,29],[60,28,44,30,"out"],[60,31,44,33],[60,32,44,34],[61,6,45,8],[61,10,45,12],[61,11,45,13,"destroy"],[61,18,45,20],[61,19,45,21],[61,20,45,22],[62,4,46,4],[63,4,47,4,"digest"],[63,10,47,10,"digest"],[63,11,47,10],[63,13,47,13],[64,6,48,8],[64,12,48,14,"out"],[64,15,48,17],[64,18,48,20],[64,22,48,24,"Uint8Array"],[64,32,48,34],[64,33,48,35],[64,37,48,39],[64,38,48,40,"oHash"],[64,43,48,45],[64,44,48,46,"outputLen"],[64,53,48,55],[64,54,48,56],[65,6,49,8],[65,10,49,12],[65,11,49,13,"digestInto"],[65,21,49,23],[65,22,49,24,"out"],[65,25,49,27],[65,26,49,28],[66,6,50,8],[66,13,50,15,"out"],[66,16,50,18],[67,4,51,4],[68,4,52,4,"_cloneInto"],[68,14,52,14,"_cloneInto"],[68,15,52,15,"to"],[68,17,52,17],[68,19,52,19],[69,6,53,8],[70,6,54,8,"to"],[70,8,54,10],[70,13,54,15,"to"],[70,15,54,17],[70,18,54,20,"Object"],[70,24,54,26],[70,25,54,27,"create"],[70,31,54,33],[70,32,54,34,"Object"],[70,38,54,40],[70,39,54,41,"getPrototypeOf"],[70,53,54,55],[70,54,54,56],[70,58,54,60],[70,59,54,61],[70,61,54,63],[70,62,54,64],[70,63,54,65],[70,64,54,66],[70,65,54,67],[71,6,55,8],[71,12,55,14],[72,8,55,16,"oHash"],[72,13,55,21],[73,8,55,23,"iHash"],[73,13,55,28],[74,8,55,30,"finished"],[74,16,55,38],[75,8,55,40,"destroyed"],[75,17,55,49],[76,8,55,51,"blockLen"],[76,16,55,59],[77,8,55,61,"outputLen"],[78,6,55,71],[78,7,55,72],[78,10,55,75],[78,14,55,79],[79,6,56,8,"to"],[79,8,56,10],[79,11,56,13,"to"],[79,13,56,15],[80,6,57,8,"to"],[80,8,57,10],[80,9,57,11,"finished"],[80,17,57,19],[80,20,57,22,"finished"],[80,28,57,30],[81,6,58,8,"to"],[81,8,58,10],[81,9,58,11,"destroyed"],[81,18,58,20],[81,21,58,23,"destroyed"],[81,30,58,32],[82,6,59,8,"to"],[82,8,59,10],[82,9,59,11,"blockLen"],[82,17,59,19],[82,20,59,22,"blockLen"],[82,28,59,30],[83,6,60,8,"to"],[83,8,60,10],[83,9,60,11,"outputLen"],[83,18,60,20],[83,21,60,23,"outputLen"],[83,30,60,32],[84,6,61,8,"to"],[84,8,61,10],[84,9,61,11,"oHash"],[84,14,61,16],[84,17,61,19,"oHash"],[84,22,61,24],[84,23,61,25,"_cloneInto"],[84,33,61,35],[84,34,61,36,"to"],[84,36,61,38],[84,37,61,39,"oHash"],[84,42,61,44],[84,43,61,45],[85,6,62,8,"to"],[85,8,62,10],[85,9,62,11,"iHash"],[85,14,62,16],[85,17,62,19,"iHash"],[85,22,62,24],[85,23,62,25,"_cloneInto"],[85,33,62,35],[85,34,62,36,"to"],[85,36,62,38],[85,37,62,39,"iHash"],[85,42,62,44],[85,43,62,45],[86,6,63,8],[86,13,63,15,"to"],[86,15,63,17],[87,4,64,4],[88,4,65,4,"clone"],[88,9,65,9,"clone"],[88,10,65,9],[88,12,65,12],[89,6,66,8],[89,13,66,15],[89,17,66,19],[89,18,66,20,"_cloneInto"],[89,28,66,30],[89,29,66,31],[89,30,66,32],[90,4,67,4],[91,4,68,4,"destroy"],[91,11,68,11,"destroy"],[91,12,68,11],[91,14,68,14],[92,6,69,8],[92,10,69,12],[92,11,69,13,"destroyed"],[92,20,69,22],[92,23,69,25],[92,27,69,29],[93,6,70,8],[93,10,70,12],[93,11,70,13,"oHash"],[93,16,70,18],[93,17,70,19,"destroy"],[93,24,70,26],[93,25,70,27],[93,26,70,28],[94,6,71,8],[94,10,71,12],[94,11,71,13,"iHash"],[94,16,71,18],[94,17,71,19,"destroy"],[94,24,71,26],[94,25,71,27],[94,26,71,28],[95,4,72,4],[96,2,73,0],[97,2,74,0],[98,0,75,0],[99,0,76,0],[100,0,77,0],[101,0,78,0],[102,0,79,0],[103,0,80,0],[104,0,81,0],[105,0,82,0],[106,0,83,0],[107,2,84,7],[107,8,84,13,"hmac"],[107,12,84,17],[107,15,84,20,"hmac"],[107,16,84,21,"hash"],[107,20,84,25],[107,22,84,27,"key"],[107,25,84,30],[107,27,84,32,"message"],[107,34,84,39],[107,39,84,44],[107,43,84,48,"HMAC"],[107,47,84,52],[107,48,84,53,"hash"],[107,52,84,57],[107,54,84,59,"key"],[107,57,84,62],[107,58,84,63],[107,59,84,64,"update"],[107,65,84,70],[107,66,84,71,"message"],[107,73,84,78],[107,74,84,79],[107,75,84,80,"digest"],[107,81,84,86],[107,82,84,87],[107,83,84,88],[108,2,85,0,"hmac"],[108,6,85,4],[108,7,85,5,"create"],[108,13,85,11],[108,16,85,14],[108,17,85,15,"hash"],[108,21,85,19],[108,23,85,21,"key"],[108,26,85,24],[108,31,85,29],[108,35,85,33,"HMAC"],[108,39,85,37],[108,40,85,38,"hash"],[108,44,85,42],[108,46,85,44,"key"],[108,49,85,47],[108,50,85,48],[109,0,85,49],[109,3]],"functionMap":{"names":["<global>","HMAC","HMAC#constructor","HMAC#update","HMAC#digestInto","HMAC#digest","HMAC#_cloneInto","HMAC#clone","HMAC#destroy","hmac","create"],"mappings":"AAA;OCK;ICC;KDyB;IEC;KFI;IGC;KHQ;IIC;KJI;IKC;KLY;IMC;KNE;IOC;KPI;CDC;oBSW,oET;cUC,kCV"},"hasCjsExports":false},"type":"js/module"}]}