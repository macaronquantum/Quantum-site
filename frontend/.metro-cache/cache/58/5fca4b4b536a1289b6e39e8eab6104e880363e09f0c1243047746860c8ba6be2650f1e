{"dependencies":[{"name":"../../accounts/utils/parseAccount.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"/2Bvi5qErxbS6yBB5FzUPODHkYU=","exportNames":["*"],"imports":1}},{"name":"../../utils/abi/decodeFunctionResult.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":70},"end":{"line":2,"column":80,"index":150}}],"key":"kTyTrS0/fV5/YN79eeV1YCQApII=","exportNames":["*"],"imports":1}},{"name":"../../utils/abi/encodeFunctionData.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":151},"end":{"line":3,"column":76,"index":227}}],"key":"OuSySdoC0ezpBCAwaIZplowPkvk=","exportNames":["*"],"imports":1}},{"name":"../../utils/errors/getContractError.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":228},"end":{"line":4,"column":75,"index":303}}],"key":"2ZyOj/YYaqeS/JV5t/CpFmCfhcY=","exportNames":["*"],"imports":1}},{"name":"../../utils/getAction.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":304},"end":{"line":5,"column":53,"index":357}}],"key":"vt4scbNyA2t/tyY0oQJI6AZPJS4=","exportNames":["*"],"imports":1}},{"name":"./call.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":358},"end":{"line":6,"column":33,"index":391}}],"key":"aSmxMv/g2RJz56PpxDSq10PV1HA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.simulateContract = simulateContract;\n  var _accountsUtilsParseAccountJs = require(_dependencyMap[0], \"../../accounts/utils/parseAccount.js\");\n  var _utilsAbiDecodeFunctionResultJs = require(_dependencyMap[1], \"../../utils/abi/decodeFunctionResult.js\");\n  var _utilsAbiEncodeFunctionDataJs = require(_dependencyMap[2], \"../../utils/abi/encodeFunctionData.js\");\n  var _utilsErrorsGetContractErrorJs = require(_dependencyMap[3], \"../../utils/errors/getContractError.js\");\n  var _utilsGetActionJs = require(_dependencyMap[4], \"../../utils/getAction.js\");\n  var _callJs = require(_dependencyMap[5], \"./call.js\");\n  /**\n   * Simulates/validates a contract interaction. This is useful for retrieving **return data** and **revert reasons** of contract write functions.\n   *\n   * - Docs: https://viem.sh/docs/contract/simulateContract\n   * - Examples: https://stackblitz.com/github/wevm/viem/tree/main/examples/contracts_writing-to-contracts\n   *\n   * This function does not require gas to execute and _**does not**_ change the state of the blockchain. It is almost identical to [`readContract`](https://viem.sh/docs/contract/readContract), but also supports contract write functions.\n   *\n   * Internally, uses a [Public Client](https://viem.sh/docs/clients/public) to call the [`call` action](https://viem.sh/docs/actions/public/call) with [ABI-encoded `data`](https://viem.sh/docs/contract/encodeFunctionData).\n   *\n   * @param client - Client to use\n   * @param parameters - {@link SimulateContractParameters}\n   * @returns The simulation result and write request. {@link SimulateContractReturnType}\n   *\n   * @example\n   * import { createPublicClient, http } from 'viem'\n   * import { mainnet } from 'viem/chains'\n   * import { simulateContract } from 'viem/contract'\n   *\n   * const client = createPublicClient({\n   *   chain: mainnet,\n   *   transport: http(),\n   * })\n   * const result = await simulateContract(client, {\n   *   address: '0xFBA3912Ca04dd458c843e2EE08967fC04f3579c2',\n   *   abi: parseAbi(['function mint(uint32) view returns (uint32)']),\n   *   functionName: 'mint',\n   *   args: ['69420'],\n   *   account: '0xA0Cf798816D4b9b9866b5330EEa46a18382f251e',\n   * })\n   */\n  async function simulateContract(client, parameters) {\n    const {\n      abi,\n      address,\n      args,\n      dataSuffix,\n      functionName,\n      ...callRequest\n    } = parameters;\n    const account = callRequest.account ? (0, _accountsUtilsParseAccountJs.parseAccount)(callRequest.account) : client.account;\n    const calldata = (0, _utilsAbiEncodeFunctionDataJs.encodeFunctionData)({\n      abi,\n      args,\n      functionName\n    });\n    try {\n      const {\n        data\n      } = await (0, _utilsGetActionJs.getAction)(client, _callJs.call, 'call')({\n        batch: false,\n        data: `${calldata}${dataSuffix ? dataSuffix.replace('0x', '') : ''}`,\n        to: address,\n        ...callRequest,\n        account\n      });\n      const result = (0, _utilsAbiDecodeFunctionResultJs.decodeFunctionResult)({\n        abi,\n        args,\n        functionName,\n        data: data || '0x'\n      });\n      const minimizedAbi = abi.filter(abiItem => 'name' in abiItem && abiItem.name === parameters.functionName);\n      return {\n        result,\n        request: {\n          abi: minimizedAbi,\n          address,\n          args,\n          dataSuffix,\n          functionName,\n          ...callRequest,\n          account\n        }\n      };\n    } catch (error) {\n      throw (0, _utilsErrorsGetContractErrorJs.getContractError)(error, {\n        abi,\n        address,\n        args,\n        docsPath: '/docs/contract/simulateContract',\n        functionName,\n        sender: account?.address\n      });\n    }\n  }\n});","lineCount":100,"map":[[7,2,38,0,"exports"],[7,9,38,0],[7,10,38,0,"simulateContract"],[7,26,38,0],[7,29,38,0,"simulateContract"],[7,45,38,0],[8,2,1,0],[8,6,1,0,"_accountsUtilsParseAccountJs"],[8,34,1,0],[8,37,1,0,"require"],[8,44,1,0],[8,45,1,0,"_dependencyMap"],[8,59,1,0],[9,2,2,0],[9,6,2,0,"_utilsAbiDecodeFunctionResultJs"],[9,37,2,0],[9,40,2,0,"require"],[9,47,2,0],[9,48,2,0,"_dependencyMap"],[9,62,2,0],[10,2,3,0],[10,6,3,0,"_utilsAbiEncodeFunctionDataJs"],[10,35,3,0],[10,38,3,0,"require"],[10,45,3,0],[10,46,3,0,"_dependencyMap"],[10,60,3,0],[11,2,4,0],[11,6,4,0,"_utilsErrorsGetContractErrorJs"],[11,36,4,0],[11,39,4,0,"require"],[11,46,4,0],[11,47,4,0,"_dependencyMap"],[11,61,4,0],[12,2,5,0],[12,6,5,0,"_utilsGetActionJs"],[12,23,5,0],[12,26,5,0,"require"],[12,33,5,0],[12,34,5,0,"_dependencyMap"],[12,48,5,0],[13,2,6,0],[13,6,6,0,"_callJs"],[13,13,6,0],[13,16,6,0,"require"],[13,23,6,0],[13,24,6,0,"_dependencyMap"],[13,38,6,0],[14,2,7,0],[15,0,8,0],[16,0,9,0],[17,0,10,0],[18,0,11,0],[19,0,12,0],[20,0,13,0],[21,0,14,0],[22,0,15,0],[23,0,16,0],[24,0,17,0],[25,0,18,0],[26,0,19,0],[27,0,20,0],[28,0,21,0],[29,0,22,0],[30,0,23,0],[31,0,24,0],[32,0,25,0],[33,0,26,0],[34,0,27,0],[35,0,28,0],[36,0,29,0],[37,0,30,0],[38,0,31,0],[39,0,32,0],[40,0,33,0],[41,0,34,0],[42,0,35,0],[43,0,36,0],[44,0,37,0],[45,2,38,7],[45,17,38,22,"simulateContract"],[45,33,38,38,"simulateContract"],[45,34,38,39,"client"],[45,40,38,45],[45,42,38,47,"parameters"],[45,52,38,57],[45,54,38,59],[46,4,39,4],[46,10,39,10],[47,6,39,12,"abi"],[47,9,39,15],[48,6,39,17,"address"],[48,13,39,24],[49,6,39,26,"args"],[49,10,39,30],[50,6,39,32,"dataSuffix"],[50,16,39,42],[51,6,39,44,"functionName"],[51,18,39,56],[52,6,39,58],[52,9,39,61,"callRequest"],[53,4,39,73],[53,5,39,74],[53,8,39,77,"parameters"],[53,18,39,87],[54,4,40,4],[54,10,40,10,"account"],[54,17,40,17],[54,20,40,20,"callRequest"],[54,31,40,31],[54,32,40,32,"account"],[54,39,40,39],[54,42,41,10],[54,46,41,10,"parseAccount"],[54,74,41,22],[54,75,41,22,"parseAccount"],[54,87,41,22],[54,89,41,23,"callRequest"],[54,100,41,34],[54,101,41,35,"account"],[54,108,41,42],[54,109,41,43],[54,112,42,10,"client"],[54,118,42,16],[54,119,42,17,"account"],[54,126,42,24],[55,4,43,4],[55,10,43,10,"calldata"],[55,18,43,18],[55,21,43,21],[55,25,43,21,"encodeFunctionData"],[55,54,43,39],[55,55,43,39,"encodeFunctionData"],[55,73,43,39],[55,75,43,40],[56,6,43,42,"abi"],[56,9,43,45],[57,6,43,47,"args"],[57,10,43,51],[58,6,43,53,"functionName"],[59,4,43,66],[59,5,43,67],[59,6,43,68],[60,4,44,4],[60,8,44,8],[61,6,45,8],[61,12,45,14],[62,8,45,16,"data"],[63,6,45,21],[63,7,45,22],[63,10,45,25],[63,16,45,31],[63,20,45,31,"getAction"],[63,37,45,40],[63,38,45,40,"getAction"],[63,47,45,40],[63,49,45,41,"client"],[63,55,45,47],[63,57,45,49,"call"],[63,64,45,53],[63,65,45,53,"call"],[63,69,45,53],[63,71,45,55],[63,77,45,61],[63,78,45,62],[63,79,45,63],[64,8,46,12,"batch"],[64,13,46,17],[64,15,46,19],[64,20,46,24],[65,8,47,12,"data"],[65,12,47,16],[65,14,47,18],[65,17,47,21,"calldata"],[65,25,47,29],[65,28,47,32,"dataSuffix"],[65,38,47,42],[65,41,47,45,"dataSuffix"],[65,51,47,55],[65,52,47,56,"replace"],[65,59,47,63],[65,60,47,64],[65,64,47,68],[65,66,47,70],[65,68,47,72],[65,69,47,73],[65,72,47,76],[65,74,47,78],[65,76,47,80],[66,8,48,12,"to"],[66,10,48,14],[66,12,48,16,"address"],[66,19,48,23],[67,8,49,12],[67,11,49,15,"callRequest"],[67,22,49,26],[68,8,50,12,"account"],[69,6,51,8],[69,7,51,9],[69,8,51,10],[70,6,52,8],[70,12,52,14,"result"],[70,18,52,20],[70,21,52,23],[70,25,52,23,"decodeFunctionResult"],[70,56,52,43],[70,57,52,43,"decodeFunctionResult"],[70,77,52,43],[70,79,52,44],[71,8,53,12,"abi"],[71,11,53,15],[72,8,54,12,"args"],[72,12,54,16],[73,8,55,12,"functionName"],[73,20,55,24],[74,8,56,12,"data"],[74,12,56,16],[74,14,56,18,"data"],[74,18,56,22],[74,22,56,26],[75,6,57,8],[75,7,57,9],[75,8,57,10],[76,6,58,8],[76,12,58,14,"minimizedAbi"],[76,24,58,26],[76,27,58,29,"abi"],[76,30,58,32],[76,31,58,33,"filter"],[76,37,58,39],[76,38,58,41,"abiItem"],[76,45,58,48],[76,49,58,53],[76,55,58,59],[76,59,58,63,"abiItem"],[76,66,58,70],[76,70,58,74,"abiItem"],[76,77,58,81],[76,78,58,82,"name"],[76,82,58,86],[76,87,58,91,"parameters"],[76,97,58,101],[76,98,58,102,"functionName"],[76,110,58,114],[76,111,58,115],[77,6,59,8],[77,13,59,15],[78,8,60,12,"result"],[78,14,60,18],[79,8,61,12,"request"],[79,15,61,19],[79,17,61,21],[80,10,62,16,"abi"],[80,13,62,19],[80,15,62,21,"minimizedAbi"],[80,27,62,33],[81,10,63,16,"address"],[81,17,63,23],[82,10,64,16,"args"],[82,14,64,20],[83,10,65,16,"dataSuffix"],[83,20,65,26],[84,10,66,16,"functionName"],[84,22,66,28],[85,10,67,16],[85,13,67,19,"callRequest"],[85,24,67,30],[86,10,68,16,"account"],[87,8,69,12],[88,6,70,8],[88,7,70,9],[89,4,71,4],[89,5,71,5],[89,6,72,4],[89,13,72,11,"error"],[89,18,72,16],[89,20,72,18],[90,6,73,8],[90,12,73,14],[90,16,73,14,"getContractError"],[90,46,73,30],[90,47,73,30,"getContractError"],[90,63,73,30],[90,65,73,31,"error"],[90,70,73,36],[90,72,73,38],[91,8,74,12,"abi"],[91,11,74,15],[92,8,75,12,"address"],[92,15,75,19],[93,8,76,12,"args"],[93,12,76,16],[94,8,77,12,"docsPath"],[94,16,77,20],[94,18,77,22],[94,51,77,55],[95,8,78,12,"functionName"],[95,20,78,24],[96,8,79,12,"sender"],[96,14,79,18],[96,16,79,20,"account"],[96,23,79,27],[96,25,79,29,"address"],[97,6,80,8],[97,7,80,9],[97,8,80,10],[98,4,81,4],[99,2,82,0],[100,0,82,1],[100,3]],"functionMap":{"names":["<global>","simulateContract","abi.filter$argument_0"],"mappings":"AAA;OCqC;wCCoB,0ED;CDwB"},"hasCjsExports":false},"type":"js/module"}]}