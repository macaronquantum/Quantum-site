{"dependencies":[{"name":"../core/AbiParameters.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":58,"index":58}}],"key":"mwz4HqwSxOxyIKlrKH2dcljIk7E=","exportNames":["*"],"imports":1}},{"name":"../core/Address.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":59},"end":{"line":2,"column":46,"index":105}}],"key":"shJp7Q24AsrjXs0i3pwyJCeYA8s=","exportNames":["*"],"imports":1}},{"name":"../core/Hash.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":106},"end":{"line":3,"column":40,"index":146}}],"key":"X5FUpgcBsw3nZLkxH8jxeVqfKKs=","exportNames":["*"],"imports":1}},{"name":"../core/Hex.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":147},"end":{"line":4,"column":38,"index":185}}],"key":"PQonHNjYnPEqTcMveCAIm3LDrLI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  exports.from = from;\n  exports.fromAddress = fromAddress;\n  exports.toAddress = toAddress;\n  exports.compute = compute;\n  var _coreAbiParametersJs = require(_dependencyMap[0], \"../core/AbiParameters.js\");\n  var AbiParameters = _interopNamespace(_coreAbiParametersJs);\n  var _coreAddressJs = require(_dependencyMap[1], \"../core/Address.js\");\n  var Address = _interopNamespace(_coreAddressJs);\n  var _coreHashJs = require(_dependencyMap[2], \"../core/Hash.js\");\n  var Hash = _interopNamespace(_coreHashJs);\n  var _coreHexJs = require(_dependencyMap[3], \"../core/Hex.js\");\n  var Hex = _interopNamespace(_coreHexJs);\n  const tip20Prefix = '0x20c0';\n  /**\n   * Converts a token ID or address to a token ID.\n   *\n   * TIP-20 is Tempo's native token standard for stablecoins with deterministic addresses\n   * derived from sequential token IDs (prefix `0x20c0`).\n   *\n   * [TIP-20 Token Standard](https://docs.tempo.xyz/protocol/tip20/overview)\n   *\n   * @example\n   * ```ts twoslash\n   * import { TokenId } from 'ox/tempo'\n   *\n   * const tokenId = TokenId.from(1n)\n   * ```\n   *\n   * @param tokenIdOrAddress - The token ID or address.\n   * @returns The token ID.\n   */\n  function from(tokenIdOrAddress) {\n    if (typeof tokenIdOrAddress === 'bigint' || typeof tokenIdOrAddress === 'number') return BigInt(tokenIdOrAddress);\n    return fromAddress(tokenIdOrAddress);\n  }\n  /**\n   * Converts a TIP-20 token address to a token ID.\n   *\n   * [TIP-20 Token Standard](https://docs.tempo.xyz/protocol/tip20/overview)\n   *\n   * @example\n   * ```ts twoslash\n   * import { TokenId } from 'ox/tempo'\n   *\n   * const tokenId = TokenId.fromAddress('0x20c00000000000000000000000000000000000000001')\n   * ```\n   *\n   * @param address - The token address.\n   * @returns The token ID.\n   */\n  function fromAddress(address) {\n    if (!address.toLowerCase().startsWith(tip20Prefix)) throw new Error('invalid tip20 address.');\n    return Hex.toBigInt(Hex.slice(address, tip20Prefix.length));\n  }\n  /**\n   * Converts a TIP-20 token ID to an address.\n   *\n   * [TIP-20 Token Standard](https://docs.tempo.xyz/protocol/tip20/overview)\n   *\n   * @example\n   * ```ts twoslash\n   * import { TokenId } from 'ox/tempo'\n   *\n   * const address = TokenId.toAddress(1n)\n   * ```\n   *\n   * @param tokenId - The token ID.\n   * @returns The address.\n   */\n  function toAddress(tokenId) {\n    if (typeof tokenId === 'string') {\n      Address.assert(tokenId);\n      return tokenId;\n    }\n    const tokenIdHex = Hex.fromNumber(tokenId, {\n      size: 18\n    });\n    return Hex.concat(tip20Prefix, tokenIdHex);\n  }\n  /**\n   * Computes a deterministic TIP-20 token address from a sender address and salt.\n   *\n   * The address is computed as: `TIP20_PREFIX (12 bytes) || keccak256(abi.encode(sender, salt))[:8]`\n   *\n   * [TIP-20 Token Standard](https://docs.tempo.xyz/protocol/tip20/overview)\n   *\n   * @example\n   * ```ts twoslash\n   * import { TokenId } from 'ox/tempo'\n   *\n   * const id = TokenId.compute({\n   *   sender: '0x1234567890123456789012345678901234567890',\n   *   salt: '0x0000000000000000000000000000000000000000000000000000000000000001',\n   * })\n   * ```\n   *\n   * @param value - The sender address and salt.\n   * @returns The computed TIP-20 token id.\n   */\n  function compute(value) {\n    const hash = Hash.keccak256(AbiParameters.encode(AbiParameters.from('address, bytes32'), [value.sender, value.salt]));\n    return Hex.toBigInt(Hex.slice(hash, 0, 8));\n  }\n});","lineCount":125,"map":[[22,2,24,0,"exports"],[22,9,24,0],[22,10,24,0,"from"],[22,14,24,0],[22,17,24,0,"from"],[22,21,24,0],[23,2,45,0,"exports"],[23,9,45,0],[23,10,45,0,"fromAddress"],[23,21,45,0],[23,24,45,0,"fromAddress"],[23,35,45,0],[24,2,65,0,"exports"],[24,9,65,0],[24,10,65,0,"toAddress"],[24,19,65,0],[24,22,65,0,"toAddress"],[24,31,65,0],[25,2,93,0,"exports"],[25,9,93,0],[25,10,93,0,"compute"],[25,17,93,0],[25,20,93,0,"compute"],[25,27,93,0],[26,2,1,0],[26,6,1,0,"_coreAbiParametersJs"],[26,26,1,0],[26,29,1,0,"require"],[26,36,1,0],[26,37,1,0,"_dependencyMap"],[26,51,1,0],[27,2,1,0],[27,6,1,0,"AbiParameters"],[27,19,1,0],[27,22,1,0,"_interopNamespace"],[27,39,1,0],[27,40,1,0,"_coreAbiParametersJs"],[27,60,1,0],[28,2,2,0],[28,6,2,0,"_coreAddressJs"],[28,20,2,0],[28,23,2,0,"require"],[28,30,2,0],[28,31,2,0,"_dependencyMap"],[28,45,2,0],[29,2,2,0],[29,6,2,0,"Address"],[29,13,2,0],[29,16,2,0,"_interopNamespace"],[29,33,2,0],[29,34,2,0,"_coreAddressJs"],[29,48,2,0],[30,2,3,0],[30,6,3,0,"_coreHashJs"],[30,17,3,0],[30,20,3,0,"require"],[30,27,3,0],[30,28,3,0,"_dependencyMap"],[30,42,3,0],[31,2,3,0],[31,6,3,0,"Hash"],[31,10,3,0],[31,13,3,0,"_interopNamespace"],[31,30,3,0],[31,31,3,0,"_coreHashJs"],[31,42,3,0],[32,2,4,0],[32,6,4,0,"_coreHexJs"],[32,16,4,0],[32,19,4,0,"require"],[32,26,4,0],[32,27,4,0,"_dependencyMap"],[32,41,4,0],[33,2,4,0],[33,6,4,0,"Hex"],[33,9,4,0],[33,12,4,0,"_interopNamespace"],[33,29,4,0],[33,30,4,0,"_coreHexJs"],[33,40,4,0],[34,2,5,0],[34,8,5,6,"tip20Prefix"],[34,19,5,17],[34,22,5,20],[34,30,5,28],[35,2,6,0],[36,0,7,0],[37,0,8,0],[38,0,9,0],[39,0,10,0],[40,0,11,0],[41,0,12,0],[42,0,13,0],[43,0,14,0],[44,0,15,0],[45,0,16,0],[46,0,17,0],[47,0,18,0],[48,0,19,0],[49,0,20,0],[50,0,21,0],[51,0,22,0],[52,0,23,0],[53,2,24,7],[53,11,24,16,"from"],[53,15,24,20,"from"],[53,16,24,21,"tokenIdOrAddress"],[53,32,24,37],[53,34,24,39],[54,4,25,4],[54,8,25,8],[54,15,25,15,"tokenIdOrAddress"],[54,31,25,31],[54,36,25,36],[54,44,25,44],[54,48,26,8],[54,55,26,15,"tokenIdOrAddress"],[54,71,26,31],[54,76,26,36],[54,84,26,44],[54,86,27,8],[54,93,27,15,"BigInt"],[54,99,27,21],[54,100,27,22,"tokenIdOrAddress"],[54,116,27,38],[54,117,27,39],[55,4,28,4],[55,11,28,11,"fromAddress"],[55,22,28,22],[55,23,28,23,"tokenIdOrAddress"],[55,39,28,39],[55,40,28,40],[56,2,29,0],[57,2,30,0],[58,0,31,0],[59,0,32,0],[60,0,33,0],[61,0,34,0],[62,0,35,0],[63,0,36,0],[64,0,37,0],[65,0,38,0],[66,0,39,0],[67,0,40,0],[68,0,41,0],[69,0,42,0],[70,0,43,0],[71,0,44,0],[72,2,45,7],[72,11,45,16,"fromAddress"],[72,22,45,27,"fromAddress"],[72,23,45,28,"address"],[72,30,45,35],[72,32,45,37],[73,4,46,4],[73,8,46,8],[73,9,46,9,"address"],[73,16,46,16],[73,17,46,17,"toLowerCase"],[73,28,46,28],[73,29,46,29],[73,30,46,30],[73,31,46,31,"startsWith"],[73,41,46,41],[73,42,46,42,"tip20Prefix"],[73,53,46,53],[73,54,46,54],[73,56,47,8],[73,62,47,14],[73,66,47,18,"Error"],[73,71,47,23],[73,72,47,24],[73,96,47,48],[73,97,47,49],[74,4,48,4],[74,11,48,11,"Hex"],[74,14,48,14],[74,15,48,15,"toBigInt"],[74,23,48,23],[74,24,48,24,"Hex"],[74,27,48,27],[74,28,48,28,"slice"],[74,33,48,33],[74,34,48,34,"address"],[74,41,48,41],[74,43,48,43,"tip20Prefix"],[74,54,48,54],[74,55,48,55,"length"],[74,61,48,61],[74,62,48,62],[74,63,48,63],[75,2,49,0],[76,2,50,0],[77,0,51,0],[78,0,52,0],[79,0,53,0],[80,0,54,0],[81,0,55,0],[82,0,56,0],[83,0,57,0],[84,0,58,0],[85,0,59,0],[86,0,60,0],[87,0,61,0],[88,0,62,0],[89,0,63,0],[90,0,64,0],[91,2,65,7],[91,11,65,16,"toAddress"],[91,20,65,25,"toAddress"],[91,21,65,26,"tokenId"],[91,28,65,33],[91,30,65,35],[92,4,66,4],[92,8,66,8],[92,15,66,15,"tokenId"],[92,22,66,22],[92,27,66,27],[92,35,66,35],[92,37,66,37],[93,6,67,8,"Address"],[93,13,67,15],[93,14,67,16,"assert"],[93,20,67,22],[93,21,67,23,"tokenId"],[93,28,67,30],[93,29,67,31],[94,6,68,8],[94,13,68,15,"tokenId"],[94,20,68,22],[95,4,69,4],[96,4,70,4],[96,10,70,10,"tokenIdHex"],[96,20,70,20],[96,23,70,23,"Hex"],[96,26,70,26],[96,27,70,27,"fromNumber"],[96,37,70,37],[96,38,70,38,"tokenId"],[96,45,70,45],[96,47,70,47],[97,6,70,49,"size"],[97,10,70,53],[97,12,70,55],[98,4,70,58],[98,5,70,59],[98,6,70,60],[99,4,71,4],[99,11,71,11,"Hex"],[99,14,71,14],[99,15,71,15,"concat"],[99,21,71,21],[99,22,71,22,"tip20Prefix"],[99,33,71,33],[99,35,71,35,"tokenIdHex"],[99,45,71,45],[99,46,71,46],[100,2,72,0],[101,2,73,0],[102,0,74,0],[103,0,75,0],[104,0,76,0],[105,0,77,0],[106,0,78,0],[107,0,79,0],[108,0,80,0],[109,0,81,0],[110,0,82,0],[111,0,83,0],[112,0,84,0],[113,0,85,0],[114,0,86,0],[115,0,87,0],[116,0,88,0],[117,0,89,0],[118,0,90,0],[119,0,91,0],[120,0,92,0],[121,2,93,7],[121,11,93,16,"compute"],[121,18,93,23,"compute"],[121,19,93,24,"value"],[121,24,93,29],[121,26,93,31],[122,4,94,4],[122,10,94,10,"hash"],[122,14,94,14],[122,17,94,17,"Hash"],[122,21,94,21],[122,22,94,22,"keccak256"],[122,31,94,31],[122,32,94,32,"AbiParameters"],[122,45,94,45],[122,46,94,46,"encode"],[122,52,94,52],[122,53,94,53,"AbiParameters"],[122,66,94,66],[122,67,94,67,"from"],[122,71,94,71],[122,72,94,72],[122,90,94,90],[122,91,94,91],[122,93,94,93],[122,94,95,8,"value"],[122,99,95,13],[122,100,95,14,"sender"],[122,106,95,20],[122,108,96,8,"value"],[122,113,96,13],[122,114,96,14,"salt"],[122,118,96,18],[122,119,97,5],[122,120,97,6],[122,121,97,7],[123,4,98,4],[123,11,98,11,"Hex"],[123,14,98,14],[123,15,98,15,"toBigInt"],[123,23,98,23],[123,24,98,24,"Hex"],[123,27,98,27],[123,28,98,28,"slice"],[123,33,98,33],[123,34,98,34,"hash"],[123,38,98,38],[123,40,98,40],[123,41,98,41],[123,43,98,43],[123,44,98,44],[123,45,98,45],[123,46,98,46],[124,2,99,0],[125,0,99,1],[125,3]],"functionMap":{"names":["<global>","from","fromAddress","toAddress","compute"],"mappings":"AAA;OCuB;CDK;OEgB;CFI;OGgB;CHO;OIqB;CJM"},"hasCjsExports":false},"type":"js/module"}]}