{"dependencies":[{"name":"../functions/satisfies.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":18,"index":238},"end":{"line":6,"column":54,"index":274}}],"key":"JzpAMR+3+zYQRO4Lp3KPCMjdNhk=","exportNames":["*"],"imports":1}},{"name":"../functions/compare.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":16,"index":291},"end":{"line":7,"column":50,"index":325}}],"key":"Z6vmgGD1xL/BLi9YVUhGKcnpxuU=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  // given a set of versions and a range, create a \"simplified\" range\n  // that includes the same versions that the original range does\n  // If the original range is shorter than the simplified one, return that.\n  const satisfies = require(_dependencyMap[0], \"../functions/satisfies.js\");\n  const compare = require(_dependencyMap[1], \"../functions/compare.js\");\n  module.exports = (versions, range, options) => {\n    const set = [];\n    let first = null;\n    let prev = null;\n    const v = versions.sort((a, b) => compare(a, b, options));\n    for (const version of v) {\n      const included = satisfies(version, range, options);\n      if (included) {\n        prev = version;\n        if (!first) {\n          first = version;\n        }\n      } else {\n        if (prev) {\n          set.push([first, prev]);\n        }\n        prev = null;\n        first = null;\n      }\n    }\n    if (first) {\n      set.push([first, null]);\n    }\n    const ranges = [];\n    for (const [min, max] of set) {\n      if (min === max) {\n        ranges.push(min);\n      } else if (!max && min === v[0]) {\n        ranges.push('*');\n      } else if (!max) {\n        ranges.push(`>=${min}`);\n      } else if (min === v[0]) {\n        ranges.push(`<=${max}`);\n      } else {\n        ranges.push(`${min} - ${max}`);\n      }\n    }\n    const simplified = ranges.join(' || ');\n    const original = typeof range.raw === 'string' ? range.raw : String(range);\n    return simplified.length < original.length ? simplified : range;\n  };\n});","lineCount":50,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0],[5,2,4,0],[6,2,5,0],[7,2,6,0],[7,8,6,6,"satisfies"],[7,17,6,15],[7,20,6,18,"require"],[7,27,6,25],[7,28,6,25,"_dependencyMap"],[7,42,6,25],[7,74,6,53],[7,75,6,54],[8,2,7,0],[8,8,7,6,"compare"],[8,15,7,13],[8,18,7,16,"require"],[8,25,7,23],[8,26,7,23,"_dependencyMap"],[8,40,7,23],[8,70,7,49],[8,71,7,50],[9,2,8,0,"module"],[9,8,8,6],[9,9,8,7,"exports"],[9,16,8,14],[9,19,8,17],[9,20,8,18,"versions"],[9,28,8,26],[9,30,8,28,"range"],[9,35,8,33],[9,37,8,35,"options"],[9,44,8,42],[9,49,8,47],[10,4,9,2],[10,10,9,8,"set"],[10,13,9,11],[10,16,9,14],[10,18,9,16],[11,4,10,2],[11,8,10,6,"first"],[11,13,10,11],[11,16,10,14],[11,20,10,18],[12,4,11,2],[12,8,11,6,"prev"],[12,12,11,10],[12,15,11,13],[12,19,11,17],[13,4,12,2],[13,10,12,8,"v"],[13,11,12,9],[13,14,12,12,"versions"],[13,22,12,20],[13,23,12,21,"sort"],[13,27,12,25],[13,28,12,26],[13,29,12,27,"a"],[13,30,12,28],[13,32,12,30,"b"],[13,33,12,31],[13,38,12,36,"compare"],[13,45,12,43],[13,46,12,44,"a"],[13,47,12,45],[13,49,12,47,"b"],[13,50,12,48],[13,52,12,50,"options"],[13,59,12,57],[13,60,12,58],[13,61,12,59],[14,4,13,2],[14,9,13,7],[14,15,13,13,"version"],[14,22,13,20],[14,26,13,24,"v"],[14,27,13,25],[14,29,13,27],[15,6,14,4],[15,12,14,10,"included"],[15,20,14,18],[15,23,14,21,"satisfies"],[15,32,14,30],[15,33,14,31,"version"],[15,40,14,38],[15,42,14,40,"range"],[15,47,14,45],[15,49,14,47,"options"],[15,56,14,54],[15,57,14,55],[16,6,15,4],[16,10,15,8,"included"],[16,18,15,16],[16,20,15,18],[17,8,16,6,"prev"],[17,12,16,10],[17,15,16,13,"version"],[17,22,16,20],[18,8,17,6],[18,12,17,10],[18,13,17,11,"first"],[18,18,17,16],[18,20,17,18],[19,10,18,8,"first"],[19,15,18,13],[19,18,18,16,"version"],[19,25,18,23],[20,8,19,6],[21,6,20,4],[21,7,20,5],[21,13,20,11],[22,8,21,6],[22,12,21,10,"prev"],[22,16,21,14],[22,18,21,16],[23,10,22,8,"set"],[23,13,22,11],[23,14,22,12,"push"],[23,18,22,16],[23,19,22,17],[23,20,22,18,"first"],[23,25,22,23],[23,27,22,25,"prev"],[23,31,22,29],[23,32,22,30],[23,33,22,31],[24,8,23,6],[25,8,24,6,"prev"],[25,12,24,10],[25,15,24,13],[25,19,24,17],[26,8,25,6,"first"],[26,13,25,11],[26,16,25,14],[26,20,25,18],[27,6,26,4],[28,4,27,2],[29,4,28,2],[29,8,28,6,"first"],[29,13,28,11],[29,15,28,13],[30,6,29,4,"set"],[30,9,29,7],[30,10,29,8,"push"],[30,14,29,12],[30,15,29,13],[30,16,29,14,"first"],[30,21,29,19],[30,23,29,21],[30,27,29,25],[30,28,29,26],[30,29,29,27],[31,4,30,2],[32,4,32,2],[32,10,32,8,"ranges"],[32,16,32,14],[32,19,32,17],[32,21,32,19],[33,4,33,2],[33,9,33,7],[33,15,33,13],[33,16,33,14,"min"],[33,19,33,17],[33,21,33,19,"max"],[33,24,33,22],[33,25,33,23],[33,29,33,27,"set"],[33,32,33,30],[33,34,33,32],[34,6,34,4],[34,10,34,8,"min"],[34,13,34,11],[34,18,34,16,"max"],[34,21,34,19],[34,23,34,21],[35,8,35,6,"ranges"],[35,14,35,12],[35,15,35,13,"push"],[35,19,35,17],[35,20,35,18,"min"],[35,23,35,21],[35,24,35,22],[36,6,36,4],[36,7,36,5],[36,13,36,11],[36,17,36,15],[36,18,36,16,"max"],[36,21,36,19],[36,25,36,23,"min"],[36,28,36,26],[36,33,36,31,"v"],[36,34,36,32],[36,35,36,33],[36,36,36,34],[36,37,36,35],[36,39,36,37],[37,8,37,6,"ranges"],[37,14,37,12],[37,15,37,13,"push"],[37,19,37,17],[37,20,37,18],[37,23,37,21],[37,24,37,22],[38,6,38,4],[38,7,38,5],[38,13,38,11],[38,17,38,15],[38,18,38,16,"max"],[38,21,38,19],[38,23,38,21],[39,8,39,6,"ranges"],[39,14,39,12],[39,15,39,13,"push"],[39,19,39,17],[39,20,39,18],[39,25,39,23,"min"],[39,28,39,26],[39,30,39,28],[39,31,39,29],[40,6,40,4],[40,7,40,5],[40,13,40,11],[40,17,40,15,"min"],[40,20,40,18],[40,25,40,23,"v"],[40,26,40,24],[40,27,40,25],[40,28,40,26],[40,29,40,27],[40,31,40,29],[41,8,41,6,"ranges"],[41,14,41,12],[41,15,41,13,"push"],[41,19,41,17],[41,20,41,18],[41,25,41,23,"max"],[41,28,41,26],[41,30,41,28],[41,31,41,29],[42,6,42,4],[42,7,42,5],[42,13,42,11],[43,8,43,6,"ranges"],[43,14,43,12],[43,15,43,13,"push"],[43,19,43,17],[43,20,43,18],[43,23,43,21,"min"],[43,26,43,24],[43,32,43,30,"max"],[43,35,43,33],[43,37,43,35],[43,38,43,36],[44,6,44,4],[45,4,45,2],[46,4,46,2],[46,10,46,8,"simplified"],[46,20,46,18],[46,23,46,21,"ranges"],[46,29,46,27],[46,30,46,28,"join"],[46,34,46,32],[46,35,46,33],[46,41,46,39],[46,42,46,40],[47,4,47,2],[47,10,47,8,"original"],[47,18,47,16],[47,21,47,19],[47,28,47,26,"range"],[47,33,47,31],[47,34,47,32,"raw"],[47,37,47,35],[47,42,47,40],[47,50,47,48],[47,53,47,51,"range"],[47,58,47,56],[47,59,47,57,"raw"],[47,62,47,60],[47,65,47,63,"String"],[47,71,47,69],[47,72,47,70,"range"],[47,77,47,75],[47,78,47,76],[48,4,48,2],[48,11,48,9,"simplified"],[48,21,48,19],[48,22,48,20,"length"],[48,28,48,26],[48,31,48,29,"original"],[48,39,48,37],[48,40,48,38,"length"],[48,46,48,44],[48,49,48,47,"simplified"],[48,59,48,57],[48,62,48,60,"range"],[48,67,48,65],[49,2,49,0],[49,3,49,1],[50,0,49,1],[50,3]],"functionMap":{"names":["<global>","module.exports","versions.sort$argument_0"],"mappings":"AAA;iBCO;0BCI,gCD;CDqC"},"hasCjsExports":true},"type":"js/module"}]}